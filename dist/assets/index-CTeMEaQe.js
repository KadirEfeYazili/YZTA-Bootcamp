(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function xc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Tf={exports:{}},Ua={},If={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $g;function YE(){if($g)return Fe;$g=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function T(F){return F===null||typeof F!="object"?null:(F=w&&F[w]||F["@@iterator"],typeof F=="function"?F:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,M={};function B(F,Y,C){this.props=F,this.context=Y,this.refs=M,this.updater=C||I}B.prototype.isReactComponent={},B.prototype.setState=function(F,Y){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Y,"setState")},B.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function H(){}H.prototype=B.prototype;function re(F,Y,C){this.props=F,this.context=Y,this.refs=M,this.updater=C||I}var Z=re.prototype=new H;Z.constructor=re,U(Z,B.prototype),Z.isPureReactComponent=!0;var he=Array.isArray,ke=Object.prototype.hasOwnProperty,Q={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function A(F,Y,C){var Se,Re={},we=null,Ue=null;if(Y!=null)for(Se in Y.ref!==void 0&&(Ue=Y.ref),Y.key!==void 0&&(we=""+Y.key),Y)ke.call(Y,Se)&&!b.hasOwnProperty(Se)&&(Re[Se]=Y[Se]);var Me=arguments.length-2;if(Me===1)Re.children=C;else if(1<Me){for(var Ke=Array(Me),ot=0;ot<Me;ot++)Ke[ot]=arguments[ot+2];Re.children=Ke}if(F&&F.defaultProps)for(Se in Me=F.defaultProps,Me)Re[Se]===void 0&&(Re[Se]=Me[Se]);return{$$typeof:n,type:F,key:we,ref:Ue,props:Re,_owner:Q.current}}function P(F,Y){return{$$typeof:n,type:F.type,key:Y,ref:F.ref,props:F.props,_owner:F._owner}}function D(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function N(F){var Y={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(C){return Y[C]})}var O=/\/+/g;function S(F,Y){return typeof F=="object"&&F!==null&&F.key!=null?N(""+F.key):Y.toString(36)}function ue(F,Y,C,Se,Re){var we=typeof F;(we==="undefined"||we==="boolean")&&(F=null);var Ue=!1;if(F===null)Ue=!0;else switch(we){case"string":case"number":Ue=!0;break;case"object":switch(F.$$typeof){case n:case e:Ue=!0}}if(Ue)return Ue=F,Re=Re(Ue),F=Se===""?"."+S(Ue,0):Se,he(Re)?(C="",F!=null&&(C=F.replace(O,"$&/")+"/"),ue(Re,Y,C,"",function(ot){return ot})):Re!=null&&(D(Re)&&(Re=P(Re,C+(!Re.key||Ue&&Ue.key===Re.key?"":(""+Re.key).replace(O,"$&/")+"/")+F)),Y.push(Re)),1;if(Ue=0,Se=Se===""?".":Se+":",he(F))for(var Me=0;Me<F.length;Me++){we=F[Me];var Ke=Se+S(we,Me);Ue+=ue(we,Y,C,Ke,Re)}else if(Ke=T(F),typeof Ke=="function")for(F=Ke.call(F),Me=0;!(we=F.next()).done;)we=we.value,Ke=Se+S(we,Me++),Ue+=ue(we,Y,C,Ke,Re);else if(we==="object")throw Y=String(F),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ue}function me(F,Y,C){if(F==null)return F;var Se=[],Re=0;return ue(F,Se,"","",function(we){return Y.call(C,we,Re++)}),Se}function Be(F){if(F._status===-1){var Y=F._result;Y=Y(),Y.then(function(C){(F._status===0||F._status===-1)&&(F._status=1,F._result=C)},function(C){(F._status===0||F._status===-1)&&(F._status=2,F._result=C)}),F._status===-1&&(F._status=0,F._result=Y)}if(F._status===1)return F._result.default;throw F._result}var Pe={current:null},oe={transition:null},pe={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:oe,ReactCurrentOwner:Q};function x(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:me,forEach:function(F,Y,C){me(F,function(){Y.apply(this,arguments)},C)},count:function(F){var Y=0;return me(F,function(){Y++}),Y},toArray:function(F){return me(F,function(Y){return Y})||[]},only:function(F){if(!D(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Fe.Component=B,Fe.Fragment=t,Fe.Profiler=o,Fe.PureComponent=re,Fe.StrictMode=i,Fe.Suspense=d,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Fe.act=x,Fe.cloneElement=function(F,Y,C){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Se=U({},F.props),Re=F.key,we=F.ref,Ue=F._owner;if(Y!=null){if(Y.ref!==void 0&&(we=Y.ref,Ue=Q.current),Y.key!==void 0&&(Re=""+Y.key),F.type&&F.type.defaultProps)var Me=F.type.defaultProps;for(Ke in Y)ke.call(Y,Ke)&&!b.hasOwnProperty(Ke)&&(Se[Ke]=Y[Ke]===void 0&&Me!==void 0?Me[Ke]:Y[Ke])}var Ke=arguments.length-2;if(Ke===1)Se.children=C;else if(1<Ke){Me=Array(Ke);for(var ot=0;ot<Ke;ot++)Me[ot]=arguments[ot+2];Se.children=Me}return{$$typeof:n,type:F.type,key:Re,ref:we,props:Se,_owner:Ue}},Fe.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},Fe.createElement=A,Fe.createFactory=function(F){var Y=A.bind(null,F);return Y.type=F,Y},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(F){return{$$typeof:f,render:F}},Fe.isValidElement=D,Fe.lazy=function(F){return{$$typeof:v,_payload:{_status:-1,_result:F},_init:Be}},Fe.memo=function(F,Y){return{$$typeof:m,type:F,compare:Y===void 0?null:Y}},Fe.startTransition=function(F){var Y=oe.transition;oe.transition={};try{F()}finally{oe.transition=Y}},Fe.unstable_act=x,Fe.useCallback=function(F,Y){return Pe.current.useCallback(F,Y)},Fe.useContext=function(F){return Pe.current.useContext(F)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(F){return Pe.current.useDeferredValue(F)},Fe.useEffect=function(F,Y){return Pe.current.useEffect(F,Y)},Fe.useId=function(){return Pe.current.useId()},Fe.useImperativeHandle=function(F,Y,C){return Pe.current.useImperativeHandle(F,Y,C)},Fe.useInsertionEffect=function(F,Y){return Pe.current.useInsertionEffect(F,Y)},Fe.useLayoutEffect=function(F,Y){return Pe.current.useLayoutEffect(F,Y)},Fe.useMemo=function(F,Y){return Pe.current.useMemo(F,Y)},Fe.useReducer=function(F,Y,C){return Pe.current.useReducer(F,Y,C)},Fe.useRef=function(F){return Pe.current.useRef(F)},Fe.useState=function(F){return Pe.current.useState(F)},Fe.useSyncExternalStore=function(F,Y,C){return Pe.current.useSyncExternalStore(F,Y,C)},Fe.useTransition=function(){return Pe.current.useTransition()},Fe.version="18.3.1",Fe}var Hg;function Nd(){return Hg||(Hg=1,If.exports=YE()),If.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg;function XE(){if(qg)return Ua;qg=1;var n=Nd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,d,m){var v,w={},T=null,I=null;m!==void 0&&(T=""+m),d.key!==void 0&&(T=""+d.key),d.ref!==void 0&&(I=d.ref);for(v in d)i.call(d,v)&&!a.hasOwnProperty(v)&&(w[v]=d[v]);if(f&&f.defaultProps)for(v in d=f.defaultProps,d)w[v]===void 0&&(w[v]=d[v]);return{$$typeof:e,type:f,key:T,ref:I,props:w,_owner:o.current}}return Ua.Fragment=t,Ua.jsx=u,Ua.jsxs=u,Ua}var Wg;function JE(){return Wg||(Wg=1,Tf.exports=XE()),Tf.exports}var W=JE(),et=Nd();const ZE=xc(et);var ju={},kf={exports:{}},gn={},Sf={exports:{}},xf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg;function eT(){return Kg||(Kg=1,function(n){function e(oe,pe){var x=oe.length;oe.push(pe);e:for(;0<x;){var F=x-1>>>1,Y=oe[F];if(0<o(Y,pe))oe[F]=pe,oe[x]=Y,x=F;else break e}}function t(oe){return oe.length===0?null:oe[0]}function i(oe){if(oe.length===0)return null;var pe=oe[0],x=oe.pop();if(x!==pe){oe[0]=x;e:for(var F=0,Y=oe.length,C=Y>>>1;F<C;){var Se=2*(F+1)-1,Re=oe[Se],we=Se+1,Ue=oe[we];if(0>o(Re,x))we<Y&&0>o(Ue,Re)?(oe[F]=Ue,oe[we]=x,F=we):(oe[F]=Re,oe[Se]=x,F=Se);else if(we<Y&&0>o(Ue,x))oe[F]=Ue,oe[we]=x,F=we;else break e}}return pe}function o(oe,pe){var x=oe.sortIndex-pe.sortIndex;return x!==0?x:oe.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var d=[],m=[],v=1,w=null,T=3,I=!1,U=!1,M=!1,B=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(oe){for(var pe=t(m);pe!==null;){if(pe.callback===null)i(m);else if(pe.startTime<=oe)i(m),pe.sortIndex=pe.expirationTime,e(d,pe);else break;pe=t(m)}}function he(oe){if(M=!1,Z(oe),!U)if(t(d)!==null)U=!0,Be(ke);else{var pe=t(m);pe!==null&&Pe(he,pe.startTime-oe)}}function ke(oe,pe){U=!1,M&&(M=!1,H(A),A=-1),I=!0;var x=T;try{for(Z(pe),w=t(d);w!==null&&(!(w.expirationTime>pe)||oe&&!N());){var F=w.callback;if(typeof F=="function"){w.callback=null,T=w.priorityLevel;var Y=F(w.expirationTime<=pe);pe=n.unstable_now(),typeof Y=="function"?w.callback=Y:w===t(d)&&i(d),Z(pe)}else i(d);w=t(d)}if(w!==null)var C=!0;else{var Se=t(m);Se!==null&&Pe(he,Se.startTime-pe),C=!1}return C}finally{w=null,T=x,I=!1}}var Q=!1,b=null,A=-1,P=5,D=-1;function N(){return!(n.unstable_now()-D<P)}function O(){if(b!==null){var oe=n.unstable_now();D=oe;var pe=!0;try{pe=b(!0,oe)}finally{pe?S():(Q=!1,b=null)}}else Q=!1}var S;if(typeof re=="function")S=function(){re(O)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,me=ue.port2;ue.port1.onmessage=O,S=function(){me.postMessage(null)}}else S=function(){B(O,0)};function Be(oe){b=oe,Q||(Q=!0,S())}function Pe(oe,pe){A=B(function(){oe(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){U||I||(U=!0,Be(ke))},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(oe){switch(T){case 1:case 2:case 3:var pe=3;break;default:pe=T}var x=T;T=pe;try{return oe()}finally{T=x}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,pe){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var x=T;T=oe;try{return pe()}finally{T=x}},n.unstable_scheduleCallback=function(oe,pe,x){var F=n.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?F+x:F):x=F,oe){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=x+Y,oe={id:v++,callback:pe,priorityLevel:oe,startTime:x,expirationTime:Y,sortIndex:-1},x>F?(oe.sortIndex=x,e(m,oe),t(d)===null&&oe===t(m)&&(M?(H(A),A=-1):M=!0,Pe(he,x-F))):(oe.sortIndex=Y,e(d,oe),U||I||(U=!0,Be(ke))),oe},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(oe){var pe=T;return function(){var x=T;T=pe;try{return oe.apply(this,arguments)}finally{T=x}}}}(xf)),xf}var Gg;function tT(){return Gg||(Gg=1,Sf.exports=eT()),Sf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function nT(){if(Qg)return gn;Qg=1;var n=Nd(),e=tT();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function T(r){return d.call(w,r)?!0:d.call(v,r)?!1:m.test(r)?w[r]=!0:(v[r]=!0,!1)}function I(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function U(r,s,l,h){if(s===null||typeof s>"u"||I(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function M(r,s,l,h,p,y,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=E}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){B[r]=new M(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];B[s]=new M(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){B[r]=new M(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){B[r]=new M(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){B[r]=new M(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){B[r]=new M(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){B[r]=new M(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){B[r]=new M(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){B[r]=new M(r,5,!1,r.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function re(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(H,re);B[s]=new M(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(H,re);B[s]=new M(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(H,re);B[s]=new M(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){B[r]=new M(r,1,!1,r.toLowerCase(),null,!1,!1)}),B.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){B[r]=new M(r,1,!1,r.toLowerCase(),null,!0,!0)});function Z(r,s,l,h){var p=B.hasOwnProperty(s)?B[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(U(s,l,p,h)&&(l=null),h||p===null?T(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,h=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var he=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ke=Symbol.for("react.element"),Q=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),N=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),Be=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),oe=Symbol.iterator;function pe(r){return r===null||typeof r!="object"?null:(r=oe&&r[oe]||r["@@iterator"],typeof r=="function"?r:null)}var x=Object.assign,F;function Y(r){if(F===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);F=s&&s[1]||""}return`
`+F+r}var C=!1;function Se(r,s){if(!r||C)return"";C=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(q){var h=q}Reflect.construct(r,[],s)}else{try{s.call()}catch(q){h=q}r.call(s.prototype)}else{try{throw Error()}catch(q){h=q}r()}}catch(q){if(q&&h&&typeof q.stack=="string"){for(var p=q.stack.split(`
`),y=h.stack.split(`
`),E=p.length-1,R=y.length-1;1<=E&&0<=R&&p[E]!==y[R];)R--;for(;1<=E&&0<=R;E--,R--)if(p[E]!==y[R]){if(E!==1||R!==1)do if(E--,R--,0>R||p[E]!==y[R]){var L=`
`+p[E].replace(" at new "," at ");return r.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",r.displayName)),L}while(1<=E&&0<=R);break}}}finally{C=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Y(r):""}function Re(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=Se(r.type,!1),r;case 11:return r=Se(r.type.render,!1),r;case 1:return r=Se(r.type,!0),r;default:return""}}function we(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case b:return"Fragment";case Q:return"Portal";case P:return"Profiler";case A:return"StrictMode";case S:return"Suspense";case ue:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case N:return(r.displayName||"Context")+".Consumer";case D:return(r._context.displayName||"Context")+".Provider";case O:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case me:return s=r.displayName||null,s!==null?s:we(r.type)||"Memo";case Be:s=r._payload,r=r._init;try{return we(r(s))}catch{}}return null}function Ue(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Me(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ke(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ot(r){var s=Ke(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ln(r){r._valueTracker||(r._valueTracker=ot(r))}function ii(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=Ke(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function ur(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Nr(r,s){var l=s.checked;return x({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function br(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Me(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function si(r,s){s=s.checked,s!=null&&Z(r,"checked",s,!1)}function oi(r,s){si(r,s);var l=Me(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Dr(r,s.type,l):s.hasOwnProperty("defaultValue")&&Dr(r,s.type,Me(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Ls(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Dr(r,s,l){(s!=="number"||ur(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var bn=Array.isArray;function qn(r,s,l,h){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&h&&(r[l].defaultSelected=!0)}else{for(l=""+Me(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function Yi(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return x({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ai(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(bn(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Me(l)}}function li(r,s){var l=Me(s.value),h=Me(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function Xi(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function K(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ee(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?K(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var _e,Le=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(_e=_e||document.createElement("div"),_e.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=_e.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ze(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var It={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];Object.keys(It).forEach(function(r){en.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),It[s]=It[r]})});function tn(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||It.hasOwnProperty(r)&&It[r]?(""+s).trim():s+"px"}function Wn(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=tn(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,p):r[l]=p}}var Kn=x({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kt(r,s){if(s){if(Kn[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Dn(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lt=null;function Vs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ms=null,On=null,cr=null;function Fs(r){if(r=ka(r)){if(typeof Ms!="function")throw Error(t(280));var s=r.stateNode;s&&(s=nu(s),Ms(r.stateNode,r.type,s))}}function hr(r){On?cr?cr.push(r):cr=[r]:On=r}function ta(){if(On){var r=On,s=cr;if(cr=On=null,Fs(r),s)for(r=0;r<s.length;r++)Fs(s[r])}}function Ji(r,s){return r(s)}function na(){}var Or=!1;function ra(r,s,l){if(Or)return r(s,l);Or=!0;try{return Ji(r,s,l)}finally{Or=!1,(On!==null||cr!==null)&&(na(),ta())}}function gt(r,s){var l=r.stateNode;if(l===null)return null;var h=nu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Us=!1;if(f)try{var Gn={};Object.defineProperty(Gn,"passive",{get:function(){Us=!0}}),window.addEventListener("test",Gn,Gn),window.removeEventListener("test",Gn,Gn)}catch{Us=!1}function Zi(r,s,l,h,p,y,E,R,L){var q=Array.prototype.slice.call(arguments,3);try{s.apply(l,q)}catch(J){this.onError(J)}}var es=!1,zs=null,Qn=!1,ia=null,Qc={onError:function(r){es=!0,zs=r}};function js(r,s,l,h,p,y,E,R,L){es=!1,zs=null,Zi.apply(Qc,arguments)}function Al(r,s,l,h,p,y,E,R,L){if(js.apply(this,arguments),es){if(es){var q=zs;es=!1,zs=null}else throw Error(t(198));Qn||(Qn=!0,ia=q)}}function Yn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function ts(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Xn(r){if(Yn(r)!==r)throw Error(t(188))}function Cl(r){var s=r.alternate;if(!s){if(s=Yn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,h=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return Xn(p),r;if(y===h)return Xn(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=y;else{for(var E=!1,R=p.child;R;){if(R===l){E=!0,l=p,h=y;break}if(R===h){E=!0,h=p,l=y;break}R=R.sibling}if(!E){for(R=y.child;R;){if(R===l){E=!0,l=y,h=p;break}if(R===h){E=!0,h=y,l=p;break}R=R.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function sa(r){return r=Cl(r),r!==null?Bs(r):null}function Bs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Bs(r);if(s!==null)return s;r=r.sibling}return null}var $s=e.unstable_scheduleCallback,oa=e.unstable_cancelCallback,Pl=e.unstable_shouldYield,Yc=e.unstable_requestPaint,nt=e.unstable_now,Rl=e.unstable_getCurrentPriorityLevel,ns=e.unstable_ImmediatePriority,ui=e.unstable_UserBlockingPriority,Ln=e.unstable_NormalPriority,aa=e.unstable_LowPriority,Nl=e.unstable_IdlePriority,rs=null,En=null;function bl(r){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(rs,r,void 0,(r.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:Ol,la=Math.log,Dl=Math.LN2;function Ol(r){return r>>>=0,r===0?32:31-(la(r)/Dl|0)|0}var Hs=64,qs=4194304;function ci(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function is(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,p=r.suspendedLanes,y=r.pingedLanes,E=l&268435455;if(E!==0){var R=E&~p;R!==0?h=ci(R):(y&=E,y!==0&&(h=ci(y)))}else E=l&~p,E!==0?h=ci(E):y!==0&&(h=ci(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&p)===0&&(p=h&-h,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-nn(s),p=1<<l,h|=r[l],s&=~p;return h}function Xc(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lr(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var E=31-nn(y),R=1<<E,L=p[E];L===-1?((R&l)===0||(R&h)!==0)&&(p[E]=Xc(R,s)):L<=s&&(r.expiredLanes|=R),y&=~R}}function Tn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ss(){var r=Hs;return Hs<<=1,(Hs&4194240)===0&&(Hs=64),r}function hi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function fi(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-nn(s),r[s]=l}function tt(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-nn(l),y=1<<p;s[p]=0,h[p]=-1,r[p]=-1,l&=~y}}function di(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-nn(l),p=1<<h;p&s|r[h]&s&&(r[h]|=s),l&=~p}}var $e=0;function pi(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ll,Ws,Vl,Ml,Fl,ua=!1,fr=[],Vt=null,Jn=null,Zn=null,mi=new Map,Vn=new Map,dr=[],Jc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ul(r,s){switch(r){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":mi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vn.delete(s.pointerId)}}function un(r,s,l,h,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},s!==null&&(s=ka(s),s!==null&&Ws(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function Zc(r,s,l,h,p){switch(s){case"focusin":return Vt=un(Vt,r,s,l,h,p),!0;case"dragenter":return Jn=un(Jn,r,s,l,h,p),!0;case"mouseover":return Zn=un(Zn,r,s,l,h,p),!0;case"pointerover":var y=p.pointerId;return mi.set(y,un(mi.get(y)||null,r,s,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,Vn.set(y,un(Vn.get(y)||null,r,s,l,h,p)),!0}return!1}function zl(r){var s=cs(r.target);if(s!==null){var l=Yn(s);if(l!==null){if(s=l.tag,s===13){if(s=ts(l),s!==null){r.blockedOn=s,Fl(r.priority,function(){Vl(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Vr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Ks(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);Lt=h,l.target.dispatchEvent(h),Lt=null}else return s=ka(l),s!==null&&Ws(s),r.blockedOn=l,!1;s.shift()}return!0}function os(r,s,l){Vr(r)&&l.delete(s)}function jl(){ua=!1,Vt!==null&&Vr(Vt)&&(Vt=null),Jn!==null&&Vr(Jn)&&(Jn=null),Zn!==null&&Vr(Zn)&&(Zn=null),mi.forEach(os),Vn.forEach(os)}function er(r,s){r.blockedOn===s&&(r.blockedOn=null,ua||(ua=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jl)))}function tr(r){function s(p){return er(p,r)}if(0<fr.length){er(fr[0],r);for(var l=1;l<fr.length;l++){var h=fr[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Vt!==null&&er(Vt,r),Jn!==null&&er(Jn,r),Zn!==null&&er(Zn,r),mi.forEach(s),Vn.forEach(s),l=0;l<dr.length;l++)h=dr[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<dr.length&&(l=dr[0],l.blockedOn===null);)zl(l),l.blockedOn===null&&dr.shift()}var Mr=he.ReactCurrentBatchConfig,gi=!0;function ut(r,s,l,h){var p=$e,y=Mr.transition;Mr.transition=null;try{$e=1,ca(r,s,l,h)}finally{$e=p,Mr.transition=y}}function eh(r,s,l,h){var p=$e,y=Mr.transition;Mr.transition=null;try{$e=4,ca(r,s,l,h)}finally{$e=p,Mr.transition=y}}function ca(r,s,l,h){if(gi){var p=Ks(r,s,l,h);if(p===null)hh(r,s,h,as,l),Ul(r,h);else if(Zc(p,r,s,l,h))h.stopPropagation();else if(Ul(r,h),s&4&&-1<Jc.indexOf(r)){for(;p!==null;){var y=ka(p);if(y!==null&&Ll(y),y=Ks(r,s,l,h),y===null&&hh(r,s,h,as,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else hh(r,s,h,null,l)}}var as=null;function Ks(r,s,l,h){if(as=null,r=Vs(h),r=cs(r),r!==null)if(s=Yn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=ts(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return as=r,null}function ha(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rl()){case ns:return 1;case ui:return 4;case Ln:case aa:return 16;case Nl:return 536870912;default:return 16}default:return 16}}var In=null,Gs=null,cn=null;function fa(){if(cn)return cn;var r,s=Gs,l=s.length,h,p="value"in In?In.value:In.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var E=l-r;for(h=1;h<=E&&s[l-h]===p[y-h];h++);return cn=p.slice(r,1<h?1-h:void 0)}function Qs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function pr(){return!0}function da(){return!1}function Mt(r){function s(l,h,p,y,E){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(l=r[R],this[R]=l?l(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?pr:da,this.isPropagationStopped=da,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),s}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=Mt(nr),mr=x({},nr,{view:0,detail:0}),th=Mt(mr),Xs,Fr,yi,ls=x({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==yi&&(yi&&r.type==="mousemove"?(Xs=r.screenX-yi.screenX,Fr=r.screenY-yi.screenY):Fr=Xs=0,yi=r),Xs)},movementY:function(r){return"movementY"in r?r.movementY:Fr}}),Js=Mt(ls),pa=x({},ls,{dataTransfer:0}),Bl=Mt(pa),Zs=x({},mr,{relatedTarget:0}),eo=Mt(Zs),$l=x({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ur=Mt($l),Hl=x({},nr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ql=Mt(Hl),Wl=x({},nr,{data:0}),ma=Mt(Wl),to={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Kl[r])?!!s[r]:!1}function gr(){return Gl}var c=x({},mr,{key:function(r){if(r.key){var s=to[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Qs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?rn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(r){return r.type==="keypress"?Qs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Qs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=Mt(c),_=x({},ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k=Mt(_),z=x({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),G=Mt(z),le=x({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Je=Mt(le),St=x({},ls,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),qe=Mt(St),Rt=[9,13,27,32],_t=f&&"CompositionEvent"in window,Mn=null;f&&"documentMode"in document&&(Mn=document.documentMode);var kn=f&&"TextEvent"in window&&!Mn,us=f&&(!_t||Mn&&8<Mn&&11>=Mn),no=" ",Mp=!1;function Fp(r,s){switch(r){case"keyup":return Rt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Up(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ro=!1;function Kw(r,s){switch(r){case"compositionend":return Up(s);case"keypress":return s.which!==32?null:(Mp=!0,no);case"textInput":return r=s.data,r===no&&Mp?null:r;default:return null}}function Gw(r,s){if(ro)return r==="compositionend"||!_t&&Fp(r,s)?(r=fa(),cn=Gs=In=null,ro=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return us&&s.locale!=="ko"?null:s.data;default:return null}}var Qw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Qw[r.type]:s==="textarea"}function jp(r,s,l,h){hr(h),s=Zl(s,"onChange"),0<s.length&&(l=new Ys("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var ga=null,ya=null;function Yw(r){sm(r,0)}function Ql(r){var s=lo(r);if(ii(s))return r}function Xw(r,s){if(r==="change")return s}var Bp=!1;if(f){var nh;if(f){var rh="oninput"in document;if(!rh){var $p=document.createElement("div");$p.setAttribute("oninput","return;"),rh=typeof $p.oninput=="function"}nh=rh}else nh=!1;Bp=nh&&(!document.documentMode||9<document.documentMode)}function Hp(){ga&&(ga.detachEvent("onpropertychange",qp),ya=ga=null)}function qp(r){if(r.propertyName==="value"&&Ql(ya)){var s=[];jp(s,ya,r,Vs(r)),ra(Yw,s)}}function Jw(r,s,l){r==="focusin"?(Hp(),ga=s,ya=l,ga.attachEvent("onpropertychange",qp)):r==="focusout"&&Hp()}function Zw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ql(ya)}function eE(r,s){if(r==="click")return Ql(s)}function tE(r,s){if(r==="input"||r==="change")return Ql(s)}function nE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var rr=typeof Object.is=="function"?Object.is:nE;function va(r,s){if(rr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!d.call(s,p)||!rr(r[p],s[p]))return!1}return!0}function Wp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Kp(r,s){var l=Wp(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Wp(l)}}function Gp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Gp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Qp(){for(var r=window,s=ur();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=ur(r.document)}return s}function ih(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function rE(r){var s=Qp(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Gp(l.ownerDocument.documentElement,l)){if(h!==null&&ih(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!r.extend&&y>h&&(p=h,h=y,y=p),p=Kp(l,y);var E=Kp(l,h);p&&E&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var iE=f&&"documentMode"in document&&11>=document.documentMode,io=null,sh=null,_a=null,oh=!1;function Yp(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;oh||io==null||io!==ur(h)||(h=io,"selectionStart"in h&&ih(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),_a&&va(_a,h)||(_a=h,h=Zl(sh,"onSelect"),0<h.length&&(s=new Ys("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=io)))}function Yl(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var so={animationend:Yl("Animation","AnimationEnd"),animationiteration:Yl("Animation","AnimationIteration"),animationstart:Yl("Animation","AnimationStart"),transitionend:Yl("Transition","TransitionEnd")},ah={},Xp={};f&&(Xp=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function Xl(r){if(ah[r])return ah[r];if(!so[r])return r;var s=so[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Xp)return ah[r]=s[l];return r}var Jp=Xl("animationend"),Zp=Xl("animationiteration"),em=Xl("animationstart"),tm=Xl("transitionend"),nm=new Map,rm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vi(r,s){nm.set(r,s),a(s,[r])}for(var lh=0;lh<rm.length;lh++){var uh=rm[lh],sE=uh.toLowerCase(),oE=uh[0].toUpperCase()+uh.slice(1);vi(sE,"on"+oE)}vi(Jp,"onAnimationEnd"),vi(Zp,"onAnimationIteration"),vi(em,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(tm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aE=new Set("cancel close invalid load scroll toggle".split(" ").concat(wa));function im(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,Al(h,s,void 0,r),r.currentTarget=null}function sm(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],p=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var E=h.length-1;0<=E;E--){var R=h[E],L=R.instance,q=R.currentTarget;if(R=R.listener,L!==y&&p.isPropagationStopped())break e;im(p,R,q),y=L}else for(E=0;E<h.length;E++){if(R=h[E],L=R.instance,q=R.currentTarget,R=R.listener,L!==y&&p.isPropagationStopped())break e;im(p,R,q),y=L}}}if(Qn)throw r=ia,Qn=!1,ia=null,r}function at(r,s){var l=s[yh];l===void 0&&(l=s[yh]=new Set);var h=r+"__bubble";l.has(h)||(om(s,r,2,!1),l.add(h))}function ch(r,s,l){var h=0;s&&(h|=4),om(l,r,h,s)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function Ea(r){if(!r[Jl]){r[Jl]=!0,i.forEach(function(l){l!=="selectionchange"&&(aE.has(l)||ch(l,!1,r),ch(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Jl]||(s[Jl]=!0,ch("selectionchange",!1,s))}}function om(r,s,l,h){switch(ha(s)){case 1:var p=ut;break;case 4:p=eh;break;default:p=ca}l=p.bind(null,s,l,r),p=void 0,!Us||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function hh(r,s,l,h,p){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var R=h.stateNode.containerInfo;if(R===p||R.nodeType===8&&R.parentNode===p)break;if(E===4)for(E=h.return;E!==null;){var L=E.tag;if((L===3||L===4)&&(L=E.stateNode.containerInfo,L===p||L.nodeType===8&&L.parentNode===p))return;E=E.return}for(;R!==null;){if(E=cs(R),E===null)return;if(L=E.tag,L===5||L===6){h=y=E;continue e}R=R.parentNode}}h=h.return}ra(function(){var q=y,J=Vs(l),ne=[];e:{var X=nm.get(r);if(X!==void 0){var ce=Ys,de=r;switch(r){case"keypress":if(Qs(l)===0)break e;case"keydown":case"keyup":ce=g;break;case"focusin":de="focus",ce=eo;break;case"focusout":de="blur",ce=eo;break;case"beforeblur":case"afterblur":ce=eo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Js;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Bl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=G;break;case Jp:case Zp:case em:ce=Ur;break;case tm:ce=Je;break;case"scroll":ce=th;break;case"wheel":ce=qe;break;case"copy":case"cut":case"paste":ce=ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=k}var ge=(s&4)!==0,yt=!ge&&r==="scroll",j=ge?X!==null?X+"Capture":null:X;ge=[];for(var V=q,$;V!==null;){$=V;var ae=$.stateNode;if($.tag===5&&ae!==null&&($=ae,j!==null&&(ae=gt(V,j),ae!=null&&ge.push(Ta(V,ae,$)))),yt)break;V=V.return}0<ge.length&&(X=new ce(X,de,null,l,J),ne.push({event:X,listeners:ge}))}}if((s&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",ce=r==="mouseout"||r==="pointerout",X&&l!==Lt&&(de=l.relatedTarget||l.fromElement)&&(cs(de)||de[zr]))break e;if((ce||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,ce?(de=l.relatedTarget||l.toElement,ce=q,de=de?cs(de):null,de!==null&&(yt=Yn(de),de!==yt||de.tag!==5&&de.tag!==6)&&(de=null)):(ce=null,de=q),ce!==de)){if(ge=Js,ae="onMouseLeave",j="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(ge=k,ae="onPointerLeave",j="onPointerEnter",V="pointer"),yt=ce==null?X:lo(ce),$=de==null?X:lo(de),X=new ge(ae,V+"leave",ce,l,J),X.target=yt,X.relatedTarget=$,ae=null,cs(J)===q&&(ge=new ge(j,V+"enter",de,l,J),ge.target=$,ge.relatedTarget=yt,ae=ge),yt=ae,ce&&de)t:{for(ge=ce,j=de,V=0,$=ge;$;$=oo($))V++;for($=0,ae=j;ae;ae=oo(ae))$++;for(;0<V-$;)ge=oo(ge),V--;for(;0<$-V;)j=oo(j),$--;for(;V--;){if(ge===j||j!==null&&ge===j.alternate)break t;ge=oo(ge),j=oo(j)}ge=null}else ge=null;ce!==null&&am(ne,X,ce,ge,!1),de!==null&&yt!==null&&am(ne,yt,de,ge,!0)}}e:{if(X=q?lo(q):window,ce=X.nodeName&&X.nodeName.toLowerCase(),ce==="select"||ce==="input"&&X.type==="file")var ve=Xw;else if(zp(X))if(Bp)ve=tE;else{ve=Zw;var Ee=Jw}else(ce=X.nodeName)&&ce.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(ve=eE);if(ve&&(ve=ve(r,q))){jp(ne,ve,l,J);break e}Ee&&Ee(r,X,q),r==="focusout"&&(Ee=X._wrapperState)&&Ee.controlled&&X.type==="number"&&Dr(X,"number",X.value)}switch(Ee=q?lo(q):window,r){case"focusin":(zp(Ee)||Ee.contentEditable==="true")&&(io=Ee,sh=q,_a=null);break;case"focusout":_a=sh=io=null;break;case"mousedown":oh=!0;break;case"contextmenu":case"mouseup":case"dragend":oh=!1,Yp(ne,l,J);break;case"selectionchange":if(iE)break;case"keydown":case"keyup":Yp(ne,l,J)}var Te;if(_t)e:{switch(r){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else ro?Fp(r,l)&&(Ae="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(us&&l.locale!=="ko"&&(ro||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&ro&&(Te=fa()):(In=J,Gs="value"in In?In.value:In.textContent,ro=!0)),Ee=Zl(q,Ae),0<Ee.length&&(Ae=new ma(Ae,r,null,l,J),ne.push({event:Ae,listeners:Ee}),Te?Ae.data=Te:(Te=Up(l),Te!==null&&(Ae.data=Te)))),(Te=kn?Kw(r,l):Gw(r,l))&&(q=Zl(q,"onBeforeInput"),0<q.length&&(J=new ma("onBeforeInput","beforeinput",null,l,J),ne.push({event:J,listeners:q}),J.data=Te))}sm(ne,s)})}function Ta(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Zl(r,s){for(var l=s+"Capture",h=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=gt(r,l),y!=null&&h.unshift(Ta(r,y,p)),y=gt(r,s),y!=null&&h.push(Ta(r,y,p))),r=r.return}return h}function oo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function am(r,s,l,h,p){for(var y=s._reactName,E=[];l!==null&&l!==h;){var R=l,L=R.alternate,q=R.stateNode;if(L!==null&&L===h)break;R.tag===5&&q!==null&&(R=q,p?(L=gt(l,y),L!=null&&E.unshift(Ta(l,L,R))):p||(L=gt(l,y),L!=null&&E.push(Ta(l,L,R)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var lE=/\r\n?/g,uE=/\u0000|\uFFFD/g;function lm(r){return(typeof r=="string"?r:""+r).replace(lE,`
`).replace(uE,"")}function eu(r,s,l){if(s=lm(s),lm(r)!==s&&l)throw Error(t(425))}function tu(){}var fh=null,dh=null;function ph(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mh=typeof setTimeout=="function"?setTimeout:void 0,cE=typeof clearTimeout=="function"?clearTimeout:void 0,um=typeof Promise=="function"?Promise:void 0,hE=typeof queueMicrotask=="function"?queueMicrotask:typeof um<"u"?function(r){return um.resolve(null).then(r).catch(fE)}:mh;function fE(r){setTimeout(function(){throw r})}function gh(r,s){var l=s,h=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){r.removeChild(p),tr(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);tr(s)}function _i(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function cm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var ao=Math.random().toString(36).slice(2),yr="__reactFiber$"+ao,Ia="__reactProps$"+ao,zr="__reactContainer$"+ao,yh="__reactEvents$"+ao,dE="__reactListeners$"+ao,pE="__reactHandles$"+ao;function cs(r){var s=r[yr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[zr]||l[yr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=cm(r);r!==null;){if(l=r[yr])return l;r=cm(r)}return s}r=l,l=r.parentNode}return null}function ka(r){return r=r[yr]||r[zr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function lo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function nu(r){return r[Ia]||null}var vh=[],uo=-1;function wi(r){return{current:r}}function lt(r){0>uo||(r.current=vh[uo],vh[uo]=null,uo--)}function rt(r,s){uo++,vh[uo]=r.current,r.current=s}var Ei={},qt=wi(Ei),hn=wi(!1),hs=Ei;function co(r,s){var l=r.type.contextTypes;if(!l)return Ei;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function fn(r){return r=r.childContextTypes,r!=null}function ru(){lt(hn),lt(qt)}function hm(r,s,l){if(qt.current!==Ei)throw Error(t(168));rt(qt,s),rt(hn,l)}function fm(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(t(108,Ue(r)||"Unknown",p));return x({},l,h)}function iu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ei,hs=qt.current,rt(qt,r),rt(hn,hn.current),!0}function dm(r,s,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=fm(r,s,hs),h.__reactInternalMemoizedMergedChildContext=r,lt(hn),lt(qt),rt(qt,r)):lt(hn),rt(hn,l)}var jr=null,su=!1,_h=!1;function pm(r){jr===null?jr=[r]:jr.push(r)}function mE(r){su=!0,pm(r)}function Ti(){if(!_h&&jr!==null){_h=!0;var r=0,s=$e;try{var l=jr;for($e=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}jr=null,su=!1}catch(p){throw jr!==null&&(jr=jr.slice(r+1)),$s(ns,Ti),p}finally{$e=s,_h=!1}}return null}var ho=[],fo=0,ou=null,au=0,Fn=[],Un=0,fs=null,Br=1,$r="";function ds(r,s){ho[fo++]=au,ho[fo++]=ou,ou=r,au=s}function mm(r,s,l){Fn[Un++]=Br,Fn[Un++]=$r,Fn[Un++]=fs,fs=r;var h=Br;r=$r;var p=32-nn(h)-1;h&=~(1<<p),l+=1;var y=32-nn(s)+p;if(30<y){var E=p-p%5;y=(h&(1<<E)-1).toString(32),h>>=E,p-=E,Br=1<<32-nn(s)+p|l<<p|h,$r=y+r}else Br=1<<y|l<<p|h,$r=r}function wh(r){r.return!==null&&(ds(r,1),mm(r,1,0))}function Eh(r){for(;r===ou;)ou=ho[--fo],ho[fo]=null,au=ho[--fo],ho[fo]=null;for(;r===fs;)fs=Fn[--Un],Fn[Un]=null,$r=Fn[--Un],Fn[Un]=null,Br=Fn[--Un],Fn[Un]=null}var Sn=null,xn=null,ct=!1,ir=null;function gm(r,s){var l=$n(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function ym(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Sn=r,xn=_i(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Sn=r,xn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=fs!==null?{id:Br,overflow:$r}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=$n(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Sn=r,xn=null,!0):!1;default:return!1}}function Th(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Ih(r){if(ct){var s=xn;if(s){var l=s;if(!ym(r,s)){if(Th(r))throw Error(t(418));s=_i(l.nextSibling);var h=Sn;s&&ym(r,s)?gm(h,l):(r.flags=r.flags&-4097|2,ct=!1,Sn=r)}}else{if(Th(r))throw Error(t(418));r.flags=r.flags&-4097|2,ct=!1,Sn=r}}}function vm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Sn=r}function lu(r){if(r!==Sn)return!1;if(!ct)return vm(r),ct=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!ph(r.type,r.memoizedProps)),s&&(s=xn)){if(Th(r))throw _m(),Error(t(418));for(;s;)gm(r,s),s=_i(s.nextSibling)}if(vm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){xn=_i(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}xn=null}}else xn=Sn?_i(r.stateNode.nextSibling):null;return!0}function _m(){for(var r=xn;r;)r=_i(r.nextSibling)}function po(){xn=Sn=null,ct=!1}function kh(r){ir===null?ir=[r]:ir.push(r)}var gE=he.ReactCurrentBatchConfig;function Sa(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var p=h,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(E){var R=p.refs;E===null?delete R[y]:R[y]=E},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function uu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function wm(r){var s=r._init;return s(r._payload)}function Em(r){function s(j,V){if(r){var $=j.deletions;$===null?(j.deletions=[V],j.flags|=16):$.push(V)}}function l(j,V){if(!r)return null;for(;V!==null;)s(j,V),V=V.sibling;return null}function h(j,V){for(j=new Map;V!==null;)V.key!==null?j.set(V.key,V):j.set(V.index,V),V=V.sibling;return j}function p(j,V){return j=Ri(j,V),j.index=0,j.sibling=null,j}function y(j,V,$){return j.index=$,r?($=j.alternate,$!==null?($=$.index,$<V?(j.flags|=2,V):$):(j.flags|=2,V)):(j.flags|=1048576,V)}function E(j){return r&&j.alternate===null&&(j.flags|=2),j}function R(j,V,$,ae){return V===null||V.tag!==6?(V=gf($,j.mode,ae),V.return=j,V):(V=p(V,$),V.return=j,V)}function L(j,V,$,ae){var ve=$.type;return ve===b?J(j,V,$.props.children,ae,$.key):V!==null&&(V.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Be&&wm(ve)===V.type)?(ae=p(V,$.props),ae.ref=Sa(j,V,$),ae.return=j,ae):(ae=Du($.type,$.key,$.props,null,j.mode,ae),ae.ref=Sa(j,V,$),ae.return=j,ae)}function q(j,V,$,ae){return V===null||V.tag!==4||V.stateNode.containerInfo!==$.containerInfo||V.stateNode.implementation!==$.implementation?(V=yf($,j.mode,ae),V.return=j,V):(V=p(V,$.children||[]),V.return=j,V)}function J(j,V,$,ae,ve){return V===null||V.tag!==7?(V=Es($,j.mode,ae,ve),V.return=j,V):(V=p(V,$),V.return=j,V)}function ne(j,V,$){if(typeof V=="string"&&V!==""||typeof V=="number")return V=gf(""+V,j.mode,$),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case ke:return $=Du(V.type,V.key,V.props,null,j.mode,$),$.ref=Sa(j,null,V),$.return=j,$;case Q:return V=yf(V,j.mode,$),V.return=j,V;case Be:var ae=V._init;return ne(j,ae(V._payload),$)}if(bn(V)||pe(V))return V=Es(V,j.mode,$,null),V.return=j,V;uu(j,V)}return null}function X(j,V,$,ae){var ve=V!==null?V.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return ve!==null?null:R(j,V,""+$,ae);if(typeof $=="object"&&$!==null){switch($.$$typeof){case ke:return $.key===ve?L(j,V,$,ae):null;case Q:return $.key===ve?q(j,V,$,ae):null;case Be:return ve=$._init,X(j,V,ve($._payload),ae)}if(bn($)||pe($))return ve!==null?null:J(j,V,$,ae,null);uu(j,$)}return null}function ce(j,V,$,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return j=j.get($)||null,R(V,j,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case ke:return j=j.get(ae.key===null?$:ae.key)||null,L(V,j,ae,ve);case Q:return j=j.get(ae.key===null?$:ae.key)||null,q(V,j,ae,ve);case Be:var Ee=ae._init;return ce(j,V,$,Ee(ae._payload),ve)}if(bn(ae)||pe(ae))return j=j.get($)||null,J(V,j,ae,ve,null);uu(V,ae)}return null}function de(j,V,$,ae){for(var ve=null,Ee=null,Te=V,Ae=V=0,Dt=null;Te!==null&&Ae<$.length;Ae++){Te.index>Ae?(Dt=Te,Te=null):Dt=Te.sibling;var Qe=X(j,Te,$[Ae],ae);if(Qe===null){Te===null&&(Te=Dt);break}r&&Te&&Qe.alternate===null&&s(j,Te),V=y(Qe,V,Ae),Ee===null?ve=Qe:Ee.sibling=Qe,Ee=Qe,Te=Dt}if(Ae===$.length)return l(j,Te),ct&&ds(j,Ae),ve;if(Te===null){for(;Ae<$.length;Ae++)Te=ne(j,$[Ae],ae),Te!==null&&(V=y(Te,V,Ae),Ee===null?ve=Te:Ee.sibling=Te,Ee=Te);return ct&&ds(j,Ae),ve}for(Te=h(j,Te);Ae<$.length;Ae++)Dt=ce(Te,j,Ae,$[Ae],ae),Dt!==null&&(r&&Dt.alternate!==null&&Te.delete(Dt.key===null?Ae:Dt.key),V=y(Dt,V,Ae),Ee===null?ve=Dt:Ee.sibling=Dt,Ee=Dt);return r&&Te.forEach(function(Ni){return s(j,Ni)}),ct&&ds(j,Ae),ve}function ge(j,V,$,ae){var ve=pe($);if(typeof ve!="function")throw Error(t(150));if($=ve.call($),$==null)throw Error(t(151));for(var Ee=ve=null,Te=V,Ae=V=0,Dt=null,Qe=$.next();Te!==null&&!Qe.done;Ae++,Qe=$.next()){Te.index>Ae?(Dt=Te,Te=null):Dt=Te.sibling;var Ni=X(j,Te,Qe.value,ae);if(Ni===null){Te===null&&(Te=Dt);break}r&&Te&&Ni.alternate===null&&s(j,Te),V=y(Ni,V,Ae),Ee===null?ve=Ni:Ee.sibling=Ni,Ee=Ni,Te=Dt}if(Qe.done)return l(j,Te),ct&&ds(j,Ae),ve;if(Te===null){for(;!Qe.done;Ae++,Qe=$.next())Qe=ne(j,Qe.value,ae),Qe!==null&&(V=y(Qe,V,Ae),Ee===null?ve=Qe:Ee.sibling=Qe,Ee=Qe);return ct&&ds(j,Ae),ve}for(Te=h(j,Te);!Qe.done;Ae++,Qe=$.next())Qe=ce(Te,j,Ae,Qe.value,ae),Qe!==null&&(r&&Qe.alternate!==null&&Te.delete(Qe.key===null?Ae:Qe.key),V=y(Qe,V,Ae),Ee===null?ve=Qe:Ee.sibling=Qe,Ee=Qe);return r&&Te.forEach(function(QE){return s(j,QE)}),ct&&ds(j,Ae),ve}function yt(j,V,$,ae){if(typeof $=="object"&&$!==null&&$.type===b&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case ke:e:{for(var ve=$.key,Ee=V;Ee!==null;){if(Ee.key===ve){if(ve=$.type,ve===b){if(Ee.tag===7){l(j,Ee.sibling),V=p(Ee,$.props.children),V.return=j,j=V;break e}}else if(Ee.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Be&&wm(ve)===Ee.type){l(j,Ee.sibling),V=p(Ee,$.props),V.ref=Sa(j,Ee,$),V.return=j,j=V;break e}l(j,Ee);break}else s(j,Ee);Ee=Ee.sibling}$.type===b?(V=Es($.props.children,j.mode,ae,$.key),V.return=j,j=V):(ae=Du($.type,$.key,$.props,null,j.mode,ae),ae.ref=Sa(j,V,$),ae.return=j,j=ae)}return E(j);case Q:e:{for(Ee=$.key;V!==null;){if(V.key===Ee)if(V.tag===4&&V.stateNode.containerInfo===$.containerInfo&&V.stateNode.implementation===$.implementation){l(j,V.sibling),V=p(V,$.children||[]),V.return=j,j=V;break e}else{l(j,V);break}else s(j,V);V=V.sibling}V=yf($,j.mode,ae),V.return=j,j=V}return E(j);case Be:return Ee=$._init,yt(j,V,Ee($._payload),ae)}if(bn($))return de(j,V,$,ae);if(pe($))return ge(j,V,$,ae);uu(j,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,V!==null&&V.tag===6?(l(j,V.sibling),V=p(V,$),V.return=j,j=V):(l(j,V),V=gf($,j.mode,ae),V.return=j,j=V),E(j)):l(j,V)}return yt}var mo=Em(!0),Tm=Em(!1),cu=wi(null),hu=null,go=null,Sh=null;function xh(){Sh=go=hu=null}function Ah(r){var s=cu.current;lt(cu),r._currentValue=s}function Ch(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function yo(r,s){hu=r,Sh=go=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(dn=!0),r.firstContext=null)}function zn(r){var s=r._currentValue;if(Sh!==r)if(r={context:r,memoizedValue:s,next:null},go===null){if(hu===null)throw Error(t(308));go=r,hu.dependencies={lanes:0,firstContext:r}}else go=go.next=r;return s}var ps=null;function Ph(r){ps===null?ps=[r]:ps.push(r)}function Im(r,s,l,h){var p=s.interleaved;return p===null?(l.next=l,Ph(s)):(l.next=p.next,p.next=l),s.interleaved=l,Hr(r,h)}function Hr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Ii=!1;function Rh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function km(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function qr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ki(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Ge&2)!==0){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,Hr(r,l)}return p=h.interleaved,p===null?(s.next=s,Ph(h)):(s.next=p.next,p.next=s),h.interleaved=s,Hr(r,l)}function fu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,di(r,l)}}function Sm(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function du(r,s,l,h){var p=r.updateQueue;Ii=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var L=R,q=L.next;L.next=null,E===null?y=q:E.next=q,E=L;var J=r.alternate;J!==null&&(J=J.updateQueue,R=J.lastBaseUpdate,R!==E&&(R===null?J.firstBaseUpdate=q:R.next=q,J.lastBaseUpdate=L))}if(y!==null){var ne=p.baseState;E=0,J=q=L=null,R=y;do{var X=R.lane,ce=R.eventTime;if((h&X)===X){J!==null&&(J=J.next={eventTime:ce,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var de=r,ge=R;switch(X=s,ce=l,ge.tag){case 1:if(de=ge.payload,typeof de=="function"){ne=de.call(ce,ne,X);break e}ne=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ge.payload,X=typeof de=="function"?de.call(ce,ne,X):de,X==null)break e;ne=x({},ne,X);break e;case 2:Ii=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,X=p.effects,X===null?p.effects=[R]:X.push(R))}else ce={eventTime:ce,lane:X,tag:R.tag,payload:R.payload,callback:R.callback,next:null},J===null?(q=J=ce,L=ne):J=J.next=ce,E|=X;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;X=R,R=X.next,X.next=null,p.lastBaseUpdate=X,p.shared.pending=null}}while(!0);if(J===null&&(L=ne),p.baseState=L,p.firstBaseUpdate=q,p.lastBaseUpdate=J,s=p.shared.interleaved,s!==null){p=s;do E|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);ys|=E,r.lanes=E,r.memoizedState=ne}}function xm(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var xa={},vr=wi(xa),Aa=wi(xa),Ca=wi(xa);function ms(r){if(r===xa)throw Error(t(174));return r}function Nh(r,s){switch(rt(Ca,s),rt(Aa,r),rt(vr,xa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ee(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=ee(s,r)}lt(vr),rt(vr,s)}function vo(){lt(vr),lt(Aa),lt(Ca)}function Am(r){ms(Ca.current);var s=ms(vr.current),l=ee(s,r.type);s!==l&&(rt(Aa,r),rt(vr,l))}function bh(r){Aa.current===r&&(lt(vr),lt(Aa))}var ht=wi(0);function pu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Oh(){for(var r=0;r<Dh.length;r++)Dh[r]._workInProgressVersionPrimary=null;Dh.length=0}var mu=he.ReactCurrentDispatcher,Lh=he.ReactCurrentBatchConfig,gs=0,ft=null,xt=null,Nt=null,gu=!1,Pa=!1,Ra=0,yE=0;function Wt(){throw Error(t(321))}function Vh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!rr(r[l],s[l]))return!1;return!0}function Mh(r,s,l,h,p,y){if(gs=y,ft=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,mu.current=r===null||r.memoizedState===null?EE:TE,r=l(h,p),Pa){y=0;do{if(Pa=!1,Ra=0,25<=y)throw Error(t(301));y+=1,Nt=xt=null,s.updateQueue=null,mu.current=IE,r=l(h,p)}while(Pa)}if(mu.current=_u,s=xt!==null&&xt.next!==null,gs=0,Nt=xt=ft=null,gu=!1,s)throw Error(t(300));return r}function Fh(){var r=Ra!==0;return Ra=0,r}function _r(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?ft.memoizedState=Nt=r:Nt=Nt.next=r,Nt}function jn(){if(xt===null){var r=ft.alternate;r=r!==null?r.memoizedState:null}else r=xt.next;var s=Nt===null?ft.memoizedState:Nt.next;if(s!==null)Nt=s,xt=r;else{if(r===null)throw Error(t(310));xt=r,r={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Nt===null?ft.memoizedState=Nt=r:Nt=Nt.next=r}return Nt}function Na(r,s){return typeof s=="function"?s(r):s}function Uh(r){var s=jn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=xt,p=h.baseQueue,y=l.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}h.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,h=h.baseState;var R=E=null,L=null,q=y;do{var J=q.lane;if((gs&J)===J)L!==null&&(L=L.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),h=q.hasEagerState?q.eagerState:r(h,q.action);else{var ne={lane:J,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};L===null?(R=L=ne,E=h):L=L.next=ne,ft.lanes|=J,ys|=J}q=q.next}while(q!==null&&q!==y);L===null?E=h:L.next=R,rr(h,s.memoizedState)||(dn=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=L,l.lastRenderedState=h}if(r=l.interleaved,r!==null){p=r;do y=p.lane,ft.lanes|=y,ys|=y,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function zh(r){var s=jn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=r(y,E.action),E=E.next;while(E!==p);rr(y,s.memoizedState)||(dn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function Cm(){}function Pm(r,s){var l=ft,h=jn(),p=s(),y=!rr(h.memoizedState,p);if(y&&(h.memoizedState=p,dn=!0),h=h.queue,jh(bm.bind(null,l,h,r),[r]),h.getSnapshot!==s||y||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,ba(9,Nm.bind(null,l,h,p,s),void 0,null),bt===null)throw Error(t(349));(gs&30)!==0||Rm(l,s,p)}return p}function Rm(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=ft.updateQueue,s===null?(s={lastEffect:null,stores:null},ft.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Nm(r,s,l,h){s.value=l,s.getSnapshot=h,Dm(s)&&Om(r)}function bm(r,s,l){return l(function(){Dm(s)&&Om(r)})}function Dm(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!rr(r,l)}catch{return!0}}function Om(r){var s=Hr(r,1);s!==null&&lr(s,r,1,-1)}function Lm(r){var s=_r();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:r},s.queue=r,r=r.dispatch=wE.bind(null,ft,r),[s.memoizedState,r]}function ba(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=ft.updateQueue,s===null?(s={lastEffect:null,stores:null},ft.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function Vm(){return jn().memoizedState}function yu(r,s,l,h){var p=_r();ft.flags|=r,p.memoizedState=ba(1|s,l,void 0,h===void 0?null:h)}function vu(r,s,l,h){var p=jn();h=h===void 0?null:h;var y=void 0;if(xt!==null){var E=xt.memoizedState;if(y=E.destroy,h!==null&&Vh(h,E.deps)){p.memoizedState=ba(s,l,y,h);return}}ft.flags|=r,p.memoizedState=ba(1|s,l,y,h)}function Mm(r,s){return yu(8390656,8,r,s)}function jh(r,s){return vu(2048,8,r,s)}function Fm(r,s){return vu(4,2,r,s)}function Um(r,s){return vu(4,4,r,s)}function zm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function jm(r,s,l){return l=l!=null?l.concat([r]):null,vu(4,4,zm.bind(null,s,r),l)}function Bh(){}function Bm(r,s){var l=jn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Vh(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function $m(r,s){var l=jn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Vh(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function Hm(r,s,l){return(gs&21)===0?(r.baseState&&(r.baseState=!1,dn=!0),r.memoizedState=l):(rr(l,s)||(l=ss(),ft.lanes|=l,ys|=l,r.baseState=!0),s)}function vE(r,s){var l=$e;$e=l!==0&&4>l?l:4,r(!0);var h=Lh.transition;Lh.transition={};try{r(!1),s()}finally{$e=l,Lh.transition=h}}function qm(){return jn().memoizedState}function _E(r,s,l){var h=Ci(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Wm(r))Km(s,l);else if(l=Im(r,s,l,h),l!==null){var p=on();lr(l,r,h,p),Gm(l,s,h)}}function wE(r,s,l){var h=Ci(r),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Wm(r))Km(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,R=y(E,l);if(p.hasEagerState=!0,p.eagerState=R,rr(R,E)){var L=s.interleaved;L===null?(p.next=p,Ph(s)):(p.next=L.next,L.next=p),s.interleaved=p;return}}catch{}finally{}l=Im(r,s,p,h),l!==null&&(p=on(),lr(l,r,h,p),Gm(l,s,h))}}function Wm(r){var s=r.alternate;return r===ft||s!==null&&s===ft}function Km(r,s){Pa=gu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Gm(r,s,l){if((l&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,di(r,l)}}var _u={readContext:zn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},EE={readContext:zn,useCallback:function(r,s){return _r().memoizedState=[r,s===void 0?null:s],r},useContext:zn,useEffect:Mm,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,yu(4194308,4,zm.bind(null,s,r),l)},useLayoutEffect:function(r,s){return yu(4194308,4,r,s)},useInsertionEffect:function(r,s){return yu(4,2,r,s)},useMemo:function(r,s){var l=_r();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=_r();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=_E.bind(null,ft,r),[h.memoizedState,r]},useRef:function(r){var s=_r();return r={current:r},s.memoizedState=r},useState:Lm,useDebugValue:Bh,useDeferredValue:function(r){return _r().memoizedState=r},useTransition:function(){var r=Lm(!1),s=r[0];return r=vE.bind(null,r[1]),_r().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=ft,p=_r();if(ct){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),bt===null)throw Error(t(349));(gs&30)!==0||Rm(h,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,Mm(bm.bind(null,h,y,r),[r]),h.flags|=2048,ba(9,Nm.bind(null,h,y,l,s),void 0,null),l},useId:function(){var r=_r(),s=bt.identifierPrefix;if(ct){var l=$r,h=Br;l=(h&~(1<<32-nn(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=Ra++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=yE++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},TE={readContext:zn,useCallback:Bm,useContext:zn,useEffect:jh,useImperativeHandle:jm,useInsertionEffect:Fm,useLayoutEffect:Um,useMemo:$m,useReducer:Uh,useRef:Vm,useState:function(){return Uh(Na)},useDebugValue:Bh,useDeferredValue:function(r){var s=jn();return Hm(s,xt.memoizedState,r)},useTransition:function(){var r=Uh(Na)[0],s=jn().memoizedState;return[r,s]},useMutableSource:Cm,useSyncExternalStore:Pm,useId:qm,unstable_isNewReconciler:!1},IE={readContext:zn,useCallback:Bm,useContext:zn,useEffect:jh,useImperativeHandle:jm,useInsertionEffect:Fm,useLayoutEffect:Um,useMemo:$m,useReducer:zh,useRef:Vm,useState:function(){return zh(Na)},useDebugValue:Bh,useDeferredValue:function(r){var s=jn();return xt===null?s.memoizedState=r:Hm(s,xt.memoizedState,r)},useTransition:function(){var r=zh(Na)[0],s=jn().memoizedState;return[r,s]},useMutableSource:Cm,useSyncExternalStore:Pm,useId:qm,unstable_isNewReconciler:!1};function sr(r,s){if(r&&r.defaultProps){s=x({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function $h(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:x({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var wu={isMounted:function(r){return(r=r._reactInternals)?Yn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=on(),p=Ci(r),y=qr(h,p);y.payload=s,l!=null&&(y.callback=l),s=ki(r,y,p),s!==null&&(lr(s,r,p,h),fu(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=on(),p=Ci(r),y=qr(h,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=ki(r,y,p),s!==null&&(lr(s,r,p,h),fu(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=on(),h=Ci(r),p=qr(l,h);p.tag=2,s!=null&&(p.callback=s),s=ki(r,p,h),s!==null&&(lr(s,r,h,l),fu(s,r,h))}};function Qm(r,s,l,h,p,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,E):s.prototype&&s.prototype.isPureReactComponent?!va(l,h)||!va(p,y):!0}function Ym(r,s,l){var h=!1,p=Ei,y=s.contextType;return typeof y=="object"&&y!==null?y=zn(y):(p=fn(s)?hs:qt.current,h=s.contextTypes,y=(h=h!=null)?co(r,p):Ei),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=wu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function Xm(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&wu.enqueueReplaceState(s,s.state,null)}function Hh(r,s,l,h){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},Rh(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=zn(y):(y=fn(s)?hs:qt.current,p.context=co(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&($h(r,s,y,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&wu.enqueueReplaceState(p,p.state,null),du(r,l,p,h),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function _o(r,s){try{var l="",h=s;do l+=Re(h),h=h.return;while(h);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function qh(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Wh(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var kE=typeof WeakMap=="function"?WeakMap:Map;function Jm(r,s,l){l=qr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){Au||(Au=!0,lf=h),Wh(r,s)},l}function Zm(r,s,l){l=qr(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;l.payload=function(){return h(p)},l.callback=function(){Wh(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Wh(r,s),typeof h!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function eg(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new kE;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(l)||(p.add(l),r=FE.bind(null,r,s,l),s.then(r,r))}function tg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function ng(r,s,l,h,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=qr(-1,1),s.tag=2,ki(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var SE=he.ReactCurrentOwner,dn=!1;function sn(r,s,l,h){s.child=r===null?Tm(s,null,l,h):mo(s,r.child,l,h)}function rg(r,s,l,h,p){l=l.render;var y=s.ref;return yo(s,p),h=Mh(r,s,l,h,y,p),l=Fh(),r!==null&&!dn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Wr(r,s,p)):(ct&&l&&wh(s),s.flags|=1,sn(r,s,h,p),s.child)}function ig(r,s,l,h,p){if(r===null){var y=l.type;return typeof y=="function"&&!mf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,sg(r,s,y,h,p)):(r=Du(l.type,null,h,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&p)===0){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:va,l(E,h)&&r.ref===s.ref)return Wr(r,s,p)}return s.flags|=1,r=Ri(y,h),r.ref=s.ref,r.return=s,s.child=r}function sg(r,s,l,h,p){if(r!==null){var y=r.memoizedProps;if(va(y,h)&&r.ref===s.ref)if(dn=!1,s.pendingProps=h=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(dn=!0);else return s.lanes=r.lanes,Wr(r,s,p)}return Kh(r,s,l,h,p)}function og(r,s,l){var h=s.pendingProps,p=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Eo,An),An|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,rt(Eo,An),An|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,rt(Eo,An),An|=h}else y!==null?(h=y.baseLanes|l,s.memoizedState=null):h=l,rt(Eo,An),An|=h;return sn(r,s,p,l),s.child}function ag(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Kh(r,s,l,h,p){var y=fn(l)?hs:qt.current;return y=co(s,y),yo(s,p),l=Mh(r,s,l,h,y,p),h=Fh(),r!==null&&!dn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Wr(r,s,p)):(ct&&h&&wh(s),s.flags|=1,sn(r,s,l,p),s.child)}function lg(r,s,l,h,p){if(fn(l)){var y=!0;iu(s)}else y=!1;if(yo(s,p),s.stateNode===null)Tu(r,s),Ym(s,l,h),Hh(s,l,h,p),h=!0;else if(r===null){var E=s.stateNode,R=s.memoizedProps;E.props=R;var L=E.context,q=l.contextType;typeof q=="object"&&q!==null?q=zn(q):(q=fn(l)?hs:qt.current,q=co(s,q));var J=l.getDerivedStateFromProps,ne=typeof J=="function"||typeof E.getSnapshotBeforeUpdate=="function";ne||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==h||L!==q)&&Xm(s,E,h,q),Ii=!1;var X=s.memoizedState;E.state=X,du(s,h,E,p),L=s.memoizedState,R!==h||X!==L||hn.current||Ii?(typeof J=="function"&&($h(s,l,J,h),L=s.memoizedState),(R=Ii||Qm(s,l,R,h,X,L,q))?(ne||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=L),E.props=h,E.state=L,E.context=q,h=R):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,km(r,s),R=s.memoizedProps,q=s.type===s.elementType?R:sr(s.type,R),E.props=q,ne=s.pendingProps,X=E.context,L=l.contextType,typeof L=="object"&&L!==null?L=zn(L):(L=fn(l)?hs:qt.current,L=co(s,L));var ce=l.getDerivedStateFromProps;(J=typeof ce=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==ne||X!==L)&&Xm(s,E,h,L),Ii=!1,X=s.memoizedState,E.state=X,du(s,h,E,p);var de=s.memoizedState;R!==ne||X!==de||hn.current||Ii?(typeof ce=="function"&&($h(s,l,ce,h),de=s.memoizedState),(q=Ii||Qm(s,l,q,h,X,de,L)||!1)?(J||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,de,L),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,de,L)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||R===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=de),E.props=h,E.state=de,E.context=L,h=q):(typeof E.componentDidUpdate!="function"||R===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),h=!1)}return Gh(r,s,l,h,y,p)}function Gh(r,s,l,h,p,y){ag(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return p&&dm(s,l,!1),Wr(r,s,y);h=s.stateNode,SE.current=s;var R=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=mo(s,r.child,null,y),s.child=mo(s,null,R,y)):sn(r,s,R,y),s.memoizedState=h.state,p&&dm(s,l,!0),s.child}function ug(r){var s=r.stateNode;s.pendingContext?hm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&hm(r,s.context,!1),Nh(r,s.containerInfo)}function cg(r,s,l,h,p){return po(),kh(p),s.flags|=256,sn(r,s,l,h),s.child}var Qh={dehydrated:null,treeContext:null,retryLane:0};function Yh(r){return{baseLanes:r,cachePool:null,transitions:null}}function hg(r,s,l){var h=s.pendingProps,p=ht.current,y=!1,E=(s.flags&128)!==0,R;if((R=E)||(R=r!==null&&r.memoizedState===null?!1:(p&2)!==0),R?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),rt(ht,p&1),r===null)return Ih(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=h.children,r=h.fallback,y?(h=s.mode,y=s.child,E={mode:"hidden",children:E},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=Ou(E,h,0,null),r=Es(r,h,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Yh(l),s.memoizedState=Qh,r):Xh(s,E));if(p=r.memoizedState,p!==null&&(R=p.dehydrated,R!==null))return xE(r,s,E,h,R,p,l);if(y){y=h.fallback,E=s.mode,p=r.child,R=p.sibling;var L={mode:"hidden",children:h.children};return(E&1)===0&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=L,s.deletions=null):(h=Ri(p,L),h.subtreeFlags=p.subtreeFlags&14680064),R!==null?y=Ri(R,y):(y=Es(y,E,l,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,E=r.child.memoizedState,E=E===null?Yh(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=r.childLanes&~l,s.memoizedState=Qh,h}return y=r.child,r=y.sibling,h=Ri(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function Xh(r,s){return s=Ou({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Eu(r,s,l,h){return h!==null&&kh(h),mo(s,r.child,null,l),r=Xh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function xE(r,s,l,h,p,y,E){if(l)return s.flags&256?(s.flags&=-257,h=qh(Error(t(422))),Eu(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=h.fallback,p=s.mode,h=Ou({mode:"visible",children:h.children},p,0,null),y=Es(y,p,E,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&mo(s,r.child,null,E),s.child.memoizedState=Yh(E),s.memoizedState=Qh,y);if((s.mode&1)===0)return Eu(r,s,E,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var R=h.dgst;return h=R,y=Error(t(419)),h=qh(y,h,void 0),Eu(r,s,E,h)}if(R=(E&r.childLanes)!==0,dn||R){if(h=bt,h!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|E))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Hr(r,p),lr(h,r,p,-1))}return pf(),h=qh(Error(t(421))),Eu(r,s,E,h)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=UE.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,xn=_i(p.nextSibling),Sn=s,ct=!0,ir=null,r!==null&&(Fn[Un++]=Br,Fn[Un++]=$r,Fn[Un++]=fs,Br=r.id,$r=r.overflow,fs=s),s=Xh(s,h.children),s.flags|=4096,s)}function fg(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Ch(r.return,s,l)}function Jh(r,s,l,h,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function dg(r,s,l){var h=s.pendingProps,p=h.revealOrder,y=h.tail;if(sn(r,s,h.children,l),h=ht.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&fg(r,l,s);else if(r.tag===19)fg(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(rt(ht,h),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&pu(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Jh(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&pu(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Jh(s,!0,l,null,y);break;case"together":Jh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Tu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Wr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),ys|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Ri(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Ri(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function AE(r,s,l){switch(s.tag){case 3:ug(s),po();break;case 5:Am(s);break;case 1:fn(s.type)&&iu(s);break;case 4:Nh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;rt(cu,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(rt(ht,ht.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?hg(r,s,l):(rt(ht,ht.current&1),r=Wr(r,s,l),r!==null?r.sibling:null);rt(ht,ht.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(r.flags&128)!==0){if(h)return dg(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),rt(ht,ht.current),h)break;return null;case 22:case 23:return s.lanes=0,og(r,s,l)}return Wr(r,s,l)}var pg,Zh,mg,gg;pg=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Zh=function(){},mg=function(r,s,l,h){var p=r.memoizedProps;if(p!==h){r=s.stateNode,ms(vr.current);var y=null;switch(l){case"input":p=Nr(r,p),h=Nr(r,h),y=[];break;case"select":p=x({},p,{value:void 0}),h=x({},h,{value:void 0}),y=[];break;case"textarea":p=Yi(r,p),h=Yi(r,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=tu)}kt(l,h);var E;l=null;for(q in p)if(!h.hasOwnProperty(q)&&p.hasOwnProperty(q)&&p[q]!=null)if(q==="style"){var R=p[q];for(E in R)R.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?y||(y=[]):(y=y||[]).push(q,null));for(q in h){var L=h[q];if(R=p?.[q],h.hasOwnProperty(q)&&L!==R&&(L!=null||R!=null))if(q==="style")if(R){for(E in R)!R.hasOwnProperty(E)||L&&L.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in L)L.hasOwnProperty(E)&&R[E]!==L[E]&&(l||(l={}),l[E]=L[E])}else l||(y||(y=[]),y.push(q,l)),l=L;else q==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,R=R?R.__html:void 0,L!=null&&R!==L&&(y=y||[]).push(q,L)):q==="children"?typeof L!="string"&&typeof L!="number"||(y=y||[]).push(q,""+L):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(L!=null&&q==="onScroll"&&at("scroll",r),y||R===L||(y=[])):(y=y||[]).push(q,L))}l&&(y=y||[]).push("style",l);var q=y;(s.updateQueue=q)&&(s.flags|=4)}},gg=function(r,s,l,h){l!==h&&(s.flags|=4)};function Da(r,s){if(!ct)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Kt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function CE(r,s,l){var h=s.pendingProps;switch(Eh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(s),null;case 1:return fn(s.type)&&ru(),Kt(s),null;case 3:return h=s.stateNode,vo(),lt(hn),lt(qt),Oh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(lu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ir!==null&&(hf(ir),ir=null))),Zh(r,s),Kt(s),null;case 5:bh(s);var p=ms(Ca.current);if(l=s.type,r!==null&&s.stateNode!=null)mg(r,s,l,h,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Kt(s),null}if(r=ms(vr.current),lu(s)){h=s.stateNode,l=s.type;var y=s.memoizedProps;switch(h[yr]=s,h[Ia]=y,r=(s.mode&1)!==0,l){case"dialog":at("cancel",h),at("close",h);break;case"iframe":case"object":case"embed":at("load",h);break;case"video":case"audio":for(p=0;p<wa.length;p++)at(wa[p],h);break;case"source":at("error",h);break;case"img":case"image":case"link":at("error",h),at("load",h);break;case"details":at("toggle",h);break;case"input":br(h,y),at("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},at("invalid",h);break;case"textarea":ai(h,y),at("invalid",h)}kt(l,y),p=null;for(var E in y)if(y.hasOwnProperty(E)){var R=y[E];E==="children"?typeof R=="string"?h.textContent!==R&&(y.suppressHydrationWarning!==!0&&eu(h.textContent,R,r),p=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(y.suppressHydrationWarning!==!0&&eu(h.textContent,R,r),p=["children",""+R]):o.hasOwnProperty(E)&&R!=null&&E==="onScroll"&&at("scroll",h)}switch(l){case"input":ln(h),Ls(h,y,!0);break;case"textarea":ln(h),Xi(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=tu)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=K(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(l,{is:h.is}):(r=E.createElement(l),l==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,l),r[yr]=s,r[Ia]=h,pg(r,s,!1,!1),s.stateNode=r;e:{switch(E=Dn(l,h),l){case"dialog":at("cancel",r),at("close",r),p=h;break;case"iframe":case"object":case"embed":at("load",r),p=h;break;case"video":case"audio":for(p=0;p<wa.length;p++)at(wa[p],r);p=h;break;case"source":at("error",r),p=h;break;case"img":case"image":case"link":at("error",r),at("load",r),p=h;break;case"details":at("toggle",r),p=h;break;case"input":br(r,h),p=Nr(r,h),at("invalid",r);break;case"option":p=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},p=x({},h,{value:void 0}),at("invalid",r);break;case"textarea":ai(r,h),p=Yi(r,h),at("invalid",r);break;default:p=h}kt(l,p),R=p;for(y in R)if(R.hasOwnProperty(y)){var L=R[y];y==="style"?Wn(r,L):y==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Le(r,L)):y==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&ze(r,L):typeof L=="number"&&ze(r,""+L):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?L!=null&&y==="onScroll"&&at("scroll",r):L!=null&&Z(r,y,L,E))}switch(l){case"input":ln(r),Ls(r,h,!1);break;case"textarea":ln(r),Xi(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Me(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?qn(r,!!h.multiple,y,!1):h.defaultValue!=null&&qn(r,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=tu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Kt(s),null;case 6:if(r&&s.stateNode!=null)gg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=ms(Ca.current),ms(vr.current),lu(s)){if(h=s.stateNode,l=s.memoizedProps,h[yr]=s,(y=h.nodeValue!==l)&&(r=Sn,r!==null))switch(r.tag){case 3:eu(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&eu(h.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[yr]=s,s.stateNode=h}return Kt(s),null;case 13:if(lt(ht),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ct&&xn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)_m(),po(),s.flags|=98560,y=!1;else if(y=lu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[yr]=s}else po(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Kt(s),y=!1}else ir!==null&&(hf(ir),ir=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(ht.current&1)!==0?At===0&&(At=3):pf())),s.updateQueue!==null&&(s.flags|=4),Kt(s),null);case 4:return vo(),Zh(r,s),r===null&&Ea(s.stateNode.containerInfo),Kt(s),null;case 10:return Ah(s.type._context),Kt(s),null;case 17:return fn(s.type)&&ru(),Kt(s),null;case 19:if(lt(ht),y=s.memoizedState,y===null)return Kt(s),null;if(h=(s.flags&128)!==0,E=y.rendering,E===null)if(h)Da(y,!1);else{if(At!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=pu(r),E!==null){for(s.flags|=128,Da(y,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)y=l,r=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,r=E.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return rt(ht,ht.current&1|2),s.child}r=r.sibling}y.tail!==null&&nt()>To&&(s.flags|=128,h=!0,Da(y,!1),s.lanes=4194304)}else{if(!h)if(r=pu(E),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Da(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!ct)return Kt(s),null}else 2*nt()-y.renderingStartTime>To&&l!==1073741824&&(s.flags|=128,h=!0,Da(y,!1),s.lanes=4194304);y.isBackwards?(E.sibling=s.child,s.child=E):(l=y.last,l!==null?l.sibling=E:s.child=E,y.last=E)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=nt(),s.sibling=null,l=ht.current,rt(ht,h?l&1|2:l&1),s):(Kt(s),null);case 22:case 23:return df(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(An&1073741824)!==0&&(Kt(s),s.subtreeFlags&6&&(s.flags|=8192)):Kt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function PE(r,s){switch(Eh(s),s.tag){case 1:return fn(s.type)&&ru(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return vo(),lt(hn),lt(qt),Oh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return bh(s),null;case 13:if(lt(ht),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));po()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return lt(ht),null;case 4:return vo(),null;case 10:return Ah(s.type._context),null;case 22:case 23:return df(),null;case 24:return null;default:return null}}var Iu=!1,Gt=!1,RE=typeof WeakSet=="function"?WeakSet:Set,fe=null;function wo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){pt(r,s,h)}else l.current=null}function ef(r,s,l){try{l()}catch(h){pt(r,s,h)}}var yg=!1;function NE(r,s){if(fh=gi,r=Qp(),ih(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,R=-1,L=-1,q=0,J=0,ne=r,X=null;t:for(;;){for(var ce;ne!==l||p!==0&&ne.nodeType!==3||(R=E+p),ne!==y||h!==0&&ne.nodeType!==3||(L=E+h),ne.nodeType===3&&(E+=ne.nodeValue.length),(ce=ne.firstChild)!==null;)X=ne,ne=ce;for(;;){if(ne===r)break t;if(X===l&&++q===p&&(R=E),X===y&&++J===h&&(L=E),(ce=ne.nextSibling)!==null)break;ne=X,X=ne.parentNode}ne=ce}l=R===-1||L===-1?null:{start:R,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(dh={focusedElem:r,selectionRange:l},gi=!1,fe=s;fe!==null;)if(s=fe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,fe=r;else for(;fe!==null;){s=fe;try{var de=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var ge=de.memoizedProps,yt=de.memoizedState,j=s.stateNode,V=j.getSnapshotBeforeUpdate(s.elementType===s.type?ge:sr(s.type,ge),yt);j.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var $=s.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){pt(s,s.return,ae)}if(r=s.sibling,r!==null){r.return=s.return,fe=r;break}fe=s.return}return de=yg,yg=!1,de}function Oa(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&ef(s,l,y)}p=p.next}while(p!==h)}}function ku(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function tf(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function vg(r){var s=r.alternate;s!==null&&(r.alternate=null,vg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[yr],delete s[Ia],delete s[yh],delete s[dE],delete s[pE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function _g(r){return r.tag===5||r.tag===3||r.tag===4}function wg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||_g(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function nf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=tu));else if(h!==4&&(r=r.child,r!==null))for(nf(r,s,l),r=r.sibling;r!==null;)nf(r,s,l),r=r.sibling}function rf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(rf(r,s,l),r=r.sibling;r!==null;)rf(r,s,l),r=r.sibling}var Ft=null,or=!1;function Si(r,s,l){for(l=l.child;l!==null;)Eg(r,s,l),l=l.sibling}function Eg(r,s,l){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(rs,l)}catch{}switch(l.tag){case 5:Gt||wo(l,s);case 6:var h=Ft,p=or;Ft=null,Si(r,s,l),Ft=h,or=p,Ft!==null&&(or?(r=Ft,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Ft.removeChild(l.stateNode));break;case 18:Ft!==null&&(or?(r=Ft,l=l.stateNode,r.nodeType===8?gh(r.parentNode,l):r.nodeType===1&&gh(r,l),tr(r)):gh(Ft,l.stateNode));break;case 4:h=Ft,p=or,Ft=l.stateNode.containerInfo,or=!0,Si(r,s,l),Ft=h,or=p;break;case 0:case 11:case 14:case 15:if(!Gt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&ef(l,s,E),p=p.next}while(p!==h)}Si(r,s,l);break;case 1:if(!Gt&&(wo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(R){pt(l,s,R)}Si(r,s,l);break;case 21:Si(r,s,l);break;case 22:l.mode&1?(Gt=(h=Gt)||l.memoizedState!==null,Si(r,s,l),Gt=h):Si(r,s,l);break;default:Si(r,s,l)}}function Tg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new RE),s.forEach(function(h){var p=zE.bind(null,r,h);l.has(h)||(l.add(h),h.then(p,p))})}}function ar(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var y=r,E=s,R=E;e:for(;R!==null;){switch(R.tag){case 5:Ft=R.stateNode,or=!1;break e;case 3:Ft=R.stateNode.containerInfo,or=!0;break e;case 4:Ft=R.stateNode.containerInfo,or=!0;break e}R=R.return}if(Ft===null)throw Error(t(160));Eg(y,E,p),Ft=null,or=!1;var L=p.alternate;L!==null&&(L.return=null),p.return=null}catch(q){pt(p,s,q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ig(s,r),s=s.sibling}function Ig(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(ar(s,r),wr(r),h&4){try{Oa(3,r,r.return),ku(3,r)}catch(ge){pt(r,r.return,ge)}try{Oa(5,r,r.return)}catch(ge){pt(r,r.return,ge)}}break;case 1:ar(s,r),wr(r),h&512&&l!==null&&wo(l,l.return);break;case 5:if(ar(s,r),wr(r),h&512&&l!==null&&wo(l,l.return),r.flags&32){var p=r.stateNode;try{ze(p,"")}catch(ge){pt(r,r.return,ge)}}if(h&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,E=l!==null?l.memoizedProps:y,R=r.type,L=r.updateQueue;if(r.updateQueue=null,L!==null)try{R==="input"&&y.type==="radio"&&y.name!=null&&si(p,y),Dn(R,E);var q=Dn(R,y);for(E=0;E<L.length;E+=2){var J=L[E],ne=L[E+1];J==="style"?Wn(p,ne):J==="dangerouslySetInnerHTML"?Le(p,ne):J==="children"?ze(p,ne):Z(p,J,ne,q)}switch(R){case"input":oi(p,y);break;case"textarea":li(p,y);break;case"select":var X=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ce=y.value;ce!=null?qn(p,!!y.multiple,ce,!1):X!==!!y.multiple&&(y.defaultValue!=null?qn(p,!!y.multiple,y.defaultValue,!0):qn(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ia]=y}catch(ge){pt(r,r.return,ge)}}break;case 6:if(ar(s,r),wr(r),h&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(ge){pt(r,r.return,ge)}}break;case 3:if(ar(s,r),wr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{tr(s.containerInfo)}catch(ge){pt(r,r.return,ge)}break;case 4:ar(s,r),wr(r);break;case 13:ar(s,r),wr(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(af=nt())),h&4&&Tg(r);break;case 22:if(J=l!==null&&l.memoizedState!==null,r.mode&1?(Gt=(q=Gt)||J,ar(s,r),Gt=q):ar(s,r),wr(r),h&8192){if(q=r.memoizedState!==null,(r.stateNode.isHidden=q)&&!J&&(r.mode&1)!==0)for(fe=r,J=r.child;J!==null;){for(ne=fe=J;fe!==null;){switch(X=fe,ce=X.child,X.tag){case 0:case 11:case 14:case 15:Oa(4,X,X.return);break;case 1:wo(X,X.return);var de=X.stateNode;if(typeof de.componentWillUnmount=="function"){h=X,l=X.return;try{s=h,de.props=s.memoizedProps,de.state=s.memoizedState,de.componentWillUnmount()}catch(ge){pt(h,l,ge)}}break;case 5:wo(X,X.return);break;case 22:if(X.memoizedState!==null){xg(ne);continue}}ce!==null?(ce.return=X,fe=ce):xg(ne)}J=J.sibling}e:for(J=null,ne=r;;){if(ne.tag===5){if(J===null){J=ne;try{p=ne.stateNode,q?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(R=ne.stateNode,L=ne.memoizedProps.style,E=L!=null&&L.hasOwnProperty("display")?L.display:null,R.style.display=tn("display",E))}catch(ge){pt(r,r.return,ge)}}}else if(ne.tag===6){if(J===null)try{ne.stateNode.nodeValue=q?"":ne.memoizedProps}catch(ge){pt(r,r.return,ge)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;J===ne&&(J=null),ne=ne.return}J===ne&&(J=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:ar(s,r),wr(r),h&4&&Tg(r);break;case 21:break;default:ar(s,r),wr(r)}}function wr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(_g(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(ze(p,""),h.flags&=-33);var y=wg(r);rf(r,y,p);break;case 3:case 4:var E=h.stateNode.containerInfo,R=wg(r);nf(r,R,E);break;default:throw Error(t(161))}}catch(L){pt(r,r.return,L)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function bE(r,s,l){fe=r,kg(r)}function kg(r,s,l){for(var h=(r.mode&1)!==0;fe!==null;){var p=fe,y=p.child;if(p.tag===22&&h){var E=p.memoizedState!==null||Iu;if(!E){var R=p.alternate,L=R!==null&&R.memoizedState!==null||Gt;R=Iu;var q=Gt;if(Iu=E,(Gt=L)&&!q)for(fe=p;fe!==null;)E=fe,L=E.child,E.tag===22&&E.memoizedState!==null?Ag(p):L!==null?(L.return=E,fe=L):Ag(p);for(;y!==null;)fe=y,kg(y),y=y.sibling;fe=p,Iu=R,Gt=q}Sg(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,fe=y):Sg(r)}}function Sg(r){for(;fe!==null;){var s=fe;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Gt||ku(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Gt)if(l===null)h.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:sr(s.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&xm(s,y,h);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}xm(s,E,l)}break;case 5:var R=s.stateNode;if(l===null&&s.flags&4){l=R;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var q=s.alternate;if(q!==null){var J=q.memoizedState;if(J!==null){var ne=J.dehydrated;ne!==null&&tr(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Gt||s.flags&512&&tf(s)}catch(X){pt(s,s.return,X)}}if(s===r){fe=null;break}if(l=s.sibling,l!==null){l.return=s.return,fe=l;break}fe=s.return}}function xg(r){for(;fe!==null;){var s=fe;if(s===r){fe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,fe=l;break}fe=s.return}}function Ag(r){for(;fe!==null;){var s=fe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{ku(4,s)}catch(L){pt(s,l,L)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(L){pt(s,p,L)}}var y=s.return;try{tf(s)}catch(L){pt(s,y,L)}break;case 5:var E=s.return;try{tf(s)}catch(L){pt(s,E,L)}}}catch(L){pt(s,s.return,L)}if(s===r){fe=null;break}var R=s.sibling;if(R!==null){R.return=s.return,fe=R;break}fe=s.return}}var DE=Math.ceil,Su=he.ReactCurrentDispatcher,sf=he.ReactCurrentOwner,Bn=he.ReactCurrentBatchConfig,Ge=0,bt=null,wt=null,Ut=0,An=0,Eo=wi(0),At=0,La=null,ys=0,xu=0,of=0,Va=null,pn=null,af=0,To=1/0,Kr=null,Au=!1,lf=null,xi=null,Cu=!1,Ai=null,Pu=0,Ma=0,uf=null,Ru=-1,Nu=0;function on(){return(Ge&6)!==0?nt():Ru!==-1?Ru:Ru=nt()}function Ci(r){return(r.mode&1)===0?1:(Ge&2)!==0&&Ut!==0?Ut&-Ut:gE.transition!==null?(Nu===0&&(Nu=ss()),Nu):(r=$e,r!==0||(r=window.event,r=r===void 0?16:ha(r.type)),r)}function lr(r,s,l,h){if(50<Ma)throw Ma=0,uf=null,Error(t(185));fi(r,l,h),((Ge&2)===0||r!==bt)&&(r===bt&&((Ge&2)===0&&(xu|=l),At===4&&Pi(r,Ut)),mn(r,h),l===1&&Ge===0&&(s.mode&1)===0&&(To=nt()+500,su&&Ti()))}function mn(r,s){var l=r.callbackNode;Lr(r,s);var h=is(r,r===bt?Ut:0);if(h===0)l!==null&&oa(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&oa(l),s===1)r.tag===0?mE(Pg.bind(null,r)):pm(Pg.bind(null,r)),hE(function(){(Ge&6)===0&&Ti()}),l=null;else{switch(pi(h)){case 1:l=ns;break;case 4:l=ui;break;case 16:l=Ln;break;case 536870912:l=Nl;break;default:l=Ln}l=Mg(l,Cg.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Cg(r,s){if(Ru=-1,Nu=0,(Ge&6)!==0)throw Error(t(327));var l=r.callbackNode;if(Io()&&r.callbackNode!==l)return null;var h=is(r,r===bt?Ut:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=bu(r,h);else{s=h;var p=Ge;Ge|=2;var y=Ng();(bt!==r||Ut!==s)&&(Kr=null,To=nt()+500,_s(r,s));do try{VE();break}catch(R){Rg(r,R)}while(!0);xh(),Su.current=y,Ge=p,wt!==null?s=0:(bt=null,Ut=0,s=At)}if(s!==0){if(s===2&&(p=Tn(r),p!==0&&(h=p,s=cf(r,p))),s===1)throw l=La,_s(r,0),Pi(r,h),mn(r,nt()),l;if(s===6)Pi(r,h);else{if(p=r.current.alternate,(h&30)===0&&!OE(p)&&(s=bu(r,h),s===2&&(y=Tn(r),y!==0&&(h=y,s=cf(r,y))),s===1))throw l=La,_s(r,0),Pi(r,h),mn(r,nt()),l;switch(r.finishedWork=p,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:ws(r,pn,Kr);break;case 3:if(Pi(r,h),(h&130023424)===h&&(s=af+500-nt(),10<s)){if(is(r,0)!==0)break;if(p=r.suspendedLanes,(p&h)!==h){on(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=mh(ws.bind(null,r,pn,Kr),s);break}ws(r,pn,Kr);break;case 4:if(Pi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,p=-1;0<h;){var E=31-nn(h);y=1<<E,E=s[E],E>p&&(p=E),h&=~y}if(h=p,h=nt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*DE(h/1960))-h,10<h){r.timeoutHandle=mh(ws.bind(null,r,pn,Kr),h);break}ws(r,pn,Kr);break;case 5:ws(r,pn,Kr);break;default:throw Error(t(329))}}}return mn(r,nt()),r.callbackNode===l?Cg.bind(null,r):null}function cf(r,s){var l=Va;return r.current.memoizedState.isDehydrated&&(_s(r,s).flags|=256),r=bu(r,s),r!==2&&(s=pn,pn=l,s!==null&&hf(s)),r}function hf(r){pn===null?pn=r:pn.push.apply(pn,r)}function OE(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!rr(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Pi(r,s){for(s&=~of,s&=~xu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-nn(s),h=1<<l;r[l]=-1,s&=~h}}function Pg(r){if((Ge&6)!==0)throw Error(t(327));Io();var s=is(r,0);if((s&1)===0)return mn(r,nt()),null;var l=bu(r,s);if(r.tag!==0&&l===2){var h=Tn(r);h!==0&&(s=h,l=cf(r,h))}if(l===1)throw l=La,_s(r,0),Pi(r,s),mn(r,nt()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ws(r,pn,Kr),mn(r,nt()),null}function ff(r,s){var l=Ge;Ge|=1;try{return r(s)}finally{Ge=l,Ge===0&&(To=nt()+500,su&&Ti())}}function vs(r){Ai!==null&&Ai.tag===0&&(Ge&6)===0&&Io();var s=Ge;Ge|=1;var l=Bn.transition,h=$e;try{if(Bn.transition=null,$e=1,r)return r()}finally{$e=h,Bn.transition=l,Ge=s,(Ge&6)===0&&Ti()}}function df(){An=Eo.current,lt(Eo)}function _s(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,cE(l)),wt!==null)for(l=wt.return;l!==null;){var h=l;switch(Eh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&ru();break;case 3:vo(),lt(hn),lt(qt),Oh();break;case 5:bh(h);break;case 4:vo();break;case 13:lt(ht);break;case 19:lt(ht);break;case 10:Ah(h.type._context);break;case 22:case 23:df()}l=l.return}if(bt=r,wt=r=Ri(r.current,null),Ut=An=s,At=0,La=null,of=xu=ys=0,pn=Va=null,ps!==null){for(s=0;s<ps.length;s++)if(l=ps[s],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,y=l.pending;if(y!==null){var E=y.next;y.next=p,h.next=E}l.pending=h}ps=null}return r}function Rg(r,s){do{var l=wt;try{if(xh(),mu.current=_u,gu){for(var h=ft.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}gu=!1}if(gs=0,Nt=xt=ft=null,Pa=!1,Ra=0,sf.current=null,l===null||l.return===null){At=1,La=s,wt=null;break}e:{var y=r,E=l.return,R=l,L=s;if(s=Ut,R.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var q=L,J=R,ne=J.tag;if((J.mode&1)===0&&(ne===0||ne===11||ne===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var ce=tg(E);if(ce!==null){ce.flags&=-257,ng(ce,E,R,y,s),ce.mode&1&&eg(y,q,s),s=ce,L=q;var de=s.updateQueue;if(de===null){var ge=new Set;ge.add(L),s.updateQueue=ge}else de.add(L);break e}else{if((s&1)===0){eg(y,q,s),pf();break e}L=Error(t(426))}}else if(ct&&R.mode&1){var yt=tg(E);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),ng(yt,E,R,y,s),kh(_o(L,R));break e}}y=L=_o(L,R),At!==4&&(At=2),Va===null?Va=[y]:Va.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var j=Jm(y,L,s);Sm(y,j);break e;case 1:R=L;var V=y.type,$=y.stateNode;if((y.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(xi===null||!xi.has($)))){y.flags|=65536,s&=-s,y.lanes|=s;var ae=Zm(y,R,s);Sm(y,ae);break e}}y=y.return}while(y!==null)}Dg(l)}catch(ve){s=ve,wt===l&&l!==null&&(wt=l=l.return);continue}break}while(!0)}function Ng(){var r=Su.current;return Su.current=_u,r===null?_u:r}function pf(){(At===0||At===3||At===2)&&(At=4),bt===null||(ys&268435455)===0&&(xu&268435455)===0||Pi(bt,Ut)}function bu(r,s){var l=Ge;Ge|=2;var h=Ng();(bt!==r||Ut!==s)&&(Kr=null,_s(r,s));do try{LE();break}catch(p){Rg(r,p)}while(!0);if(xh(),Ge=l,Su.current=h,wt!==null)throw Error(t(261));return bt=null,Ut=0,At}function LE(){for(;wt!==null;)bg(wt)}function VE(){for(;wt!==null&&!Pl();)bg(wt)}function bg(r){var s=Vg(r.alternate,r,An);r.memoizedProps=r.pendingProps,s===null?Dg(r):wt=s,sf.current=null}function Dg(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=CE(l,s,An),l!==null){wt=l;return}}else{if(l=PE(l,s),l!==null){l.flags&=32767,wt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{At=6,wt=null;return}}if(s=s.sibling,s!==null){wt=s;return}wt=s=r}while(s!==null);At===0&&(At=5)}function ws(r,s,l){var h=$e,p=Bn.transition;try{Bn.transition=null,$e=1,ME(r,s,l,h)}finally{Bn.transition=p,$e=h}return null}function ME(r,s,l,h){do Io();while(Ai!==null);if((Ge&6)!==0)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(tt(r,y),r===bt&&(wt=bt=null,Ut=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Cu||(Cu=!0,Mg(Ln,function(){return Io(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Bn.transition,Bn.transition=null;var E=$e;$e=1;var R=Ge;Ge|=4,sf.current=null,NE(r,l),Ig(l,r),rE(dh),gi=!!fh,dh=fh=null,r.current=l,bE(l),Yc(),Ge=R,$e=E,Bn.transition=y}else r.current=l;if(Cu&&(Cu=!1,Ai=r,Pu=p),y=r.pendingLanes,y===0&&(xi=null),bl(l.stateNode),mn(r,nt()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(Au)throw Au=!1,r=lf,lf=null,r;return(Pu&1)!==0&&r.tag!==0&&Io(),y=r.pendingLanes,(y&1)!==0?r===uf?Ma++:(Ma=0,uf=r):Ma=0,Ti(),null}function Io(){if(Ai!==null){var r=pi(Pu),s=Bn.transition,l=$e;try{if(Bn.transition=null,$e=16>r?16:r,Ai===null)var h=!1;else{if(r=Ai,Ai=null,Pu=0,(Ge&6)!==0)throw Error(t(331));var p=Ge;for(Ge|=4,fe=r.current;fe!==null;){var y=fe,E=y.child;if((fe.flags&16)!==0){var R=y.deletions;if(R!==null){for(var L=0;L<R.length;L++){var q=R[L];for(fe=q;fe!==null;){var J=fe;switch(J.tag){case 0:case 11:case 15:Oa(8,J,y)}var ne=J.child;if(ne!==null)ne.return=J,fe=ne;else for(;fe!==null;){J=fe;var X=J.sibling,ce=J.return;if(vg(J),J===q){fe=null;break}if(X!==null){X.return=ce,fe=X;break}fe=ce}}}var de=y.alternate;if(de!==null){var ge=de.child;if(ge!==null){de.child=null;do{var yt=ge.sibling;ge.sibling=null,ge=yt}while(ge!==null)}}fe=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,fe=E;else e:for(;fe!==null;){if(y=fe,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Oa(9,y,y.return)}var j=y.sibling;if(j!==null){j.return=y.return,fe=j;break e}fe=y.return}}var V=r.current;for(fe=V;fe!==null;){E=fe;var $=E.child;if((E.subtreeFlags&2064)!==0&&$!==null)$.return=E,fe=$;else e:for(E=V;fe!==null;){if(R=fe,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:ku(9,R)}}catch(ve){pt(R,R.return,ve)}if(R===E){fe=null;break e}var ae=R.sibling;if(ae!==null){ae.return=R.return,fe=ae;break e}fe=R.return}}if(Ge=p,Ti(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(rs,r)}catch{}h=!0}return h}finally{$e=l,Bn.transition=s}}return!1}function Og(r,s,l){s=_o(l,s),s=Jm(r,s,1),r=ki(r,s,1),s=on(),r!==null&&(fi(r,1,s),mn(r,s))}function pt(r,s,l){if(r.tag===3)Og(r,r,l);else for(;s!==null;){if(s.tag===3){Og(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(xi===null||!xi.has(h))){r=_o(l,r),r=Zm(s,r,1),s=ki(s,r,1),r=on(),s!==null&&(fi(s,1,r),mn(s,r));break}}s=s.return}}function FE(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=on(),r.pingedLanes|=r.suspendedLanes&l,bt===r&&(Ut&l)===l&&(At===4||At===3&&(Ut&130023424)===Ut&&500>nt()-af?_s(r,0):of|=l),mn(r,s)}function Lg(r,s){s===0&&((r.mode&1)===0?s=1:(s=qs,qs<<=1,(qs&130023424)===0&&(qs=4194304)));var l=on();r=Hr(r,s),r!==null&&(fi(r,s,l),mn(r,l))}function UE(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Lg(r,l)}function zE(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Lg(r,l)}var Vg;Vg=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||hn.current)dn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return dn=!1,AE(r,s,l);dn=(r.flags&131072)!==0}else dn=!1,ct&&(s.flags&1048576)!==0&&mm(s,au,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Tu(r,s),r=s.pendingProps;var p=co(s,qt.current);yo(s,l),p=Mh(null,s,h,r,p,l);var y=Fh();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,fn(h)?(y=!0,iu(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Rh(s),p.updater=wu,s.stateNode=p,p._reactInternals=s,Hh(s,h,r,l),s=Gh(null,s,h,!0,y,l)):(s.tag=0,ct&&y&&wh(s),sn(null,s,p,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Tu(r,s),r=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=BE(h),r=sr(h,r),p){case 0:s=Kh(null,s,h,r,l);break e;case 1:s=lg(null,s,h,r,l);break e;case 11:s=rg(null,s,h,r,l);break e;case 14:s=ig(null,s,h,sr(h.type,r),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:sr(h,p),Kh(r,s,h,p,l);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:sr(h,p),lg(r,s,h,p,l);case 3:e:{if(ug(s),r===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,p=y.element,km(r,s),du(s,h,null,l);var E=s.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=_o(Error(t(423)),s),s=cg(r,s,h,l,p);break e}else if(h!==p){p=_o(Error(t(424)),s),s=cg(r,s,h,l,p);break e}else for(xn=_i(s.stateNode.containerInfo.firstChild),Sn=s,ct=!0,ir=null,l=Tm(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(po(),h===p){s=Wr(r,s,l);break e}sn(r,s,h,l)}s=s.child}return s;case 5:return Am(s),r===null&&Ih(s),h=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,E=p.children,ph(h,p)?E=null:y!==null&&ph(h,y)&&(s.flags|=32),ag(r,s),sn(r,s,E,l),s.child;case 6:return r===null&&Ih(s),null;case 13:return hg(r,s,l);case 4:return Nh(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=mo(s,null,h,l):sn(r,s,h,l),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:sr(h,p),rg(r,s,h,p,l);case 7:return sn(r,s,s.pendingProps,l),s.child;case 8:return sn(r,s,s.pendingProps.children,l),s.child;case 12:return sn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,y=s.memoizedProps,E=p.value,rt(cu,h._currentValue),h._currentValue=E,y!==null)if(rr(y.value,E)){if(y.children===p.children&&!hn.current){s=Wr(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var R=y.dependencies;if(R!==null){E=y.child;for(var L=R.firstContext;L!==null;){if(L.context===h){if(y.tag===1){L=qr(-1,l&-l),L.tag=2;var q=y.updateQueue;if(q!==null){q=q.shared;var J=q.pending;J===null?L.next=L:(L.next=J.next,J.next=L),q.pending=L}}y.lanes|=l,L=y.alternate,L!==null&&(L.lanes|=l),Ch(y.return,l,s),R.lanes|=l;break}L=L.next}}else if(y.tag===10)E=y.type===s.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=l,R=E.alternate,R!==null&&(R.lanes|=l),Ch(E,l,s),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}sn(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,yo(s,l),p=zn(p),h=h(p),s.flags|=1,sn(r,s,h,l),s.child;case 14:return h=s.type,p=sr(h,s.pendingProps),p=sr(h.type,p),ig(r,s,h,p,l);case 15:return sg(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:sr(h,p),Tu(r,s),s.tag=1,fn(h)?(r=!0,iu(s)):r=!1,yo(s,l),Ym(s,h,p),Hh(s,h,p,l),Gh(null,s,h,!0,r,l);case 19:return dg(r,s,l);case 22:return og(r,s,l)}throw Error(t(156,s.tag))};function Mg(r,s){return $s(r,s)}function jE(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(r,s,l,h){return new jE(r,s,l,h)}function mf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function BE(r){if(typeof r=="function")return mf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===O)return 11;if(r===me)return 14}return 2}function Ri(r,s){var l=r.alternate;return l===null?(l=$n(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Du(r,s,l,h,p,y){var E=2;if(h=r,typeof r=="function")mf(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case b:return Es(l.children,p,y,s);case A:E=8,p|=8;break;case P:return r=$n(12,l,s,p|2),r.elementType=P,r.lanes=y,r;case S:return r=$n(13,l,s,p),r.elementType=S,r.lanes=y,r;case ue:return r=$n(19,l,s,p),r.elementType=ue,r.lanes=y,r;case Pe:return Ou(l,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:E=10;break e;case N:E=9;break e;case O:E=11;break e;case me:E=14;break e;case Be:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=$n(E,l,s,p),s.elementType=r,s.type=h,s.lanes=y,s}function Es(r,s,l,h){return r=$n(7,r,h,s),r.lanes=l,r}function Ou(r,s,l,h){return r=$n(22,r,h,s),r.elementType=Pe,r.lanes=l,r.stateNode={isHidden:!1},r}function gf(r,s,l){return r=$n(6,r,null,s),r.lanes=l,r}function yf(r,s,l){return s=$n(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function $E(r,s,l,h,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hi(0),this.expirationTimes=hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function vf(r,s,l,h,p,y,E,R,L){return r=new $E(r,s,l,R,L),s===1?(s=1,y===!0&&(s|=8)):s=0,y=$n(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rh(y),r}function HE(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function Fg(r){if(!r)return Ei;r=r._reactInternals;e:{if(Yn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(fn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(fn(l))return fm(r,l,s)}return s}function Ug(r,s,l,h,p,y,E,R,L){return r=vf(l,h,!0,r,p,y,E,R,L),r.context=Fg(null),l=r.current,h=on(),p=Ci(l),y=qr(h,p),y.callback=s??null,ki(l,y,p),r.current.lanes=p,fi(r,p,h),mn(r,h),r}function Lu(r,s,l,h){var p=s.current,y=on(),E=Ci(p);return l=Fg(l),s.context===null?s.context=l:s.pendingContext=l,s=qr(y,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=ki(p,s,E),r!==null&&(lr(r,p,E,y),fu(r,p,E)),E}function Vu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function zg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function _f(r,s){zg(r,s),(r=r.alternate)&&zg(r,s)}function qE(){return null}var jg=typeof reportError=="function"?reportError:function(r){console.error(r)};function wf(r){this._internalRoot=r}Mu.prototype.render=wf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Lu(r,s,null,null)},Mu.prototype.unmount=wf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;vs(function(){Lu(null,r,null,null)}),s[zr]=null}};function Mu(r){this._internalRoot=r}Mu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ml();r={blockedOn:null,target:r,priority:s};for(var l=0;l<dr.length&&s!==0&&s<dr[l].priority;l++);dr.splice(l,0,r),l===0&&zl(r)}};function Ef(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Fu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Bg(){}function WE(r,s,l,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var q=Vu(E);y.call(q)}}var E=Ug(s,h,r,0,null,!1,!1,"",Bg);return r._reactRootContainer=E,r[zr]=E.current,Ea(r.nodeType===8?r.parentNode:r),vs(),E}for(;p=r.lastChild;)r.removeChild(p);if(typeof h=="function"){var R=h;h=function(){var q=Vu(L);R.call(q)}}var L=vf(r,0,!1,null,null,!1,!1,"",Bg);return r._reactRootContainer=L,r[zr]=L.current,Ea(r.nodeType===8?r.parentNode:r),vs(function(){Lu(s,L,l,h)}),L}function Uu(r,s,l,h,p){var y=l._reactRootContainer;if(y){var E=y;if(typeof p=="function"){var R=p;p=function(){var L=Vu(E);R.call(L)}}Lu(s,E,r,p)}else E=WE(l,s,r,p,h);return Vu(E)}Ll=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=ci(s.pendingLanes);l!==0&&(di(s,l|1),mn(s,nt()),(Ge&6)===0&&(To=nt()+500,Ti()))}break;case 13:vs(function(){var h=Hr(r,1);if(h!==null){var p=on();lr(h,r,1,p)}}),_f(r,1)}},Ws=function(r){if(r.tag===13){var s=Hr(r,134217728);if(s!==null){var l=on();lr(s,r,134217728,l)}_f(r,134217728)}},Vl=function(r){if(r.tag===13){var s=Ci(r),l=Hr(r,s);if(l!==null){var h=on();lr(l,r,s,h)}_f(r,s)}},Ml=function(){return $e},Fl=function(r,s){var l=$e;try{return $e=r,s()}finally{$e=l}},Ms=function(r,s,l){switch(s){case"input":if(oi(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var p=nu(h);if(!p)throw Error(t(90));ii(h),oi(h,p)}}}break;case"textarea":li(r,l);break;case"select":s=l.value,s!=null&&qn(r,!!l.multiple,s,!1)}},Ji=ff,na=vs;var KE={usingClientEntryPoint:!1,Events:[ka,lo,nu,hr,ta,ff]},Fa={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GE={bundleType:Fa.bundleType,version:Fa.version,rendererPackageName:Fa.rendererPackageName,rendererConfig:Fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:he.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=sa(r),r===null?null:r.stateNode},findFiberByHostInstance:Fa.findFiberByHostInstance||qE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{rs=zu.inject(GE),En=zu}catch{}}return gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KE,gn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ef(s))throw Error(t(200));return HE(r,s,null,l)},gn.createRoot=function(r,s){if(!Ef(r))throw Error(t(299));var l=!1,h="",p=jg;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=vf(r,1,!1,null,null,l,!1,h,p),r[zr]=s.current,Ea(r.nodeType===8?r.parentNode:r),new wf(s)},gn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=sa(s),r=r===null?null:r.stateNode,r},gn.flushSync=function(r){return vs(r)},gn.hydrate=function(r,s,l){if(!Fu(s))throw Error(t(200));return Uu(null,r,s,!0,l)},gn.hydrateRoot=function(r,s,l){if(!Ef(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,y="",E=jg;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=Ug(s,null,r,1,l??null,p,!1,y,E),r[zr]=s.current,Ea(r),h)for(r=0;r<h.length;r++)l=h[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new Mu(s)},gn.render=function(r,s,l){if(!Fu(s))throw Error(t(200));return Uu(null,r,s,!1,l)},gn.unmountComponentAtNode=function(r){if(!Fu(r))throw Error(t(40));return r._reactRootContainer?(vs(function(){Uu(null,null,r,!1,function(){r._reactRootContainer=null,r[zr]=null})}),!0):!1},gn.unstable_batchedUpdates=ff,gn.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!Fu(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Uu(r,s,l,!1,h)},gn.version="18.3.1-next-f1338f8080-20240426",gn}var Yg;function rT(){if(Yg)return kf.exports;Yg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),kf.exports=nT(),kf.exports}var Xg;function iT(){if(Xg)return ju;Xg=1;var n=rT();return ju.createRoot=n.createRoot,ju.hydrateRoot=n.hydrateRoot,ju}var sT=iT();const oT=xc(sT);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gv=(...n)=>n.filter((e,t,i)=>!!e&&i.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=et.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:u,...f},d)=>et.createElement("svg",{ref:d,...lT,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:Gv("lucide",o),...f},[...u.map(([m,v])=>et.createElement(m,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=(n,e)=>{const t=et.forwardRef(({className:i,...o},a)=>et.createElement(uT,{ref:a,iconNode:e,className:Gv(`lucide-${aT(n)}`,i),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=Ht("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=Ht("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=Ht("BotMessageSquare",[["path",{d:"M12 6V2H8",key:"1155em"}],["path",{d:"m8 18-4 4V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2Z",key:"w2lp3e"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M9 11v2",key:"1ueba0"}],["path",{d:"M15 11v2",key:"i11awn"}],["path",{d:"M20 12h2",key:"1q8mjw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=Ht("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=Ht("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=Ht("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=Ht("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=Ht("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=Ht("Component",[["path",{d:"M15.536 11.293a1 1 0 0 0 0 1.414l2.376 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1uwlt4"}],["path",{d:"M2.297 11.293a1 1 0 0 0 0 1.414l2.377 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414L6.088 8.916a1 1 0 0 0-1.414 0z",key:"10291m"}],["path",{d:"M8.916 17.912a1 1 0 0 0 0 1.415l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.415l-2.377-2.376a1 1 0 0 0-1.414 0z",key:"1tqoq1"}],["path",{d:"M8.916 4.674a1 1 0 0 0 0 1.414l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1x6lto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=Ht("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=Ht("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=Ht("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=Ht("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=Ht("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=Ht("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=Ht("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=Ht("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Jg=({userProgress:n,handleRemoveLearnedWord:e})=>W.jsxs("div",{className:"p-8 animate-fade-in",children:[W.jsxs("h2",{className:"text-3xl font-bold text-slate-800 mb-8 flex items-center",children:[W.jsx(Jv,{className:"mr-3 text-violet-600",size:32}),"lerleme Paneli"]}),W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[W.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg flex items-center space-x-4 border border-violet-100",children:[W.jsx(fT,{className:"text-purple-500",size:32}),W.jsxs("div",{children:[W.jsx("p",{className:"text-slate-500",children:"Okuduunu Anlama"}),W.jsxs("p",{className:"text-2xl font-semibold text-slate-800",children:[n.reading.correct," / ",n.reading.total," Doru"]})]})]}),W.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg flex items-center space-x-4 border border-violet-100",children:[W.jsx(Dd,{className:"mr-2 text-violet-500",size:32}),W.jsxs("div",{children:[W.jsx("p",{className:"text-slate-500",children:"Dilbilgisi"}),W.jsxs("p",{className:"text-2xl font-semibold text-slate-800",children:[n.grammar.correct," / ",n.grammar.total," Doru"]})]})]}),W.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg flex items-center space-x-4 border border-violet-100",children:[W.jsx(Xv,{className:"text-fuchsia-500",size:32}),W.jsxs("div",{children:[W.jsx("p",{className:"text-slate-500",children:"Genel Uzmanlk Seviyesi"}),W.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:"Balang"})]})]})]}),W.jsxs("div",{className:"mb-8",children:[W.jsxs("h3",{className:"text-2xl font-semibold text-slate-700 mb-4 flex items-center",children:[W.jsx(mT,{className:"mr-2 text-amber-500",size:24}),"renilen Kelimeler (",n.learnedWords.length,")"]}),n.learnedWords.length>0?W.jsx("div",{className:"flex flex-wrap gap-3",children:n.learnedWords.map((t,i)=>W.jsxs("span",{className:"bg-violet-100 text-violet-800 px-4 py-2 rounded-full text-sm font-medium flex items-center shadow-sm",children:[t,W.jsx("button",{onClick:()=>e(t),className:"ml-3 text-violet-400 hover:text-red-500 focus:outline-none transition-colors",children:W.jsx(Qv,{size:16})})]},i))}):W.jsx("p",{className:"text-slate-500",children:'Henz renilen kelimeniz yok. Kelimeleri "renildi" olarak iaretleyerek buraya ekleyebilirsiniz.'})]}),W.jsxs("div",{className:"mb-8",children:[W.jsxs("h3",{className:"text-2xl font-semibold text-slate-700 mb-4 flex items-center",children:[W.jsx(cT,{className:"mr-2 text-rose-500",size:24}),"Son Etkinlikler"]}),W.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-violet-100",children:W.jsxs("ul",{className:"space-y-2 text-slate-600",children:[W.jsxs("li",{className:"flex items-center",children:[W.jsx(Bu,{className:"inline mr-3 text-slate-400",size:16}),' "significant" kelimesini karlatrdnz.']}),W.jsxs("li",{className:"flex items-center",children:[W.jsx(Bu,{className:"inline mr-3 text-slate-400",size:16}),' "crucial" kelimesini renilenlere eklediniz.']}),W.jsxs("li",{className:"flex items-center",children:[W.jsx(Bu,{className:"inline mr-3 text-slate-400",size:16})," Okuduunu Anlama altrmas yaptnz (3/5 doru)."]}),W.jsxs("li",{className:"text-slate-400 flex items-center",children:[W.jsx(Bu,{className:"inline mr-3 text-slate-400",size:16})," Daha fazla aktivite yaknda burada gsterilecek!"]})]})})]}),W.jsxs("div",{children:[W.jsxs("h3",{className:"text-2xl font-semibold text-slate-700 mb-4 flex items-center",children:[W.jsx(bd,{className:"mr-2 text-sky-500",size:24}),"Gzden Geirilecek Kelimeler"]}),W.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-violet-100",children:W.jsx("p",{className:"text-slate-500",children:"Gzden geirmeniz gereken kelimeler yaknda burada listelenecek."})})]})]});var Zg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},yT=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],f=n[t++],d=((o&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},t_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,f=u?n[o+1]:0,d=o+2<n.length,m=d?n[o+2]:0,v=a>>2,w=(a&3)<<4|f>>4;let T=(f&15)<<2|m>>6,I=m&63;d||(I=64,u||(T=64)),i.push(t[v],t[w],t[T],t[I])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(e_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):yT(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||f==null||m==null||w==null)throw new vT;const T=a<<2|f>>4;if(i.push(T),m!==64){const I=f<<4&240|m>>2;if(i.push(I),w!==64){const U=m<<6&192|w;i.push(U)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class vT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _T=function(n){const e=e_(n);return t_.encodeByteArray(e,!0)},lc=function(n){return _T(n).replace(/\./g,"")},n_=function(n){try{return t_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=()=>wT().__FIREBASE_DEFAULTS__,TT=()=>{if(typeof process>"u"||typeof Zg>"u")return;const n=Zg.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},IT=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&n_(n[1]);return e&&JSON.parse(e)},Ac=()=>{try{return ET()||TT()||IT()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},r_=n=>{var e,t;return(t=(e=Ac())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},kT=n=>{const e=r_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},i_=()=>{var n;return(n=Ac())===null||n===void 0?void 0:n.config},s_=n=>{var e;return(e=Ac())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[lc(JSON.stringify(t)),lc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function CT(){var n;const e=(n=Ac())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function NT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bT(){const n=Jt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function DT(){return!CT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OT(){try{return typeof indexedDB=="object"}catch{return!1}}function LT(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="FirebaseError";class ri extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=VT,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dl.prototype.create)}}class dl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?MT(a,i):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new ri(o,f,i)}}function MT(n,e){return n.replace(FT,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const FT=/\{\$([^}]+)}/g;function UT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Vo(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],u=e[o];if(ey(a)&&ey(u)){if(!Vo(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function ey(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function zT(n,e){const t=new jT(n,e);return t.subscribe.bind(t)}class jT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");BT(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Af),o.error===void 0&&(o.error=Af),o.complete===void 0&&(o.complete=Af);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BT(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Af(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(n){return n&&n._delegate?n._delegate:n}class As{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new ST;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qT(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);i===f&&u.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:HT(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HT(n){return n===Ts?void 0:n}function qT(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $T(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const KT={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},GT=He.INFO,QT={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},YT=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=QT[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Od{constructor(e){this.name=e,this._logLevel=GT,this._logHandler=YT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const XT=(n,e)=>e.some(t=>n instanceof t);let ty,ny;function JT(){return ty||(ty=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZT(){return ny||(ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o_=new WeakMap,Jf=new WeakMap,a_=new WeakMap,Cf=new WeakMap,Ld=new WeakMap;function e1(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ui(n.result)),o()},u=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&o_.set(t,n)}).catch(()=>{}),Ld.set(e,n),e}function t1(n){if(Jf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Jf.set(n,e)}let Zf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Jf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||a_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ui(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function n1(n){Zf=n(Zf)}function r1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Pf(this),e,...t);return a_.set(i,e.sort?e.sort():[e]),Ui(i)}:ZT().includes(n)?function(...e){return n.apply(Pf(this),e),Ui(o_.get(this))}:function(...e){return Ui(n.apply(Pf(this),e))}}function i1(n){return typeof n=="function"?r1(n):(n instanceof IDBTransaction&&t1(n),XT(n,JT())?new Proxy(n,Zf):n)}function Ui(n){if(n instanceof IDBRequest)return e1(n);if(Cf.has(n))return Cf.get(n);const e=i1(n);return e!==n&&(Cf.set(n,e),Ld.set(e,n)),e}const Pf=n=>Ld.get(n);function s1(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),f=Ui(u);return i&&u.addEventListener("upgradeneeded",d=>{i(Ui(u.result),d.oldVersion,d.newVersion,Ui(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),f.then(d=>{a&&d.addEventListener("close",()=>a()),o&&d.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const o1=["get","getKey","getAll","getAllKeys","count"],a1=["put","add","delete","clear"],Rf=new Map;function ry(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Rf.get(e))return Rf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=a1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||o1.includes(t)))return;const a=async function(u,...f){const d=this.transaction(u,o?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),o&&d.done]))[0]};return Rf.set(e,a),a}n1(n=>({...n,get:(e,t,i)=>ry(e,t)||n.get(e,t,i),has:(e,t)=>!!ry(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(u1(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function u1(n){const e=n.getComponent();return e?.type==="VERSION"}const ed="@firebase/app",iy="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new Od("@firebase/app"),c1="@firebase/app-compat",h1="@firebase/analytics-compat",f1="@firebase/analytics",d1="@firebase/app-check-compat",p1="@firebase/app-check",m1="@firebase/auth",g1="@firebase/auth-compat",y1="@firebase/database",v1="@firebase/data-connect",_1="@firebase/database-compat",w1="@firebase/functions",E1="@firebase/functions-compat",T1="@firebase/installations",I1="@firebase/installations-compat",k1="@firebase/messaging",S1="@firebase/messaging-compat",x1="@firebase/performance",A1="@firebase/performance-compat",C1="@firebase/remote-config",P1="@firebase/remote-config-compat",R1="@firebase/storage",N1="@firebase/storage-compat",b1="@firebase/firestore",D1="@firebase/vertexai-preview",O1="@firebase/firestore-compat",L1="firebase",V1="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="[DEFAULT]",M1={[ed]:"fire-core",[c1]:"fire-core-compat",[f1]:"fire-analytics",[h1]:"fire-analytics-compat",[p1]:"fire-app-check",[d1]:"fire-app-check-compat",[m1]:"fire-auth",[g1]:"fire-auth-compat",[y1]:"fire-rtdb",[v1]:"fire-data-connect",[_1]:"fire-rtdb-compat",[w1]:"fire-fn",[E1]:"fire-fn-compat",[T1]:"fire-iid",[I1]:"fire-iid-compat",[k1]:"fire-fcm",[S1]:"fire-fcm-compat",[x1]:"fire-perf",[A1]:"fire-perf-compat",[C1]:"fire-rc",[P1]:"fire-rc-compat",[R1]:"fire-gcs",[N1]:"fire-gcs-compat",[b1]:"fire-fst",[O1]:"fire-fst-compat",[D1]:"fire-vertex","fire-js":"fire-js",[L1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new Map,F1=new Map,nd=new Map;function sy(n,e){try{n.container.addComponent(e)}catch(t){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Mo(n){const e=n.name;if(nd.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;nd.set(e,n);for(const t of uc.values())sy(t,n);for(const t of F1.values())sy(t,n);return!0}function Vd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Gr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zi=new dl("app","Firebase",U1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=V1;function l_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:td,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw zi.create("bad-app-name",{appName:String(o)});if(t||(t=i_()),!t)throw zi.create("no-options");const a=uc.get(o);if(a){if(Vo(t,a.options)&&Vo(i,a.config))return a;throw zi.create("duplicate-app",{appName:o})}const u=new WT(o);for(const d of nd.values())u.addComponent(d);const f=new z1(t,i,u);return uc.set(o,f),f}function u_(n=td){const e=uc.get(n);if(!e&&n===td&&i_())return l_();if(!e)throw zi.create("no-app",{appName:n});return e}function ji(n,e,t){var i;let o=(i=M1[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${o}" with version "${e}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(f.join(" "));return}Mo(new As(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="firebase-heartbeat-database",B1=1,il="firebase-heartbeat-store";let Nf=null;function c_(){return Nf||(Nf=s1(j1,B1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(il)}catch(t){console.warn(t)}}}}).catch(n=>{throw zi.create("idb-open",{originalErrorMessage:n.message})})),Nf}async function $1(n){try{const t=(await c_()).transaction(il),i=await t.objectStore(il).get(h_(n));return await t.done,i}catch(e){if(e instanceof ri)Jr.warn(e.message);else{const t=zi.create("idb-get",{originalErrorMessage:e?.message});Jr.warn(t.message)}}}async function oy(n,e){try{const i=(await c_()).transaction(il,"readwrite");await i.objectStore(il).put(e,h_(n)),await i.done}catch(t){if(t instanceof ri)Jr.warn(t.message);else{const i=zi.create("idb-set",{originalErrorMessage:t?.message});Jr.warn(i.message)}}}function h_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=1024,q1=30*24*60*60*1e3;class W1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new G1(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ay();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const f=new Date(u.date).valueOf();return Date.now()-f<=q1}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Jr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ay(),{heartbeatsToSend:i,unsentEntries:o}=K1(this._heartbeatsCache.heartbeats),a=lc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Jr.warn(t),""}}}function ay(){return new Date().toISOString().substring(0,10)}function K1(n,e=H1){const t=[];let i=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),ly(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),ly(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class G1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OT()?LT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $1(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return oy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return oy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function ly(n){return lc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(n){Mo(new As("platform-logger",e=>new l1(e),"PRIVATE")),Mo(new As("heartbeat",e=>new W1(e),"PRIVATE")),ji(ed,iy,n),ji(ed,iy,"esm2017"),ji("fire-js","")}Q1("");var uy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ss,f_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,A){function P(){}P.prototype=A.prototype,b.D=A.prototype,b.prototype=new P,b.prototype.constructor=b,b.C=function(D,N,O){for(var S=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)S[ue-2]=arguments[ue];return A.prototype[N].apply(D,S)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,A,P){P||(P=0);var D=Array(16);if(typeof A=="string")for(var N=0;16>N;++N)D[N]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(N=0;16>N;++N)D[N]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=b.g[0],P=b.g[1],N=b.g[2];var O=b.g[3],S=A+(O^P&(N^O))+D[0]+3614090360&4294967295;A=P+(S<<7&4294967295|S>>>25),S=O+(N^A&(P^N))+D[1]+3905402710&4294967295,O=A+(S<<12&4294967295|S>>>20),S=N+(P^O&(A^P))+D[2]+606105819&4294967295,N=O+(S<<17&4294967295|S>>>15),S=P+(A^N&(O^A))+D[3]+3250441966&4294967295,P=N+(S<<22&4294967295|S>>>10),S=A+(O^P&(N^O))+D[4]+4118548399&4294967295,A=P+(S<<7&4294967295|S>>>25),S=O+(N^A&(P^N))+D[5]+1200080426&4294967295,O=A+(S<<12&4294967295|S>>>20),S=N+(P^O&(A^P))+D[6]+2821735955&4294967295,N=O+(S<<17&4294967295|S>>>15),S=P+(A^N&(O^A))+D[7]+4249261313&4294967295,P=N+(S<<22&4294967295|S>>>10),S=A+(O^P&(N^O))+D[8]+1770035416&4294967295,A=P+(S<<7&4294967295|S>>>25),S=O+(N^A&(P^N))+D[9]+2336552879&4294967295,O=A+(S<<12&4294967295|S>>>20),S=N+(P^O&(A^P))+D[10]+4294925233&4294967295,N=O+(S<<17&4294967295|S>>>15),S=P+(A^N&(O^A))+D[11]+2304563134&4294967295,P=N+(S<<22&4294967295|S>>>10),S=A+(O^P&(N^O))+D[12]+1804603682&4294967295,A=P+(S<<7&4294967295|S>>>25),S=O+(N^A&(P^N))+D[13]+4254626195&4294967295,O=A+(S<<12&4294967295|S>>>20),S=N+(P^O&(A^P))+D[14]+2792965006&4294967295,N=O+(S<<17&4294967295|S>>>15),S=P+(A^N&(O^A))+D[15]+1236535329&4294967295,P=N+(S<<22&4294967295|S>>>10),S=A+(N^O&(P^N))+D[1]+4129170786&4294967295,A=P+(S<<5&4294967295|S>>>27),S=O+(P^N&(A^P))+D[6]+3225465664&4294967295,O=A+(S<<9&4294967295|S>>>23),S=N+(A^P&(O^A))+D[11]+643717713&4294967295,N=O+(S<<14&4294967295|S>>>18),S=P+(O^A&(N^O))+D[0]+3921069994&4294967295,P=N+(S<<20&4294967295|S>>>12),S=A+(N^O&(P^N))+D[5]+3593408605&4294967295,A=P+(S<<5&4294967295|S>>>27),S=O+(P^N&(A^P))+D[10]+38016083&4294967295,O=A+(S<<9&4294967295|S>>>23),S=N+(A^P&(O^A))+D[15]+3634488961&4294967295,N=O+(S<<14&4294967295|S>>>18),S=P+(O^A&(N^O))+D[4]+3889429448&4294967295,P=N+(S<<20&4294967295|S>>>12),S=A+(N^O&(P^N))+D[9]+568446438&4294967295,A=P+(S<<5&4294967295|S>>>27),S=O+(P^N&(A^P))+D[14]+3275163606&4294967295,O=A+(S<<9&4294967295|S>>>23),S=N+(A^P&(O^A))+D[3]+4107603335&4294967295,N=O+(S<<14&4294967295|S>>>18),S=P+(O^A&(N^O))+D[8]+1163531501&4294967295,P=N+(S<<20&4294967295|S>>>12),S=A+(N^O&(P^N))+D[13]+2850285829&4294967295,A=P+(S<<5&4294967295|S>>>27),S=O+(P^N&(A^P))+D[2]+4243563512&4294967295,O=A+(S<<9&4294967295|S>>>23),S=N+(A^P&(O^A))+D[7]+1735328473&4294967295,N=O+(S<<14&4294967295|S>>>18),S=P+(O^A&(N^O))+D[12]+2368359562&4294967295,P=N+(S<<20&4294967295|S>>>12),S=A+(P^N^O)+D[5]+4294588738&4294967295,A=P+(S<<4&4294967295|S>>>28),S=O+(A^P^N)+D[8]+2272392833&4294967295,O=A+(S<<11&4294967295|S>>>21),S=N+(O^A^P)+D[11]+1839030562&4294967295,N=O+(S<<16&4294967295|S>>>16),S=P+(N^O^A)+D[14]+4259657740&4294967295,P=N+(S<<23&4294967295|S>>>9),S=A+(P^N^O)+D[1]+2763975236&4294967295,A=P+(S<<4&4294967295|S>>>28),S=O+(A^P^N)+D[4]+1272893353&4294967295,O=A+(S<<11&4294967295|S>>>21),S=N+(O^A^P)+D[7]+4139469664&4294967295,N=O+(S<<16&4294967295|S>>>16),S=P+(N^O^A)+D[10]+3200236656&4294967295,P=N+(S<<23&4294967295|S>>>9),S=A+(P^N^O)+D[13]+681279174&4294967295,A=P+(S<<4&4294967295|S>>>28),S=O+(A^P^N)+D[0]+3936430074&4294967295,O=A+(S<<11&4294967295|S>>>21),S=N+(O^A^P)+D[3]+3572445317&4294967295,N=O+(S<<16&4294967295|S>>>16),S=P+(N^O^A)+D[6]+76029189&4294967295,P=N+(S<<23&4294967295|S>>>9),S=A+(P^N^O)+D[9]+3654602809&4294967295,A=P+(S<<4&4294967295|S>>>28),S=O+(A^P^N)+D[12]+3873151461&4294967295,O=A+(S<<11&4294967295|S>>>21),S=N+(O^A^P)+D[15]+530742520&4294967295,N=O+(S<<16&4294967295|S>>>16),S=P+(N^O^A)+D[2]+3299628645&4294967295,P=N+(S<<23&4294967295|S>>>9),S=A+(N^(P|~O))+D[0]+4096336452&4294967295,A=P+(S<<6&4294967295|S>>>26),S=O+(P^(A|~N))+D[7]+1126891415&4294967295,O=A+(S<<10&4294967295|S>>>22),S=N+(A^(O|~P))+D[14]+2878612391&4294967295,N=O+(S<<15&4294967295|S>>>17),S=P+(O^(N|~A))+D[5]+4237533241&4294967295,P=N+(S<<21&4294967295|S>>>11),S=A+(N^(P|~O))+D[12]+1700485571&4294967295,A=P+(S<<6&4294967295|S>>>26),S=O+(P^(A|~N))+D[3]+2399980690&4294967295,O=A+(S<<10&4294967295|S>>>22),S=N+(A^(O|~P))+D[10]+4293915773&4294967295,N=O+(S<<15&4294967295|S>>>17),S=P+(O^(N|~A))+D[1]+2240044497&4294967295,P=N+(S<<21&4294967295|S>>>11),S=A+(N^(P|~O))+D[8]+1873313359&4294967295,A=P+(S<<6&4294967295|S>>>26),S=O+(P^(A|~N))+D[15]+4264355552&4294967295,O=A+(S<<10&4294967295|S>>>22),S=N+(A^(O|~P))+D[6]+2734768916&4294967295,N=O+(S<<15&4294967295|S>>>17),S=P+(O^(N|~A))+D[13]+1309151649&4294967295,P=N+(S<<21&4294967295|S>>>11),S=A+(N^(P|~O))+D[4]+4149444226&4294967295,A=P+(S<<6&4294967295|S>>>26),S=O+(P^(A|~N))+D[11]+3174756917&4294967295,O=A+(S<<10&4294967295|S>>>22),S=N+(A^(O|~P))+D[2]+718787259&4294967295,N=O+(S<<15&4294967295|S>>>17),S=P+(O^(N|~A))+D[9]+3951481745&4294967295,b.g[0]=b.g[0]+A&4294967295,b.g[1]=b.g[1]+(N+(S<<21&4294967295|S>>>11))&4294967295,b.g[2]=b.g[2]+N&4294967295,b.g[3]=b.g[3]+O&4294967295}i.prototype.u=function(b,A){A===void 0&&(A=b.length);for(var P=A-this.blockSize,D=this.B,N=this.h,O=0;O<A;){if(N==0)for(;O<=P;)o(this,b,O),O+=this.blockSize;if(typeof b=="string"){for(;O<A;)if(D[N++]=b.charCodeAt(O++),N==this.blockSize){o(this,D),N=0;break}}else for(;O<A;)if(D[N++]=b[O++],N==this.blockSize){o(this,D),N=0;break}}this.h=N,this.o+=A},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var A=1;A<b.length-8;++A)b[A]=0;var P=8*this.o;for(A=b.length-8;A<b.length;++A)b[A]=P&255,P/=256;for(this.u(b),b=Array(16),A=P=0;4>A;++A)for(var D=0;32>D;D+=8)b[P++]=this.g[A]>>>D&255;return b};function a(b,A){var P=f;return Object.prototype.hasOwnProperty.call(P,b)?P[b]:P[b]=A(b)}function u(b,A){this.h=A;for(var P=[],D=!0,N=b.length-1;0<=N;N--){var O=b[N]|0;D&&O==A||(P[N]=O,D=!1)}this.g=P}var f={};function d(b){return-128<=b&&128>b?a(b,function(A){return new u([A|0],0>A?-1:0)}):new u([b|0],0>b?-1:0)}function m(b){if(isNaN(b)||!isFinite(b))return w;if(0>b)return B(m(-b));for(var A=[],P=1,D=0;b>=P;D++)A[D]=b/P|0,P*=4294967296;return new u(A,0)}function v(b,A){if(b.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(b.charAt(0)=="-")return B(v(b.substring(1),A));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=m(Math.pow(A,8)),D=w,N=0;N<b.length;N+=8){var O=Math.min(8,b.length-N),S=parseInt(b.substring(N,N+O),A);8>O?(O=m(Math.pow(A,O)),D=D.j(O).add(m(S))):(D=D.j(P),D=D.add(m(S)))}return D}var w=d(0),T=d(1),I=d(16777216);n=u.prototype,n.m=function(){if(M(this))return-B(this).m();for(var b=0,A=1,P=0;P<this.g.length;P++){var D=this.i(P);b+=(0<=D?D:4294967296+D)*A,A*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(U(this))return"0";if(M(this))return"-"+B(this).toString(b);for(var A=m(Math.pow(b,6)),P=this,D="";;){var N=he(P,A).g;P=H(P,N.j(A));var O=((0<P.g.length?P.g[0]:P.h)>>>0).toString(b);if(P=N,U(P))return O+D;for(;6>O.length;)O="0"+O;D=O+D}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function U(b){if(b.h!=0)return!1;for(var A=0;A<b.g.length;A++)if(b.g[A]!=0)return!1;return!0}function M(b){return b.h==-1}n.l=function(b){return b=H(this,b),M(b)?-1:U(b)?0:1};function B(b){for(var A=b.g.length,P=[],D=0;D<A;D++)P[D]=~b.g[D];return new u(P,~b.h).add(T)}n.abs=function(){return M(this)?B(this):this},n.add=function(b){for(var A=Math.max(this.g.length,b.g.length),P=[],D=0,N=0;N<=A;N++){var O=D+(this.i(N)&65535)+(b.i(N)&65535),S=(O>>>16)+(this.i(N)>>>16)+(b.i(N)>>>16);D=S>>>16,O&=65535,S&=65535,P[N]=S<<16|O}return new u(P,P[P.length-1]&-2147483648?-1:0)};function H(b,A){return b.add(B(A))}n.j=function(b){if(U(this)||U(b))return w;if(M(this))return M(b)?B(this).j(B(b)):B(B(this).j(b));if(M(b))return B(this.j(B(b)));if(0>this.l(I)&&0>b.l(I))return m(this.m()*b.m());for(var A=this.g.length+b.g.length,P=[],D=0;D<2*A;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(var N=0;N<b.g.length;N++){var O=this.i(D)>>>16,S=this.i(D)&65535,ue=b.i(N)>>>16,me=b.i(N)&65535;P[2*D+2*N]+=S*me,re(P,2*D+2*N),P[2*D+2*N+1]+=O*me,re(P,2*D+2*N+1),P[2*D+2*N+1]+=S*ue,re(P,2*D+2*N+1),P[2*D+2*N+2]+=O*ue,re(P,2*D+2*N+2)}for(D=0;D<A;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=A;D<2*A;D++)P[D]=0;return new u(P,0)};function re(b,A){for(;(b[A]&65535)!=b[A];)b[A+1]+=b[A]>>>16,b[A]&=65535,A++}function Z(b,A){this.g=b,this.h=A}function he(b,A){if(U(A))throw Error("division by zero");if(U(b))return new Z(w,w);if(M(b))return A=he(B(b),A),new Z(B(A.g),B(A.h));if(M(A))return A=he(b,B(A)),new Z(B(A.g),A.h);if(30<b.g.length){if(M(b)||M(A))throw Error("slowDivide_ only works with positive integers.");for(var P=T,D=A;0>=D.l(b);)P=ke(P),D=ke(D);var N=Q(P,1),O=Q(D,1);for(D=Q(D,2),P=Q(P,2);!U(D);){var S=O.add(D);0>=S.l(b)&&(N=N.add(P),O=S),D=Q(D,1),P=Q(P,1)}return A=H(b,N.j(A)),new Z(N,A)}for(N=w;0<=b.l(A);){for(P=Math.max(1,Math.floor(b.m()/A.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),O=m(P),S=O.j(A);M(S)||0<S.l(b);)P-=D,O=m(P),S=O.j(A);U(O)&&(O=T),N=N.add(O),b=H(b,S)}return new Z(N,b)}n.A=function(b){return he(this,b).h},n.and=function(b){for(var A=Math.max(this.g.length,b.g.length),P=[],D=0;D<A;D++)P[D]=this.i(D)&b.i(D);return new u(P,this.h&b.h)},n.or=function(b){for(var A=Math.max(this.g.length,b.g.length),P=[],D=0;D<A;D++)P[D]=this.i(D)|b.i(D);return new u(P,this.h|b.h)},n.xor=function(b){for(var A=Math.max(this.g.length,b.g.length),P=[],D=0;D<A;D++)P[D]=this.i(D)^b.i(D);return new u(P,this.h^b.h)};function ke(b){for(var A=b.g.length+1,P=[],D=0;D<A;D++)P[D]=b.i(D)<<1|b.i(D-1)>>>31;return new u(P,b.h)}function Q(b,A){var P=A>>5;A%=32;for(var D=b.g.length-P,N=[],O=0;O<D;O++)N[O]=0<A?b.i(O+P)>>>A|b.i(O+P+1)<<32-A:b.i(O+P);return new u(N,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,f_=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Ss=u}).apply(typeof uy<"u"?uy:typeof self<"u"?self:typeof window<"u"?window:{});var $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var d_,Wa,p_,Ju,rd,m_,g_,y_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $u=="object"&&$u];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(c,g){if(g)e:{var _=i;c=c.split(".");for(var k=0;k<c.length-1;k++){var z=c[k];if(!(z in _))break e;_=_[z]}c=c[c.length-1],k=_[c],g=g(k),g!=k&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,k=!1,z={next:function(){if(!k&&_<c.length){var G=_++;return{value:g(G,c[G]),done:!1}}return k=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function d(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,k),c.apply(g,z)}}return function(){return c.apply(g,arguments)}}function T(c,g,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,T.apply(null,arguments)}function I(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var k=_.slice();return k.push.apply(k,arguments),c.apply(this,k)}}function U(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(k,z,G){for(var le=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)le[Je-2]=arguments[Je];return g.prototype[z].apply(k,le)}}function M(c){const g=c.length;if(0<g){const _=Array(g);for(let k=0;k<g;k++)_[k]=c[k];return _}return[]}function B(c,g){for(let _=1;_<arguments.length;_++){const k=arguments[_];if(d(k)){const z=c.length||0,G=k.length||0;c.length=z+G;for(let le=0;le<G;le++)c[z+le]=k[le]}else c.push(k)}}class H{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function re(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var ke=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function Q(c,g,_){for(const k in c)g.call(_,c[k],k,c)}function b(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function A(c){const g={};for(const _ in c)g[_]=c[_];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,g){let _,k;for(let z=1;z<arguments.length;z++){k=arguments[z];for(_ in k)c[_]=k[_];for(let G=0;G<P.length;G++)_=P[G],Object.prototype.hasOwnProperty.call(k,_)&&(c[_]=k[_])}}function N(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function O(c){f.setTimeout(()=>{throw c},0)}function S(){var c=pe;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ue{constructor(){this.h=this.g=null}add(g,_){const k=me.get();k.set(g,_),this.h?this.h.next=k:this.g=k,this.h=k}}var me=new H(()=>new Be,c=>c.reset());class Be{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,oe=!1,pe=new ue,x=()=>{const c=f.Promise.resolve(void 0);Pe=()=>{c.then(F)}};var F=()=>{for(var c;c=S();){try{c.h.call(c.g)}catch(_){O(_)}var g=me;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}oe=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,g),f.removeEventListener("test",_,g)}catch{}return c}();function Re(c,g){if(C.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,k=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ke){e:{try{he(g.nodeName);var z=!0;break e}catch{}z=!1}z||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}U(Re,C);var we={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Ke(c,g,_,k,z){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!k,this.ha=z,this.key=++Me,this.da=this.fa=!1}function ot(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ln(c){this.src=c,this.g={},this.h=0}ln.prototype.add=function(c,g,_,k,z){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var le=ur(c,g,k,z);return-1<le?(g=c[le],_||(g.fa=!1)):(g=new Ke(g,this.src,G,!!k,z),g.fa=_,c.push(g)),g};function ii(c,g){var _=g.type;if(_ in c.g){var k=c.g[_],z=Array.prototype.indexOf.call(k,g,void 0),G;(G=0<=z)&&Array.prototype.splice.call(k,z,1),G&&(ot(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ur(c,g,_,k){for(var z=0;z<c.length;++z){var G=c[z];if(!G.da&&G.listener==g&&G.capture==!!_&&G.ha==k)return z}return-1}var Nr="closure_lm_"+(1e6*Math.random()|0),br={};function si(c,g,_,k,z){if(Array.isArray(g)){for(var G=0;G<g.length;G++)si(c,g[G],_,k,z);return null}return _=Xi(_),c&&c[Ue]?c.K(g,_,m(k)?!!k.capture:!1,z):oi(c,g,_,!1,k,z)}function oi(c,g,_,k,z,G){if(!g)throw Error("Invalid event type");var le=m(z)?!!z.capture:!!z,Je=ai(c);if(Je||(c[Nr]=Je=new ln(c)),_=Je.add(g,_,k,le,G),_.proxy)return _;if(k=Ls(),_.proxy=k,k.src=c,k.listener=_,c.addEventListener)Se||(z=le),z===void 0&&(z=!1),c.addEventListener(g.toString(),k,z);else if(c.attachEvent)c.attachEvent(qn(g.toString()),k);else if(c.addListener&&c.removeListener)c.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ls(){function c(_){return g.call(c.src,c.listener,_)}const g=Yi;return c}function Dr(c,g,_,k,z){if(Array.isArray(g))for(var G=0;G<g.length;G++)Dr(c,g[G],_,k,z);else k=m(k)?!!k.capture:!!k,_=Xi(_),c&&c[Ue]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],_=ur(G,_,k,z),-1<_&&(ot(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=ai(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ur(g,_,k,z)),(_=-1<c?g[c]:null)&&bn(_))}function bn(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ue])ii(g.i,c);else{var _=c.type,k=c.proxy;g.removeEventListener?g.removeEventListener(_,k,c.capture):g.detachEvent?g.detachEvent(qn(_),k):g.addListener&&g.removeListener&&g.removeListener(k),(_=ai(g))?(ii(_,c),_.h==0&&(_.src=null,g[Nr]=null)):ot(c)}}}function qn(c){return c in br?br[c]:br[c]="on"+c}function Yi(c,g){if(c.da)c=!0;else{g=new Re(g,this);var _=c.listener,k=c.ha||c.src;c.fa&&bn(c),c=_.call(k,g)}return c}function ai(c){return c=c[Nr],c instanceof ln?c:null}var li="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xi(c){return typeof c=="function"?c:(c[li]||(c[li]=function(g){return c.handleEvent(g)}),c[li])}function K(){Y.call(this),this.i=new ln(this),this.M=this,this.F=null}U(K,Y),K.prototype[Ue]=!0,K.prototype.removeEventListener=function(c,g,_,k){Dr(this,c,g,_,k)};function ee(c,g){var _,k=c.F;if(k)for(_=[];k;k=k.F)_.push(k);if(c=c.M,k=g.type||g,typeof g=="string")g=new C(g,c);else if(g instanceof C)g.target=g.target||c;else{var z=g;g=new C(k,c),D(g,z)}if(z=!0,_)for(var G=_.length-1;0<=G;G--){var le=g.g=_[G];z=_e(le,k,!0,g)&&z}if(le=g.g=c,z=_e(le,k,!0,g)&&z,z=_e(le,k,!1,g)&&z,_)for(G=0;G<_.length;G++)le=g.g=_[G],z=_e(le,k,!1,g)&&z}K.prototype.N=function(){if(K.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],k=0;k<_.length;k++)ot(_[k]);delete c.g[g],c.h--}}this.F=null},K.prototype.K=function(c,g,_,k){return this.i.add(String(c),g,!1,_,k)},K.prototype.L=function(c,g,_,k){return this.i.add(String(c),g,!0,_,k)};function _e(c,g,_,k){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,G=0;G<g.length;++G){var le=g[G];if(le&&!le.da&&le.capture==_){var Je=le.listener,St=le.ha||le.src;le.fa&&ii(c.i,le),z=Je.call(St,k)!==!1&&z}}return z&&!k.defaultPrevented}function Le(c,g,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:f.setTimeout(c,g||0)}function ze(c){c.g=Le(()=>{c.g=null,c.i&&(c.i=!1,ze(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class It extends Y{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ze(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function en(c){Y.call(this),this.h=c,this.g={}}U(en,Y);var tn=[];function Wn(c){Q(c.g,function(g,_){this.g.hasOwnProperty(_)&&bn(g)},c),c.g={}}en.prototype.N=function(){en.aa.N.call(this),Wn(this)},en.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=f.JSON.stringify,kt=f.JSON.parse,Dn=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Lt(){}Lt.prototype.h=null;function Vs(c){return c.h||(c.h=c.i())}function Ms(){}var On={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cr(){C.call(this,"d")}U(cr,C);function Fs(){C.call(this,"c")}U(Fs,C);var hr={},ta=null;function Ji(){return ta=ta||new K}hr.La="serverreachability";function na(c){C.call(this,hr.La,c)}U(na,C);function Or(c){const g=Ji();ee(g,new na(g))}hr.STAT_EVENT="statevent";function ra(c,g){C.call(this,hr.STAT_EVENT,c),this.stat=g}U(ra,C);function gt(c){const g=Ji();ee(g,new ra(g,c))}hr.Ma="timingevent";function Us(c,g){C.call(this,hr.Ma,c),this.size=g}U(Us,C);function Gn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Zi(){this.g=!0}Zi.prototype.xa=function(){this.g=!1};function es(c,g,_,k,z,G){c.info(function(){if(c.g)if(G)for(var le="",Je=G.split("&"),St=0;St<Je.length;St++){var qe=Je[St].split("=");if(1<qe.length){var Rt=qe[0];qe=qe[1];var _t=Rt.split("_");le=2<=_t.length&&_t[1]=="type"?le+(Rt+"="+qe+"&"):le+(Rt+"=redacted&")}}else le=null;else le=G;return"XMLHTTP REQ ("+k+") [attempt "+z+"]: "+g+`
`+_+`
`+le})}function zs(c,g,_,k,z,G,le){c.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+z+"]: "+g+`
`+_+`
`+G+" "+le})}function Qn(c,g,_,k){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Qc(c,_)+(k?" "+k:"")})}function ia(c,g){c.info(function(){return"TIMEOUT: "+g})}Zi.prototype.info=function(){};function Qc(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var k=_[c];if(!(2>k.length)){var z=k[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var le=1;le<z.length;le++)z[le]=""}}}}return Kn(_)}catch{return g}}var js={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Al={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yn;function ts(){}U(ts,Lt),ts.prototype.g=function(){return new XMLHttpRequest},ts.prototype.i=function(){return{}},Yn=new ts;function Xn(c,g,_,k){this.j=c,this.i=g,this.l=_,this.R=k||1,this.U=new en(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cl}function Cl(){this.i=null,this.g="",this.h=!1}var sa={},Bs={};function $s(c,g,_){c.L=1,c.v=di(Tn(g)),c.m=_,c.P=!0,oa(c,null)}function oa(c,g){c.F=Date.now(),nt(c),c.A=Tn(c.v);var _=c.A,k=c.R;Array.isArray(k)||(k=[String(k)]),mi(_.i,"t",k),c.C=0,_=c.j.J,c.h=new Cl,c.g=Wl(c.j,_?g:null,!c.m),0<c.O&&(c.M=new It(T(c.Y,c,c.g),c.O)),g=c.U,_=c.g,k=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(tn[0]=z.toString()),z=tn);for(var G=0;G<z.length;G++){var le=si(_,z[G],k||g.handleEvent,!1,g.h||g);if(!le)break;g.g[le.key]=le}g=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Or(),es(c.i,c.u,c.A,c.l,c.R,c.m)}Xn.prototype.ca=function(c){c=c.target;const g=this.M;g&&cn(c)==3?g.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)e:{const _t=cn(this.g);var g=this.g.Ba();const Mn=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||fa(this.g)))){this.J||_t!=4||g==7||(g==8||0>=Mn?Or(3):Or(2)),ns(this);var _=this.g.Z();this.X=_;t:if(Pl(this)){var k=fa(this.g);c="";var z=k.length,G=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ln(this),ui(this);var le="";break t}this.h.i=new f.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,c+=this.h.i.decode(k[g],{stream:!(G&&g==z-1)});k.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,zs(this.i,this.u,this.A,this.l,this.R,_t,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,St=this.g;if((Je=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Je)){var qe=Je;break t}}qe=null}if(_=qe)Qn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,aa(this,_);else{this.o=!1,this.s=3,gt(12),Ln(this),ui(this);break e}}if(this.P){_=!0;let kn;for(;!this.J&&this.C<le.length;)if(kn=Yc(this,le),kn==Bs){_t==4&&(this.s=4,gt(14),_=!1),Qn(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==sa){this.s=4,gt(15),Qn(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else Qn(this.i,this.l,kn,null),aa(this,kn);if(Pl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||le.length!=0||this.h.h||(this.s=1,gt(16),_=!1),this.o=this.o&&_,!_)Qn(this.i,this.l,le,"[Invalid Chunked Response]"),Ln(this),ui(this);else if(0<le.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),pa(Rt),Rt.M=!0,gt(11))}}else Qn(this.i,this.l,le,null),aa(this,le);_t==4&&Ln(this),this.o&&!this.J&&(_t==4?eo(this.j,this):(this.o=!1,nt(this)))}else Qs(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),Ln(this),ui(this)}}}catch{}finally{}};function Pl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Yc(c,g){var _=c.C,k=g.indexOf(`
`,_);return k==-1?Bs:(_=Number(g.substring(_,k)),isNaN(_)?sa:(k+=1,k+_>g.length?Bs:(g=g.slice(k,k+_),c.C=k+_,g)))}Xn.prototype.cancel=function(){this.J=!0,Ln(this)};function nt(c){c.S=Date.now()+c.I,Rl(c,c.I)}function Rl(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Gn(T(c.ba,c),g)}function ns(c){c.B&&(f.clearTimeout(c.B),c.B=null)}Xn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ia(this.i,this.A),this.L!=2&&(Or(),gt(17)),Ln(this),this.s=2,ui(this)):Rl(this,this.S-c)};function ui(c){c.j.G==0||c.J||eo(c.j,c)}function Ln(c){ns(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Wn(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function aa(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||nn(_.h,c))){if(!c.K&&nn(_.h,c)&&_.G==3){try{var k=_.Da.g.parse(g)}catch{k=null}if(Array.isArray(k)&&k.length==3){var z=k;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Zs(_),nr(_);else break e;Js(_),gt(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=Gn(T(_.Za,_),6e3));if(1>=bl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ur(_,11)}else if((c.K||_.g==c)&&Zs(_),!re(g))for(z=_.Da.g.parse(g),g=0;g<z.length;g++){let qe=z[g];if(_.T=qe[0],qe=qe[1],_.G==2)if(qe[0]=="c"){_.K=qe[1],_.ia=qe[2];const Rt=qe[3];Rt!=null&&(_.la=Rt,_.j.info("VER="+_.la));const _t=qe[4];_t!=null&&(_.Aa=_t,_.j.info("SVER="+_.Aa));const Mn=qe[5];Mn!=null&&typeof Mn=="number"&&0<Mn&&(k=1.5*Mn,_.L=k,_.j.info("backChannelRequestTimeoutMs_="+k)),k=_;const kn=c.g;if(kn){const us=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(us){var G=k.h;G.g||us.indexOf("spdy")==-1&&us.indexOf("quic")==-1&&us.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(la(G,G.h),G.h=null))}if(k.D){const no=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;no&&(k.ya=no,tt(k.I,k.D,no))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),k=_;var le=c;if(k.qa=ql(k,k.J?k.ia:null,k.W),le.K){Dl(k.h,le);var Je=le,St=k.L;St&&(Je.I=St),Je.B&&(ns(Je),nt(Je)),k.g=le}else ls(k);0<_.i.length&&mr(_)}else qe[0]!="stop"&&qe[0]!="close"||Ur(_,7);else _.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ur(_,7):Mt(_):qe[0]!="noop"&&_.l&&_.l.ta(qe),_.v=0)}}Or(4)}catch{}}var Nl=class{constructor(c,g){this.g=c,this.map=g}};function rs(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function En(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function bl(c){return c.h?1:c.g?c.g.size:0}function nn(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function la(c,g){c.g?c.g.add(g):c.h=g}function Dl(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}rs.prototype.cancel=function(){if(this.i=Ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ol(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return M(c.i)}function Hs(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(d(c)){for(var g=[],_=c.length,k=0;k<_;k++)g.push(c[k]);return g}g=[],_=0;for(k in c)g[_++]=c[k];return g}function qs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(d(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const k in c)g[_++]=k;return g}}}function ci(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(d(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=qs(c),k=Hs(c),z=k.length,G=0;G<z;G++)g.call(void 0,k[G],_&&_[G],c)}var is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xc(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var k=c[_].indexOf("="),z=null;if(0<=k){var G=c[_].substring(0,k);z=c[_].substring(k+1)}else G=c[_];g(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Lr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Lr){this.h=c.h,ss(this,c.j),this.o=c.o,this.g=c.g,hi(this,c.s),this.l=c.l;var g=c.i,_=new fr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),fi(this,_),this.m=c.m}else c&&(g=String(c).match(is))?(this.h=!1,ss(this,g[1]||"",!0),this.o=$e(g[2]||""),this.g=$e(g[3]||"",!0),hi(this,g[4]),this.l=$e(g[5]||"",!0),fi(this,g[6]||"",!0),this.m=$e(g[7]||"")):(this.h=!1,this.i=new fr(null,this.h))}Lr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(pi(g,Ws,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(pi(g,Ws,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(pi(_,_.charAt(0)=="/"?Ml:Vl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",pi(_,ua)),c.join("")};function Tn(c){return new Lr(c)}function ss(c,g,_){c.j=_?$e(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function hi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function fi(c,g,_){g instanceof fr?(c.i=g,dr(c.i,c.h)):(_||(g=pi(g,Fl)),c.i=new fr(g,c.h))}function tt(c,g,_){c.i.set(g,_)}function di(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function $e(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pi(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Ll),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ll(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ws=/[#\/\?@]/g,Vl=/[#\?:]/g,Ml=/[#\?]/g,Fl=/[#\?@]/g,ua=/#/g;function fr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Vt(c){c.g||(c.g=new Map,c.h=0,c.i&&Xc(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=fr.prototype,n.add=function(c,g){Vt(this),this.i=null,c=Vn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Jn(c,g){Vt(c),g=Vn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Zn(c,g){return Vt(c),g=Vn(c,g),c.g.has(g)}n.forEach=function(c,g){Vt(this),this.g.forEach(function(_,k){_.forEach(function(z){c.call(g,z,k,this)},this)},this)},n.na=function(){Vt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let k=0;k<g.length;k++){const z=c[k];for(let G=0;G<z.length;G++)_.push(g[k])}return _},n.V=function(c){Vt(this);let g=[];if(typeof c=="string")Zn(this,c)&&(g=g.concat(this.g.get(Vn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return Vt(this),this.i=null,c=Vn(this,c),Zn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function mi(c,g,_){Jn(c,g),0<_.length&&(c.i=null,c.g.set(Vn(c,g),M(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var k=g[_];const G=encodeURIComponent(String(k)),le=this.V(k);for(k=0;k<le.length;k++){var z=G;le[k]!==""&&(z+="="+encodeURIComponent(String(le[k]))),c.push(z)}}return this.i=c.join("&")};function Vn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function dr(c,g){g&&!c.j&&(Vt(c),c.i=null,c.g.forEach(function(_,k){var z=k.toLowerCase();k!=z&&(Jn(this,k),mi(this,z,_))},c)),c.j=g}function Jc(c,g){const _=new Zi;if(f.Image){const k=new Image;k.onload=I(un,_,"TestLoadImage: loaded",!0,g,k),k.onerror=I(un,_,"TestLoadImage: error",!1,g,k),k.onabort=I(un,_,"TestLoadImage: abort",!1,g,k),k.ontimeout=I(un,_,"TestLoadImage: timeout",!1,g,k),f.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=c}else g(!1)}function Ul(c,g){const _=new Zi,k=new AbortController,z=setTimeout(()=>{k.abort(),un(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:k.signal}).then(G=>{clearTimeout(z),G.ok?un(_,"TestPingServer: ok",!0,g):un(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),un(_,"TestPingServer: error",!1,g)})}function un(c,g,_,k,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),k(_)}catch{}}function Zc(){this.g=new Dn}function zl(c,g,_){const k=_||"";try{ci(c,function(z,G){let le=z;m(z)&&(le=Kn(z)),g.push(k+G+"="+encodeURIComponent(le))})}catch(z){throw g.push(k+"type="+encodeURIComponent("_badmap")),z}}function Vr(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Vr,Lt),Vr.prototype.g=function(){return new os(this.l,this.j)},Vr.prototype.i=function(c){return function(){return c}}({});function os(c,g){K.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(os,K),n=os.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,tr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||f).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,er(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function jl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?er(this):tr(this),this.readyState==3&&jl(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,er(this))},n.Qa=function(c){this.g&&(this.response=c,er(this))},n.ga=function(){this.g&&er(this)};function er(c){c.readyState=4,c.l=null,c.j=null,c.v=null,tr(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function tr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mr(c){let g="";return Q(c,function(_,k){g+=k,g+=":",g+=_,g+=`\r
`}),g}function gi(c,g,_){e:{for(k in _){var k=!1;break e}k=!0}k||(_=Mr(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):tt(c,g,_))}function ut(c){K.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(ut,K);var eh=/^https?$/i,ca=["POST","PUT"];n=ut.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yn.g(),this.v=this.o?Vs(this.o):Vs(Yn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){as(this,G);return}if(c=_||"",_=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var z in k)_.set(z,k[z]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const G of k.keys())_.set(G,k.get(G));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ca,g,void 0))||k||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,le]of _)this.g.setRequestHeader(G,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gs(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){as(this,G)}};function as(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Ks(c),In(c)}function Ks(c){c.A||(c.A=!0,ee(c,"complete"),ee(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ee(this,"complete"),ee(this,"abort"),In(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),In(this,!0)),ut.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ha(this):this.bb())},n.bb=function(){ha(this)};function ha(c){if(c.h&&typeof u<"u"&&(!c.v[1]||cn(c)!=4||c.Z()!=2)){if(c.u&&cn(c)==4)Le(c.Ea,0,c);else if(ee(c,"readystatechange"),cn(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var k;if(k=le===0){var z=String(c.D).match(is)[1]||null;!z&&f.self&&f.self.location&&(z=f.self.location.protocol.slice(0,-1)),k=!eh.test(z?z.toLowerCase():"")}_=k}if(_)ee(c,"complete"),ee(c,"success");else{c.m=6;try{var G=2<cn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",Ks(c)}}finally{In(c)}}}}function In(c,g){if(c.g){Gs(c);const _=c.g,k=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||ee(c,"ready");try{_.onreadystatechange=k}catch{}}}function Gs(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function cn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),kt(g)}};function fa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qs(c){const g={};c=(c.g&&2<=cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<c.length;k++){if(re(c[k]))continue;var _=N(c[k]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=g[z]||[];g[z]=G,G.push(_)}b(g,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pr(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function da(c){this.Aa=0,this.i=[],this.j=new Zi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pr("baseRetryDelayMs",5e3,c),this.cb=pr("retryDelaySeedMs",1e4,c),this.Wa=pr("forwardChannelMaxRetries",2,c),this.wa=pr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new rs(c&&c.concurrentRequestLimit),this.Da=new Zc,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=da.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,k){gt(0),this.W=c,this.H=g||{},_&&k!==void 0&&(this.H.OSID=_,this.H.OAID=k),this.F=this.X,this.I=ql(this,null,this.W),mr(this)};function Mt(c){if(Ys(c),c.G==3){var g=c.U++,_=Tn(c.I);if(tt(_,"SID",c.K),tt(_,"RID",g),tt(_,"TYPE","terminate"),Fr(c,_),g=new Xn(c,c.j,g),g.L=2,g.v=di(Tn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=g.v,_=!0),_||(g.g=Wl(g.j,null),g.g.ea(g.v)),g.F=Date.now(),nt(g)}Hl(c)}function nr(c){c.g&&(pa(c),c.g.cancel(),c.g=null)}function Ys(c){nr(c),c.u&&(f.clearTimeout(c.u),c.u=null),Zs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function mr(c){if(!En(c.h)&&!c.s){c.s=!0;var g=c.Ga;Pe||x(),oe||(Pe(),oe=!0),pe.add(g,c),c.B=0}}function th(c,g){return bl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Gn(T(c.Ga,c,g),$l(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new Xn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=A(G),D(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var k=this.i[_];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(g+=k,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=yi(this,z,g),_=Tn(this.I),tt(_,"RID",c),tt(_,"CVER",22),this.D&&tt(_,"X-HTTP-Session-Id",this.D),Fr(this,_),G&&(this.O?g="headers="+encodeURIComponent(String(Mr(G)))+"&"+g:this.m&&gi(_,this.m,G)),la(this.h,z),this.Ua&&tt(_,"TYPE","init"),this.P?(tt(_,"$req",g),tt(_,"SID","null"),z.T=!0,$s(z,_,null)):$s(z,_,g),this.G=2}}else this.G==3&&(c?Xs(this,c):this.i.length==0||En(this.h)||Xs(this))};function Xs(c,g){var _;g?_=g.l:_=c.U++;const k=Tn(c.I);tt(k,"SID",c.K),tt(k,"RID",_),tt(k,"AID",c.T),Fr(c,k),c.m&&c.o&&gi(k,c.m,c.o),_=new Xn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=yi(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),la(c.h,_),$s(_,k,g)}function Fr(c,g){c.H&&Q(c.H,function(_,k){tt(g,k,_)}),c.l&&ci({},function(_,k){tt(g,k,_)})}function yi(c,g,_){_=Math.min(c.i.length,_);var k=c.l?T(c.l.Na,c.l,c):null;e:{var z=c.i;let G=-1;for(;;){const le=["count="+_];G==-1?0<_?(G=z[0].g,le.push("ofs="+G)):G=0:le.push("ofs="+G);let Je=!0;for(let St=0;St<_;St++){let qe=z[St].g;const Rt=z[St].map;if(qe-=G,0>qe)G=Math.max(0,z[St].g-100),Je=!1;else try{zl(Rt,le,"req"+qe+"_")}catch{k&&k(Rt)}}if(Je){k=le.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,k}function ls(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Pe||x(),oe||(Pe(),oe=!0),pe.add(g,c),c.v=0}}function Js(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Gn(T(c.Fa,c),$l(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Bl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Gn(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),nr(this),Bl(this))};function pa(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function Bl(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Tn(c.qa);tt(g,"RID","rpc"),tt(g,"SID",c.K),tt(g,"AID",c.T),tt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(g,"TO",c.ja),tt(g,"TYPE","xmlhttp"),Fr(c,g),c.m&&c.o&&gi(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=di(Tn(g)),_.m=null,_.P=!0,oa(_,c)}n.Za=function(){this.C!=null&&(this.C=null,nr(this),Js(this),gt(19))};function Zs(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function eo(c,g){var _=null;if(c.g==g){Zs(c),pa(c),c.g=null;var k=2}else if(nn(c.h,g))_=g.D,Dl(c.h,g),k=1;else return;if(c.G!=0){if(g.o)if(k==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var z=c.B;k=Ji(),ee(k,new Us(k,_)),mr(c)}else ls(c);else if(z=g.s,z==3||z==0&&0<g.X||!(k==1&&th(c,g)||k==2&&Js(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),z){case 1:Ur(c,5);break;case 4:Ur(c,10);break;case 3:Ur(c,6);break;default:Ur(c,2)}}}function $l(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Ur(c,g){if(c.j.info("Error code "+g),g==2){var _=T(c.fb,c),k=c.Xa;const z=!k;k=new Lr(k||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ss(k,"https"),di(k),z?Jc(k.toString(),_):Ul(k.toString(),_)}else gt(2);c.G=0,c.l&&c.l.sa(g),Hl(c),Ys(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Hl(c){if(c.G=0,c.ka=[],c.l){const g=Ol(c.h);(g.length!=0||c.i.length!=0)&&(B(c.ka,g),B(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function ql(c,g,_){var k=_ instanceof Lr?Tn(_):new Lr(_);if(k.g!="")g&&(k.g=g+"."+k.g),hi(k,k.s);else{var z=f.location;k=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var G=new Lr(null);k&&ss(G,k),g&&(G.g=g),z&&hi(G,z),_&&(G.l=_),k=G}return _=c.D,g=c.ya,_&&g&&tt(k,_,g),tt(k,"VER",c.la),Fr(c,k),k}function Wl(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new ut(new Vr({eb:_})):new ut(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ma(){}n=ma.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function to(){}to.prototype.g=function(c,g){return new rn(c,g)};function rn(c,g){K.call(this),this.g=new da(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!re(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!re(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new gr(this)}U(rn,K),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Mt(this.g)},rn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Kn(c),c=_);g.i.push(new Nl(g.Ya++,c)),g.G==3&&mr(g)},rn.prototype.N=function(){this.g.l=null,delete this.j,Mt(this.g),delete this.g,rn.aa.N.call(this)};function Kl(c){cr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}U(Kl,cr);function Gl(){Fs.call(this),this.status=1}U(Gl,Fs);function gr(c){this.g=c}U(gr,ma),gr.prototype.ua=function(){ee(this.g,"a")},gr.prototype.ta=function(c){ee(this.g,new Kl(c))},gr.prototype.sa=function(c){ee(this.g,new Gl)},gr.prototype.ra=function(){ee(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,y_=function(){return new to},g_=function(){return Ji()},m_=hr,rd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},js.NO_ERROR=0,js.TIMEOUT=8,js.HTTP_ERROR=6,Ju=js,Al.COMPLETE="complete",p_=Al,Ms.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",K.prototype.listen=K.prototype.K,Wa=Ms,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,d_=ut}).apply(typeof $u<"u"?$u:typeof self<"u"?self:typeof window<"u"?window:{});const cy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new Od("@firebase/firestore");function za(){return Cs.logLevel}function ye(n,...e){if(Cs.logLevel<=He.DEBUG){const t=e.map(Md);Cs.debug(`Firestore (${Go}): ${n}`,...t)}}function Zr(n,...e){if(Cs.logLevel<=He.ERROR){const t=e.map(Md);Cs.error(`Firestore (${Go}): ${n}`,...t)}}function Fo(n,...e){if(Cs.logLevel<=He.WARN){const t=e.map(Md);Cs.warn(`Firestore (${Go}): ${n}`,...t)}}function Md(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(n="Unexpected state"){const e=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: `+n;throw Zr(e),new Error(e)}function Ze(n,e){n||be()}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends ri{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Y1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yt.UNAUTHENTICATED))}shutdown(){}}class X1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class J1{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0);let i=this.i;const o=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve();let a=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new xs,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await o(this.currentUser)})},f=d=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>f(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new xs)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ze(typeof i.accessToken=="string"),new v_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new Yt(e)}}class Z1{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class eI{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Z1(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ze(this.o===void 0);const i=a=>{a.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string"),this.R=t.token,new tI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=rI(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function Ye(n,e){return n<e?-1:n>e?1:0}function Uo(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ie(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Pt(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.timestamp=e}static fromTimestamp(e){return new De(e)}static min(){return new De(new Pt(0,0))}static max(){return new De(new Pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,t,i){t===void 0?t=0:t>e.length&&be(),i===void 0?i=e.length-t:i>e.length-t&&be(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return sl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),u=t.get(o);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class mt extends sl{construct(e,t,i){return new mt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ie(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new mt(t)}static emptyPath(){return new mt([])}}const iI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends sl{construct(e,t,i){return new jt(e,t,i)}static isValidIdentifier(e){return iI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new Ie(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Ie(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ie(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(i+=f,o++):(a(),o++)}if(a(),u)throw new Ie(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(mt.fromString(e))}static fromName(e){return new xe(mt.fromString(e).popFirst(5))}static empty(){return new xe(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new mt(e.slice()))}}function sI(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=De.fromTimestamp(i===1e9?new Pt(t+1,0):new Pt(t,i));return new Hi(o,xe.empty(),e)}function oI(n){return new Hi(n.readTime,n.key,-1)}class Hi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Hi(De.min(),xe.empty(),-1)}static max(){return new Hi(De.max(),xe.empty(),-1)}}function aI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=xe.comparator(n.documentKey,e.documentKey),t!==0?t:Ye(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==lI)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,i)=>{t(e)})}static reject(e){return new te((t,i)=>{i(e)})}static waitFor(e){return new te((t,i)=>{let o=0,a=0,u=!1;e.forEach(f=>{++o,f.next(()=>{++a,u&&a===o&&t()},d=>i(d))}),u=!0,a===o&&t()})}static or(e){let t=te.resolve(!1);for(const i of e)t=t.next(o=>o?te.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new te((i,o)=>{const a=e.length,u=new Array(a);let f=0;for(let d=0;d<a;d++){const m=d;t(e[m]).next(v=>{u[m]=v,++f,f===a&&i(u)},v=>o(v))}})}static doWhile(e,t){return new te((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function cI(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function gl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Fd.oe=-1;function Cc(n){return n==null}function cc(n){return n===0&&1/n==-1/0}function hI(n){return typeof n=="number"&&Number.isInteger(n)&&!cc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function w_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||zt.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hu(this.root,e,this.comparator,!0)}}class Hu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??zt.RED,this.left=o??zt.EMPTY,this.right=a??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new zt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return zt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,t,i,o,a){return this}insert(e,t,i){return new zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fy(this.data.getIterator())}getIteratorFrom(e){return new fy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class fy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Pn([])}unionWith(e){let t=new Bt(jt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Pn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new E_("Invalid base64 string: "+a):a}}(e);return new $t(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const fI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(n){if(Ze(!!n),typeof n=="string"){let e=0;const t=fI.exec(n);if(Ze(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:vt(n.seconds),nanos:vt(n.nanos)}}function vt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ps(n){return typeof n=="string"?$t.fromBase64String(n):$t.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function zd(n){const e=n.mapValue.fields.__previous_value__;return Ud(e)?zd(e):e}function ol(n){const e=qi(n.mapValue.fields.__local_write_time__.timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,t,i,o,a,u,f,d,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=m}}class al{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new al("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu={mapValue:{}};function Rs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ud(n)?4:mI(n)?9007199254740991:pI(n)?10:11:be()}function Cr(n,e){if(n===e)return!0;const t=Rs(n);if(t!==Rs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ol(n).isEqual(ol(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=qi(o.timestampValue),f=qi(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Ps(o.bytesValue).isEqual(Ps(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return vt(o.geoPointValue.latitude)===vt(a.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return vt(o.integerValue)===vt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=vt(o.doubleValue),f=vt(a.doubleValue);return u===f?cc(u)===cc(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return Uo(n.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},f=a.mapValue.fields||{};if(hy(u)!==hy(f))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(f[d]===void 0||!Cr(u[d],f[d])))return!1;return!0}(n,e);default:return be()}}function ll(n,e){return(n.values||[]).find(t=>Cr(t,e))!==void 0}function zo(n,e){if(n===e)return 0;const t=Rs(n),i=Rs(e);if(t!==i)return Ye(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ye(n.booleanValue,e.booleanValue);case 2:return function(a,u){const f=vt(a.integerValue||a.doubleValue),d=vt(u.integerValue||u.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1}(n,e);case 3:return dy(n.timestampValue,e.timestampValue);case 4:return dy(ol(n),ol(e));case 5:return Ye(n.stringValue,e.stringValue);case 6:return function(a,u){const f=Ps(a),d=Ps(u);return f.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),d=u.split("/");for(let m=0;m<f.length&&m<d.length;m++){const v=Ye(f[m],d[m]);if(v!==0)return v}return Ye(f.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const f=Ye(vt(a.latitude),vt(u.latitude));return f!==0?f:Ye(vt(a.longitude),vt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return py(n.arrayValue,e.arrayValue);case 10:return function(a,u){var f,d,m,v;const w=a.fields||{},T=u.fields||{},I=(f=w.value)===null||f===void 0?void 0:f.arrayValue,U=(d=T.value)===null||d===void 0?void 0:d.arrayValue,M=Ye(((m=I?.values)===null||m===void 0?void 0:m.length)||0,((v=U?.values)===null||v===void 0?void 0:v.length)||0);return M!==0?M:py(I,U)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===qu.mapValue&&u===qu.mapValue)return 0;if(a===qu.mapValue)return 1;if(u===qu.mapValue)return-1;const f=a.fields||{},d=Object.keys(f),m=u.fields||{},v=Object.keys(m);d.sort(),v.sort();for(let w=0;w<d.length&&w<v.length;++w){const T=Ye(d[w],v[w]);if(T!==0)return T;const I=zo(f[d[w]],m[v[w]]);if(I!==0)return I}return Ye(d.length,v.length)}(n.mapValue,e.mapValue);default:throw be()}}function dy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ye(n,e);const t=qi(n),i=qi(e),o=Ye(t.seconds,i.seconds);return o!==0?o:Ye(t.nanos,i.nanos)}function py(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=zo(t[o],i[o]);if(a)return a}return Ye(t.length,i.length)}function jo(n){return id(n)}function id(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=qi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ps(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return xe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=id(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${id(t.fields[u])}`;return o+"}"}(n.mapValue):be()}function sd(n){return!!n&&"integerValue"in n}function jd(n){return!!n&&"arrayValue"in n}function my(n){return!!n&&"nullValue"in n}function gy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zu(n){return!!n&&"mapValue"in n}function pI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ya(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return bs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ya(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ya(n.arrayValue.values[t]);return e}return Object.assign({},n)}function mI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Zu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ya(t)}setAll(e){let t=jt.emptyPath(),i={},o=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const d=this.getFieldsMap(t);this.applyChanges(d,i,o),i={},o=[],t=f.popLast()}u?i[f.lastSegment()]=Ya(u):o.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Zu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Zu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){bs(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new vn(Ya(this.value))}}function T_(n){const e=[];return bs(n.fields,(t,i)=>{const o=new jt([t]);if(Zu(i)){const a=T_(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,t,i,o,a,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Xt(e,0,De.min(),De.min(),De.min(),vn.empty(),0)}static newFoundDocument(e,t,i,o){return new Xt(e,1,t,De.min(),i,o,0)}static newNoDocument(e,t){return new Xt(e,2,t,De.min(),De.min(),vn.empty(),0)}static newUnknownDocument(e,t){return new Xt(e,3,t,De.min(),De.min(),vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t){this.position=e,this.inclusive=t}}function yy(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?i=xe.comparator(xe.fromName(u.referenceValue),t.key):i=zo(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function vy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Cr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t="asc"){this.field=e,this.dir=t}}function gI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{}class Ct extends I_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new vI(e,t,i):t==="array-contains"?new EI(e,i):t==="in"?new TI(e,i):t==="not-in"?new II(e,i):t==="array-contains-any"?new kI(e,i):new Ct(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new _I(e,i):new wI(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(zo(t,this.value)):t!==null&&Rs(this.value)===Rs(t)&&this.matchesComparison(zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends I_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Pr(e,t)}matches(e){return k_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function k_(n){return n.op==="and"}function S_(n){return yI(n)&&k_(n)}function yI(n){for(const e of n.filters)if(e instanceof Pr)return!1;return!0}function od(n){if(n instanceof Ct)return n.field.canonicalString()+n.op.toString()+jo(n.value);if(S_(n))return n.filters.map(e=>od(e)).join(",");{const e=n.filters.map(t=>od(t)).join(",");return`${n.op}(${e})`}}function x_(n,e){return n instanceof Ct?function(i,o){return o instanceof Ct&&i.op===o.op&&i.field.isEqual(o.field)&&Cr(i.value,o.value)}(n,e):n instanceof Pr?function(i,o){return o instanceof Pr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,u,f)=>a&&x_(u,o.filters[f]),!0):!1}(n,e):void be()}function A_(n){return n instanceof Ct?function(t){return`${t.field.canonicalString()} ${t.op} ${jo(t.value)}`}(n):n instanceof Pr?function(t){return t.op.toString()+" {"+t.getFilters().map(A_).join(" ,")+"}"}(n):"Filter"}class vI extends Ct{constructor(e,t,i){super(e,t,i),this.key=xe.fromName(i.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class _I extends Ct{constructor(e,t){super(e,"in",t),this.keys=C_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class wI extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=C_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function C_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>xe.fromName(i.referenceValue))}class EI extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jd(t)&&ll(t.arrayValue,this.value)}}class TI extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ll(this.value.arrayValue,t)}}class II extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ll(this.value.arrayValue,t)}}class kI extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>ll(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,t=null,i=[],o=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=f,this.ue=null}}function _y(n,e=null,t=[],i=[],o=null,a=null,u=null){return new SI(n,e,t,i,o,a,u)}function Bd(n){const e=Oe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>od(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Cc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>jo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>jo(i)).join(",")),e.ue=t}return e.ue}function $d(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!gI(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!x_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vy(n.startAt,e.startAt)&&vy(n.endAt,e.endAt)}function ad(n){return xe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t=null,i=[],o=[],a=null,u="F",f=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function xI(n,e,t,i,o,a,u,f){return new Pc(n,e,t,i,o,a,u,f)}function Hd(n){return new Pc(n)}function wy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function AI(n){return n.collectionGroup!==null}function Xa(n){const e=Oe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Bt(jt.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new fc(a,i))}),t.has(jt.keyField().canonicalString())||e.ce.push(new fc(jt.keyField(),i))}return e.ce}function Ir(n){const e=Oe(n);return e.le||(e.le=CI(e,Xa(n))),e.le}function CI(n,e){if(n.limitType==="F")return _y(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new fc(o.field,a)});const t=n.endAt?new hc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new hc(n.startAt.position,n.startAt.inclusive):null;return _y(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function ld(n,e,t){return new Pc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rc(n,e){return $d(Ir(n),Ir(e))&&n.limitType===e.limitType}function P_(n){return`${Bd(Ir(n))}|lt:${n.limitType}`}function xo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>A_(o)).join(", ")}]`),Cc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>jo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>jo(o)).join(",")),`Target(${i})`}(Ir(n))}; limitType=${n.limitType})`}function Nc(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):xe.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of Xa(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(u,f,d){const m=yy(u,f,d);return u.inclusive?m<=0:m<0}(i.startAt,Xa(i),o)||i.endAt&&!function(u,f,d){const m=yy(u,f,d);return u.inclusive?m>=0:m>0}(i.endAt,Xa(i),o))}(n,e)}function PI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function R_(n){return(e,t)=>{let i=!1;for(const o of Xa(n)){const a=RI(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function RI(n,e,t){const i=n.field.isKeyField()?xe.comparator(e.key,t.key):function(a,u,f){const d=u.data.field(a),m=f.data.field(a);return d!==null&&m!==null?zo(d,m):be()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return w_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new dt(xe.comparator);function ei(){return NI}const N_=new dt(xe.comparator);function Ka(...n){let e=N_;for(const t of n)e=e.insert(t.key,t);return e}function b_(n){let e=N_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Is(){return Ja()}function D_(){return Ja()}function Ja(){return new Qo(n=>n.toString(),(n,e)=>n.isEqual(e))}const bI=new dt(xe.comparator),DI=new Bt(xe.comparator);function je(...n){let e=DI;for(const t of n)e=e.add(t);return e}const OI=new Bt(Ye);function LI(){return OI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(e)?"-0":e}}function O_(n){return{integerValue:""+n}}function VI(n,e){return hI(e)?O_(e):qd(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this._=void 0}}function MI(n,e,t){return n instanceof dc?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Ud(a)&&(a=zd(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof Bo?V_(n,e):n instanceof $o?M_(n,e):function(o,a){const u=L_(o,a),f=Ey(u)+Ey(o.Pe);return sd(u)&&sd(o.Pe)?O_(f):qd(o.serializer,f)}(n,e)}function FI(n,e,t){return n instanceof Bo?V_(n,e):n instanceof $o?M_(n,e):t}function L_(n,e){return n instanceof pc?function(i){return sd(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class dc extends bc{}class Bo extends bc{constructor(e){super(),this.elements=e}}function V_(n,e){const t=F_(e);for(const i of n.elements)t.some(o=>Cr(o,i))||t.push(i);return{arrayValue:{values:t}}}class $o extends bc{constructor(e){super(),this.elements=e}}function M_(n,e){let t=F_(e);for(const i of n.elements)t=t.filter(o=>!Cr(o,i));return{arrayValue:{values:t}}}class pc extends bc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Ey(n){return vt(n.integerValue||n.doubleValue)}function F_(n){return jd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,t){this.field=e,this.transform=t}}function UI(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Bo&&o instanceof Bo||i instanceof $o&&o instanceof $o?Uo(i.elements,o.elements,Cr):i instanceof pc&&o instanceof pc?Cr(i.Pe,o.Pe):i instanceof dc&&o instanceof dc}(n.transform,e.transform)}class zI{constructor(e,t){this.version=e,this.transformResults=t}}class kr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ec(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Dc{}function z_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new B_(n.key,kr.none()):new yl(n.key,n.data,kr.none());{const t=n.data,i=vn.empty();let o=new Bt(jt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new Gi(n.key,i,new Pn(o.toArray()),kr.none())}}function jI(n,e,t){n instanceof yl?function(o,a,u){const f=o.value.clone(),d=Iy(o.fieldTransforms,a,u.transformResults);f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Gi?function(o,a,u){if(!ec(o.precondition,a))return void a.convertToUnknownDocument(u.version);const f=Iy(o.fieldTransforms,a,u.transformResults),d=a.data;d.setAll(j_(o)),d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Za(n,e,t,i){return n instanceof yl?function(a,u,f,d){if(!ec(a.precondition,u))return f;const m=a.value.clone(),v=ky(a.fieldTransforms,d,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof Gi?function(a,u,f,d){if(!ec(a.precondition,u))return f;const m=ky(a.fieldTransforms,d,u),v=u.data;return v.setAll(j_(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,i):function(a,u,f){return ec(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function BI(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=L_(i.transform,o||null);a!=null&&(t===null&&(t=vn.empty()),t.set(i.field,a))}return t||null}function Ty(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Uo(i,o,(a,u)=>UI(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class yl extends Dc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Gi extends Dc{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function j_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Iy(n,e,t){const i=new Map;Ze(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,f=e.data.field(a.field);i.set(a.field,FI(u,f,t[o]))}return i}function ky(n,e,t){const i=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);i.set(o.field,MI(a,u,e))}return i}class B_ extends Dc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $I extends Dc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&jI(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Za(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Za(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=D_();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(o.key)?null:f;const d=z_(u,f);d!==null&&i.set(o.key,d),u.isValidDocument()||u.convertToNoDocument(De.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),je())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,(t,i)=>Ty(t,i))&&Uo(this.baseMutations,e.baseMutations,(t,i)=>Ty(t,i))}}class Wd{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ze(e.mutations.length===i.length);let o=function(){return bI}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new Wd(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,We;function KI(n){switch(n){default:return be();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function $_(n){if(n===void 0)return Zr("GRPC error has no .code"),ie.UNKNOWN;switch(n){case Et.OK:return ie.OK;case Et.CANCELLED:return ie.CANCELLED;case Et.UNKNOWN:return ie.UNKNOWN;case Et.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Et.INTERNAL:return ie.INTERNAL;case Et.UNAVAILABLE:return ie.UNAVAILABLE;case Et.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Et.NOT_FOUND:return ie.NOT_FOUND;case Et.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Et.ABORTED:return ie.ABORTED;case Et.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Et.DATA_LOSS:return ie.DATA_LOSS;default:return be()}}(We=Et||(Et={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=new Ss([4294967295,4294967295],0);function Sy(n){const e=GI().encode(n),t=new f_;return t.update(e),new Uint8Array(t.digest())}function xy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ss([t,i],0),new Ss([o,a],0)]}class Kd{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ga(`Invalid padding: ${t}`);if(i<0)throw new Ga(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ga(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ga(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ss.fromNumber(this.Ie)}Ee(e,t,i){let o=e.add(t.multiply(Ss.fromNumber(i)));return o.compare(QI)===1&&(o=new Ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Sy(e),[i,o]=xy(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,o,a);if(!this.de(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Kd(a,o,t);return i.forEach(f=>u.insert(f)),u}insert(e){if(this.Ie===0)return;const t=Sy(e),[i,o]=xy(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,o,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,vl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Oc(De.min(),o,new dt(Ye),ei(),je())}}class vl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new vl(i,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class H_{constructor(e,t){this.targetId=e,this.me=t}}class q_{constructor(e,t,i=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Ay{constructor(){this.fe=0,this.ge=Py(),this.pe=$t.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=je(),t=je(),i=je();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:be()}}),new vl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Py()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class YI{constructor(e){this.Le=e,this.Be=new Map,this.ke=ei(),this.qe=Cy(),this.Qe=new dt(Ye)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:be()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.ze(o)&&t(o)})}He(e){const t=e.targetId,i=e.me.count,o=this.Je(t);if(o){const a=o.target;if(ad(a))if(i===0){const u=new xe(a.path);this.Ue(t,u,Xt.newNoDocument(u,De.min()))}else Ze(i===1);else{const u=this.Ye(t);if(u!==i){const f=this.Ze(e),d=f?this.Xe(f,e,u):1;if(d!==0){this.je(t);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,m)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let u,f;try{u=Ps(i).toUint8Array()}catch(d){if(d instanceof E_)return Fo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new Kd(u,o,a)}catch(d){return Fo(d instanceof Ga?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.Ie===0?null:f}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const u=this.Le.tt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.Ue(t,a,null),o++)}),o}rt(e){const t=new Map;this.Be.forEach((a,u)=>{const f=this.Je(u);if(f){if(a.current&&ad(f.target)){const d=new xe(f.target.path);this.ke.get(d)!==null||this.it(u,d)||this.Ue(u,d,Xt.newNoDocument(d,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let i=je();this.qe.forEach((a,u)=>{let f=!0;u.forEachWhile(d=>{const m=this.Je(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const o=new Oc(e,t,this.Qe,this.ke,i);return this.ke=ei(),this.qe=Cy(),this.Qe=new dt(Ye),o}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Ay,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Bt(Ye),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ay),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Cy(){return new dt(xe.comparator)}function Py(){return new dt(xe.comparator)}const XI={asc:"ASCENDING",desc:"DESCENDING"},JI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZI={and:"AND",or:"OR"};class ek{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ud(n,e){return n.useProto3Json||Cc(e)?e:{value:e}}function mc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function tk(n,e){return mc(n,e.toTimestamp())}function Sr(n){return Ze(!!n),De.fromTimestamp(function(t){const i=qi(t);return new Pt(i.seconds,i.nanos)}(n))}function Gd(n,e){return cd(n,e).canonicalString()}function cd(n,e){const t=function(o){return new mt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function K_(n){const e=mt.fromString(n);return Ze(J_(e)),e}function hd(n,e){return Gd(n.databaseId,e.path)}function bf(n,e){const t=K_(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new xe(Q_(t))}function G_(n,e){return Gd(n.databaseId,e)}function nk(n){const e=K_(n);return e.length===4?mt.emptyPath():Q_(e)}function fd(n){return new mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Q_(n){return Ze(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Ry(n,e,t){return{name:hd(n,e),fields:t.value.mapValue.fields}}function rk(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(Ze(v===void 0||typeof v=="string"),$t.fromBase64String(v||"")):(Ze(v===void 0||v instanceof Buffer||v instanceof Uint8Array),$t.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(m){const v=m.code===void 0?ie.UNKNOWN:$_(m.code);return new Ie(v,m.message||"")}(u);t=new q_(i,o,a,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=bf(n,i.document.name),a=Sr(i.document.updateTime),u=i.document.createTime?Sr(i.document.createTime):De.min(),f=new vn({mapValue:{fields:i.document.fields}}),d=Xt.newFoundDocument(o,a,u,f),m=i.targetIds||[],v=i.removedTargetIds||[];t=new tc(m,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=bf(n,i.document),a=i.readTime?Sr(i.readTime):De.min(),u=Xt.newNoDocument(o,a),f=i.removedTargetIds||[];t=new tc([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=bf(n,i.document),a=i.removedTargetIds||[];t=new tc([],a,o,null)}else{if(!("filter"in e))return be();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new WI(o,a),f=i.targetId;t=new H_(f,u)}}return t}function ik(n,e){let t;if(e instanceof yl)t={update:Ry(n,e.key,e.value)};else if(e instanceof B_)t={delete:hd(n,e.key)};else if(e instanceof Gi)t={update:Ry(n,e.key,e.data),updateMask:dk(e.fieldMask)};else{if(!(e instanceof $I))return be();t={verify:hd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const f=u.transform;if(f instanceof dc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Bo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof $o)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof pc)return{fieldPath:u.field.canonicalString(),increment:f.Pe};throw be()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:tk(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:be()}(n,e.precondition)),t}function sk(n,e){return n&&n.length>0?(Ze(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?Sr(o.updateTime):Sr(a);return u.isEqual(De.min())&&(u=Sr(a)),new zI(u,o.transformResults||[])}(t,e))):[]}function ok(n,e){return{documents:[G_(n,e.path)]}}function ak(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=G_(n,o);const a=function(m){if(m.length!==0)return X_(Pr.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(T){return{field:Ao(T.field),direction:ck(T.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=ud(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{_t:t,parent:o}}function lk(n){let e=nk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ze(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(w){const T=Y_(w);return T instanceof Pr&&S_(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(T=>function(U){return new fc(Co(U.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(T))}(t.orderBy));let f=null;t.limit&&(f=function(w){let T;return T=typeof w=="object"?w.value:w,Cc(T)?null:T}(t.limit));let d=null;t.startAt&&(d=function(w){const T=!!w.before,I=w.values||[];return new hc(I,T)}(t.startAt));let m=null;return t.endAt&&(m=function(w){const T=!w.before,I=w.values||[];return new hc(I,T)}(t.endAt)),xI(e,o,u,a,f,"F",d,m)}function uk(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Y_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Co(t.unaryFilter.field);return Ct.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Co(t.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Co(t.unaryFilter.field);return Ct.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Co(t.unaryFilter.field);return Ct.create(u,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(n):n.fieldFilter!==void 0?function(t){return Ct.create(Co(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Pr.create(t.compositeFilter.filters.map(i=>Y_(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be()}}(t.compositeFilter.op))}(n):be()}function ck(n){return XI[n]}function hk(n){return JI[n]}function fk(n){return ZI[n]}function Ao(n){return{fieldPath:n.canonicalString()}}function Co(n){return jt.fromServerFormat(n.fieldPath)}function X_(n){return n instanceof Ct?function(t){if(t.op==="=="){if(gy(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NAN"}};if(my(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gy(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NOT_NAN"}};if(my(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(t.field),op:hk(t.op),value:t.value}}}(n):n instanceof Pr?function(t){const i=t.getFilters().map(o=>X_(o));return i.length===1?i[0]:{compositeFilter:{op:fk(t.op),filters:i}}}(n):be()}function dk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function J_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,t,i,o,a=De.min(),u=De.min(),f=$t.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.ct=e}}function mk(n){const e=lk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ld(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.un=new yk}addToCollectionParentIndex(e,t){return this.un.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Hi.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Hi.min())}updateCollectionGroup(e,t,i){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class yk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Bt(mt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Bt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ho(0)}static kn(){return new Ho(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this.changes=new Qo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?te.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Za(i.mutation,o,Pn.empty(),Pt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,je()).next(()=>i))}getLocalViewOfDocuments(e,t,i=je()){const o=Is();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let u=Ka();return a.forEach((f,d)=>{u=u.insert(f,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Is();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,je()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,o){let a=ei();const u=Ja(),f=function(){return Ja()}();return t.forEach((d,m)=>{const v=i.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof Gi)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Za(v.mutation,m,v.mutation.getFieldMask(),Pt.now())):u.set(m.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>{var w;return f.set(m,new _k(v,(w=u.get(m))!==null&&w!==void 0?w:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Ja();let o=new dt((u,f)=>u-f),a=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(d=>{const m=t.get(d);if(m===null)return;let v=i.get(d)||Pn.empty();v=f.applyToLocalView(m,v),i.set(d,v);const w=(o.get(f.batchId)||je()).add(d);o=o.insert(f.batchId,w)})}).next(()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),m=d.key,v=d.value,w=D_();v.forEach(T=>{if(!a.has(T)){const I=z_(t.get(T),i.get(T));I!==null&&w.set(T,I),a=a.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return te.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(u){return xe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):AI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):te.resolve(Is());let f=-1,d=a;return u.next(m=>te.forEach(m,(v,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),a.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{d=d.insert(v,T)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,d,m,je())).next(v=>({batchId:f,changes:b_(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next(i=>{let o=Ka();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let u=Ka();return this.indexManager.getCollectionParents(e,a).next(f=>te.forEach(f,d=>{const m=function(w,T){return new Pc(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next(v=>{v.forEach((w,T)=>{u=u.insert(w,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(u=>{a.forEach((d,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,Xt.newInvalidDocument(v)))});let f=Ka();return u.forEach((d,m)=>{const v=a.get(d);v!==void 0&&Za(v.mutation,m,Pn.empty(),Pt.now()),Nc(t,m)&&(f=f.insert(d,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return te.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Sr(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(o){return{name:o.name,query:mk(o.bundledQuery),readTime:Sr(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.overlays=new dt(xe.comparator),this.Ir=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Is();return te.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.ht(e,t,a)}),te.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(i)),te.resolve()}getOverlaysForCollection(e,t,i){const o=Is(),a=t.length+1,u=new xe(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const d=f.getNext().value,m=d.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&d.largestBatchId>i&&o.set(d.getKey(),d)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new dt((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let v=a.get(m.largestBatchId);v===null&&(v=Is(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const f=Is(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,v)=>f.set(m,v)),!(f.size()>=o)););return te.resolve(f)}ht(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new qI(t,i));let a=this.Ir.get(t);a===void 0&&(a=je(),this.Ir.set(t,a)),this.Ir.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this.Tr=new Bt(Ot.Er),this.dr=new Bt(Ot.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new Ot(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new Ot(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){const t=new xe(new mt([])),i=new Ot(t,e),o=new Ot(t,e+1),a=[];return this.dr.forEachInRange([i,o],u=>{this.Vr(u),a.push(u.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new xe(new mt([])),i=new Ot(t,e),o=new Ot(t,e+1);let a=je();return this.dr.forEachInRange([i,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Ot(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ot{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return xe.comparator(e.key,t.key)||Ye(e.wr,t.wr)}static Ar(e,t){return Ye(e.wr,t.wr)||xe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Bt(Ot.Er)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new HI(a,t,i,o);this.mutationQueue.push(u);for(const f of o)this.br=this.br.add(new Ot(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return te.resolve(u)}lookupMutationBatch(e,t){return te.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.vr(i),a=o<0?0:o;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ot(t,0),o=new Ot(t,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([i,o],u=>{const f=this.Dr(u.wr);a.push(f)}),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Bt(Ye);return t.forEach(o=>{const a=new Ot(o,0),u=new Ot(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,u],f=>{i=i.add(f.wr)})}),te.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;xe.isDocumentKey(a)||(a=a.child(""));const u=new Ot(new xe(a),0);let f=new Bt(Ye);return this.br.forEachWhile(d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(f=f.add(d.wr)),!0)},u),te.resolve(this.Cr(f))}Cr(e){const t=[];return e.forEach(i=>{const o=this.Dr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ze(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return te.forEach(t.mutations,o=>{const a=new Ot(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){const i=new Ot(t,0),o=this.br.firstAfterOrEqual(i);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.Mr=e,this.docs=function(){return new dt(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,u=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return te.resolve(i?i.document.mutableCopy():Xt.newInvalidDocument(t))}getEntries(e,t){let i=ei();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Xt.newInvalidDocument(o))}),te.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=ei();const u=t.path,f=new xe(u.child("")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:m,value:{document:v}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||aI(oI(v),i)<=0||(o.has(v.key)||Nc(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,t,i,o){be()}Or(e,t){return te.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new xk(this)}getSize(e){return te.resolve(this.size)}}class xk extends vk{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(i)}),te.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.persistence=e,this.Nr=new Qo(t=>Bd(t),$d),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Qd,this.targetCount=0,this.kr=Ho.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),te.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Ho(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Kn(t),te.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Nr.forEach((u,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Nr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),te.waitFor(a).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return te.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),te.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return te.resolve(i)}containsKey(e,t){return te.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Fd(0),this.Kr=!1,this.Kr=!0,this.$r=new Ik,this.referenceDelegate=e(this),this.Ur=new Ak(this),this.indexManager=new gk,this.remoteDocumentCache=function(o){return new Sk(o)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new pk(t),this.Gr=new Ek(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Tk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new kk(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){ye("MemoryPersistence","Starting transaction:",e);const o=new Pk(this.Qr.next());return this.referenceDelegate.zr(),i(o).next(a=>this.referenceDelegate.jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Hr(e,t){return te.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}}class Pk extends uI{constructor(e){super(),this.currentSequenceNumber=e}}class Yd{constructor(e){this.persistence=e,this.Jr=new Qd,this.Yr=null}static Zr(e){return new Yd(e)}get Xr(){if(this.Yr)return this.Yr;throw be()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),te.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),te.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(o=>this.Xr.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.Xr.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Xr,i=>{const o=xe.fromPath(i);return this.ei(e,o).next(a=>{a||t.removeEntry(o,De.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return te.or([()=>te.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=o}static Wi(e,t){let i=je(),o=je();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Xd(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return DT()?8:cI(Jt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Yi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.Zi(e,t,o,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new Rk;return this.Xi(e,t,u).next(f=>{if(a.result=f,this.zi)return this.es(e,t,u,f.size)})}).next(()=>a.result)}es(e,t,i,o){return i.documentReadCount<this.ji?(za()<=He.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",xo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),te.resolve()):(za()<=He.DEBUG&&ye("QueryEngine","Query:",xo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(za()<=He.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",xo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(t))):te.resolve())}Yi(e,t){if(wy(t))return te.resolve(null);let i=Ir(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=ld(t,null,"F"),i=Ir(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=je(...a);return this.Ji.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(d=>{const m=this.ts(t,f);return this.ns(t,m,u,d.readTime)?this.Yi(e,ld(t,null,"F")):this.rs(e,m,t,d)}))})))}Zi(e,t,i,o){return wy(t)||o.isEqual(De.min())?te.resolve(null):this.Ji.getDocuments(e,i).next(a=>{const u=this.ts(t,a);return this.ns(t,u,i,o)?te.resolve(null):(za()<=He.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xo(t)),this.rs(e,u,t,sI(o,-1)).next(f=>f))})}ts(e,t){let i=new Bt(R_(e));return t.forEach((o,a)=>{Nc(e,a)&&(i=i.add(a))}),i}ns(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Xi(e,t,i){return za()<=He.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",xo(t)),this.Ji.getDocumentsMatchingQuery(e,t,Hi.min(),i)}rs(e,t,i,o){return this.Ji.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,t,i,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new dt(Ye),this._s=new Qo(a=>Bd(a),$d),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wk(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function Dk(n,e,t,i){return new bk(n,e,t,i)}async function Z_(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let d=je();for(const m of o){u.push(m.batchId);for(const v of m.mutations)d=d.add(v.key)}for(const m of a){f.push(m.batchId);for(const v of m.mutations)d=d.add(v.key)}return t.localDocuments.getDocuments(i,d).next(m=>({hs:m,removedBatchIds:u,addedBatchIds:f}))})})}function Ok(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.cs.newChangeBuffer({trackRemovals:!0});return function(f,d,m,v){const w=m.batch,T=w.keys();let I=te.resolve();return T.forEach(U=>{I=I.next(()=>v.getEntry(d,U)).next(M=>{const B=m.docVersions.get(U);Ze(B!==null),M.version.compareTo(B)<0&&(w.applyToRemoteDocument(M,m),M.isValidDocument()&&(M.setReadTime(m.commitVersion),v.addEntry(M)))})}),I.next(()=>f.mutationQueue.removeMutationBatch(d,w))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let d=je();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(d=d.add(f.batch.mutations[m].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function e0(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function Lk(n,e){const t=Oe(n),i=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const f=[];e.targetChanges.forEach((v,w)=>{const T=o.get(w);if(!T)return;f.push(t.Ur.removeMatchingKeys(a,v.removedDocuments,w).next(()=>t.Ur.addMatchingKeys(a,v.addedDocuments,w)));let I=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?I=I.withResumeToken($t.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,i)),o=o.insert(w,I),function(M,B,H){return M.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(T,I,v)&&f.push(t.Ur.updateTargetData(a,I))});let d=ei(),m=je();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),f.push(Vk(a,u,e.documentUpdates).next(v=>{d=v.Ps,m=v.Is})),!i.isEqual(De.min())){const v=t.Ur.getLastRemoteSnapshotVersion(a).next(w=>t.Ur.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(v)}return te.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,m)).next(()=>d)}).then(a=>(t.os=o,a))}function Vk(n,e,t){let i=je(),o=je();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=ei();return t.forEach((f,d)=>{const m=a.get(f);d.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(f)),d.isNoDocument()&&d.version.isEqual(De.min())?(e.removeEntry(f,d.readTime),u=u.insert(f,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),u=u.insert(f,d)):ye("LocalStore","Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",d.version)}),{Ps:u,Is:o}})}function Mk(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Fk(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Ur.getTargetData(i,e).next(a=>a?(o=a,te.resolve(o)):t.Ur.allocateTargetId(i).next(u=>(o=new Fi(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}async function dd(n,e,t){const i=Oe(n),o=i.os.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!gl(u))throw u;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.os=i.os.remove(e),i._s.delete(o.target)}function Ny(n,e,t){const i=Oe(n);let o=De.min(),a=je();return i.persistence.runTransaction("Execute query","readwrite",u=>function(d,m,v){const w=Oe(d),T=w._s.get(v);return T!==void 0?te.resolve(w.os.get(T)):w.Ur.getTargetData(m,v)}(i,u,Ir(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(u,f.targetId).next(d=>{a=d})}).next(()=>i.ss.getDocumentsMatchingQuery(u,e,t?o:De.min(),t?a:je())).next(f=>(Uk(i,PI(e),f),{documents:f,Ts:a})))}function Uk(n,e,t){let i=n.us.get(e)||De.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.us.set(e,i)}class by{constructor(){this.activeTargetIds=LI()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zk{constructor(){this.so=new by,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new by,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu=null;function Df(){return Wu===null?Wu=function(){return 268435456+Math.round(2147483648*Math.random())}():Wu++,"0x"+Wu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class Hk extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${o}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}get Fo(){return!1}Mo(t,i,o,a,u){const f=Df(),d=this.xo(t,i.toUriEncodedString());ye("RestConnection",`Sending RPC '${t}' ${f}:`,d,o);const m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,a,u),this.No(t,d,m,o).then(v=>(ye("RestConnection",`Received RPC '${t}' ${f}: `,v),v),v=>{throw Fo("RestConnection",`RPC '${t}' ${f} failed with error: `,v,"url: ",d,"request:",o),v})}Lo(t,i,o,a,u,f){return this.Mo(t,i,o,a,u)}Oo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Go}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,u)=>t[u]=a),o&&o.headers.forEach((a,u)=>t[u]=a)}xo(t,i){const o=Bk[t];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,o){const a=Df();return new Promise((u,f)=>{const d=new d_;d.setWithCredentials(!0),d.listenOnce(p_.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Ju.NO_ERROR:const v=d.getResponseJson();ye(Qt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case Ju.TIMEOUT:ye(Qt,`RPC '${e}' ${a} timed out`),f(new Ie(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:const w=d.getStatus();if(ye(Qt,`RPC '${e}' ${a} failed with status:`,w,"response text:",d.getResponseText()),w>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const I=T?.error;if(I&&I.status&&I.message){const U=function(B){const H=B.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(H)>=0?H:ie.UNKNOWN}(I.status);f(new Ie(U,I.message))}else f(new Ie(ie.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new Ie(ie.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{ye(Qt,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);ye(Qt,`RPC '${e}' ${a} sending request:`,o),d.send(t,"POST",m,i,15)})}Bo(e,t,i){const o=Df(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=y_(),f=g_(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const v=a.join("");ye(Qt,`Creating RPC '${e}' stream ${o}: ${v}`,d);const w=u.createWebChannel(v,d);let T=!1,I=!1;const U=new $k({Io:B=>{I?ye(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(T||(ye(Qt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),ye(Qt,`RPC '${e}' stream ${o} sending:`,B),w.send(B))},To:()=>w.close()}),M=(B,H,re)=>{B.listen(H,Z=>{try{re(Z)}catch(he){setTimeout(()=>{throw he},0)}})};return M(w,Wa.EventType.OPEN,()=>{I||(ye(Qt,`RPC '${e}' stream ${o} transport opened.`),U.yo())}),M(w,Wa.EventType.CLOSE,()=>{I||(I=!0,ye(Qt,`RPC '${e}' stream ${o} transport closed`),U.So())}),M(w,Wa.EventType.ERROR,B=>{I||(I=!0,Fo(Qt,`RPC '${e}' stream ${o} transport errored:`,B),U.So(new Ie(ie.UNAVAILABLE,"The operation could not be completed")))}),M(w,Wa.EventType.MESSAGE,B=>{var H;if(!I){const re=B.data[0];Ze(!!re);const Z=re,he=Z.error||((H=Z[0])===null||H===void 0?void 0:H.error);if(he){ye(Qt,`RPC '${e}' stream ${o} received error:`,he);const ke=he.status;let Q=function(P){const D=Et[P];if(D!==void 0)return $_(D)}(ke),b=he.message;Q===void 0&&(Q=ie.INTERNAL,b="Unknown error status: "+ke+" with message "+he.message),I=!0,U.So(new Ie(Q,b)),w.close()}else ye(Qt,`RPC '${e}' stream ${o} received:`,re),U.bo(re)}}),M(f,m_.STAT_EVENT,B=>{B.stat===rd.PROXY?ye(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===rd.NOPROXY&&ye(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.wo()},0),U}}function Of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(n){return new ek(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,t,i=1e3,o=1.5,a=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=o,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-i);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,t,i,o,a,u,f,d){this.ui=e,this.Ho=i,this.Jo=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new t0(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Zr(t.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Yo===t&&this.P_(i,o)},i=>{e(()=>{const o=new Ie(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)})})}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{i(()=>this.I_(o))}),this.stream.onMessage(o=>{i(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qk extends n0{constructor(e,t,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=rk(this.serializer,e),i=function(a){if(!("targetChange"in a))return De.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?De.min():u.readTime?Sr(u.readTime):De.min()}(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=fd(this.serializer),t.addTarget=function(a,u){let f;const d=u.target;if(f=ad(d)?{documents:ok(a,d)}:{query:ak(a,d)._t},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=W_(a,u.resumeToken);const m=ud(a,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo(De.min())>0){f.readTime=mc(a,u.snapshotVersion.toTimestamp());const m=ud(a,u.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const i=uk(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=fd(this.serializer),t.removeTarget=e,this.a_(t)}}class Wk extends n0{constructor(e,t,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=sk(e.writeResults,e.commitTime),i=Sr(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=fd(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>ik(this.serializer,i))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new Ie(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Mo(e,cd(t,i),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ie(ie.UNKNOWN,a.toString())})}Lo(e,t,i,o,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Lo(e,cd(t,i),o,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ie(ie.UNKNOWN,u.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Gk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Zr(t),this.D_=!1):ye("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(u=>{i.enqueueAndForget(async()=>{Ds(this)&&(ye("RemoteStore","Restarting streams for network reachability change."),await async function(d){const m=Oe(d);m.L_.add(4),await _l(m),m.q_.set("Unknown"),m.L_.delete(4),await Vc(m)}(this))})}),this.q_=new Gk(i,o)}}async function Vc(n){if(Ds(n))for(const e of n.B_)await e(!0)}async function _l(n){for(const e of n.B_)await e(!1)}function r0(n,e){const t=Oe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),tp(t)?ep(t):Yo(t).r_()&&Zd(t,e))}function Jd(n,e){const t=Oe(n),i=Yo(t);t.N_.delete(e),i.r_()&&i0(t,e),t.N_.size===0&&(i.r_()?i.o_():Ds(t)&&t.q_.set("Unknown"))}function Zd(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yo(n).A_(e)}function i0(n,e){n.Q_.xe(e),Yo(n).R_(e)}function ep(n){n.Q_=new YI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Yo(n).start(),n.q_.v_()}function tp(n){return Ds(n)&&!Yo(n).n_()&&n.N_.size>0}function Ds(n){return Oe(n).L_.size===0}function s0(n){n.Q_=void 0}async function Yk(n){n.q_.set("Online")}async function Xk(n){n.N_.forEach((e,t)=>{Zd(n,e)})}async function Jk(n,e){s0(n),tp(n)?(n.q_.M_(e),ep(n)):n.q_.set("Unknown")}async function Zk(n,e,t){if(n.q_.set("Online"),e instanceof q_&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const f of a.targetIds)o.N_.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.N_.delete(f),o.Q_.removeTarget(f))}(n,e)}catch(i){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await gc(n,i)}else if(e instanceof tc?n.Q_.Ke(e):e instanceof H_?n.Q_.He(e):n.Q_.We(e),!t.isEqual(De.min()))try{const i=await e0(n.localStore);t.compareTo(i)>=0&&await function(a,u){const f=a.Q_.rt(u);return f.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const v=a.N_.get(m);v&&a.N_.set(m,v.withResumeToken(d.resumeToken,u))}}),f.targetMismatches.forEach((d,m)=>{const v=a.N_.get(d);if(!v)return;a.N_.set(d,v.withResumeToken($t.EMPTY_BYTE_STRING,v.snapshotVersion)),i0(a,d);const w=new Fi(v.target,d,m,v.sequenceNumber);Zd(a,w)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){ye("RemoteStore","Failed to raise snapshot:",i),await gc(n,i)}}async function gc(n,e,t){if(!gl(e))throw e;n.L_.add(1),await _l(n),n.q_.set("Offline"),t||(t=()=>e0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await Vc(n)})}function o0(n,e){return e().catch(t=>gc(n,t,e))}async function Mc(n){const e=Oe(n),t=Wi(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;eS(e);)try{const o=await Mk(e.localStore,i);if(o===null){e.O_.length===0&&t.o_();break}i=o.batchId,tS(e,o)}catch(o){await gc(e,o)}a0(e)&&l0(e)}function eS(n){return Ds(n)&&n.O_.length<10}function tS(n,e){n.O_.push(e);const t=Wi(n);t.r_()&&t.V_&&t.m_(e.mutations)}function a0(n){return Ds(n)&&!Wi(n).n_()&&n.O_.length>0}function l0(n){Wi(n).start()}async function nS(n){Wi(n).p_()}async function rS(n){const e=Wi(n);for(const t of n.O_)e.m_(t.mutations)}async function iS(n,e,t){const i=n.O_.shift(),o=Wd.from(i,e,t);await o0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Mc(n)}async function sS(n,e){e&&Wi(n).V_&&await async function(i,o){if(function(u){return KI(u)&&u!==ie.ABORTED}(o.code)){const a=i.O_.shift();Wi(i).s_(),await o0(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Mc(i)}}(n,e),a0(n)&&l0(n)}async function Oy(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const i=Ds(t);t.L_.add(3),await _l(t),i&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await Vc(t)}async function oS(n,e){const t=Oe(n);e?(t.L_.delete(2),await Vc(t)):e||(t.L_.add(2),await _l(t),t.q_.set("Unknown"))}function Yo(n){return n.K_||(n.K_=function(t,i,o){const a=Oe(t);return a.w_(),new qk(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Eo:Yk.bind(null,n),Ro:Xk.bind(null,n),mo:Jk.bind(null,n),d_:Zk.bind(null,n)}),n.B_.push(async e=>{e?(n.K_.s_(),tp(n)?ep(n):n.q_.set("Unknown")):(await n.K_.stop(),s0(n))})),n.K_}function Wi(n){return n.U_||(n.U_=function(t,i,o){const a=Oe(t);return a.w_(),new Wk(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:nS.bind(null,n),mo:sS.bind(null,n),f_:rS.bind(null,n),g_:iS.bind(null,n)}),n.B_.push(async e=>{e?(n.U_.s_(),await Mc(n)):(await n.U_.stop(),n.O_.length>0&&(ye("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const u=Date.now()+i,f=new np(e,t,u,o,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rp(n,e){if(Zr("AsyncQueue",`${e}: ${n}`),gl(n))return new Ie(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.comparator=e?(t,i)=>e(t,i)||xe.comparator(t.key,i.key):(t,i)=>xe.comparator(t.key,i.key),this.keyedMap=Ka(),this.sortedSet=new dt(this.comparator)}static emptySet(e){return new Ro(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ro;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.W_=new dt(xe.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):be():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}}class qo{constructor(e,t,i,o,a,u,f,d,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new qo(e,t,Ro.emptySet(t),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class lS{constructor(){this.queries=Vy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){const o=Oe(t),a=o.queries;o.queries=Vy(),a.forEach((u,f)=>{for(const d of f.j_)d.onError(i)})})(this,new Ie(ie.ABORTED,"Firestore shutting down"))}}function Vy(){return new Qo(n=>P_(n),Rc)}async function uS(n,e){const t=Oe(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.H_()&&e.J_()&&(i=2):(a=new aS,i=e.J_()?0:1);try{switch(i){case 0:a.z_=await t.onListen(o,!0);break;case 1:a.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const f=rp(u,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,a),a.j_.push(e),e.Z_(t.onlineState),a.z_&&e.X_(a.z_)&&ip(t)}async function cS(n,e){const t=Oe(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const u=a.j_.indexOf(e);u>=0&&(a.j_.splice(u,1),a.j_.length===0?o=e.J_()?0:1:!a.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function hS(n,e){const t=Oe(n);let i=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const f of u.j_)f.X_(o)&&(i=!0);u.z_=o}}i&&ip(t)}function fS(n,e,t){const i=Oe(n),o=i.queries.get(e);if(o)for(const a of o.j_)a.onError(t);i.queries.delete(e)}function ip(n){n.Y_.forEach(e=>{e.next()})}var pd,My;(My=pd||(pd={})).ea="default",My.Cache="cache";class dS{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new qo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==pd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){this.key=e}}class c0{constructor(e){this.key=e}}class pS{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=je(),this.mutatedKeys=je(),this.Aa=R_(e),this.Ra=new Ro(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new Ly,o=t?t.Ra:this.Ra;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,f=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const T=o.get(v),I=Nc(this.query,w)?w:null,U=!!T&&this.mutatedKeys.has(T.key),M=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let B=!1;T&&I?T.data.isEqual(I.data)?U!==M&&(i.track({type:3,doc:I}),B=!0):this.ga(T,I)||(i.track({type:2,doc:I}),B=!0,(d&&this.Aa(I,d)>0||m&&this.Aa(I,m)<0)&&(f=!0)):!T&&I?(i.track({type:0,doc:I}),B=!0):T&&!I&&(i.track({type:1,doc:T}),B=!0,(d||m)&&(f=!0)),B&&(I?(u=u.add(I),a=M?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{Ra:u,fa:i,ns:f,mutatedKeys:a}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const u=e.fa.G_();u.sort((v,w)=>function(I,U){const M=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return M(I)-M(U)}(v.type,w.type)||this.Aa(v.doc,w.doc)),this.pa(i),o=o!=null&&o;const f=t&&!o?this.ya():[],d=this.da.size===0&&this.current&&!o?1:0,m=d!==this.Ea;return this.Ea=d,u.length!==0||m?{snapshot:new qo(this.query,e.Ra,a,u,e.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:f}:{wa:f}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ly,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=je(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const t=[];return e.forEach(i=>{this.da.has(i)||t.push(new c0(i))}),this.da.forEach(i=>{e.has(i)||t.push(new u0(i))}),t}ba(e){this.Ta=e.Ts,this.da=je();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return qo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class mS{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class gS{constructor(e){this.key=e,this.va=!1}}class yS{constructor(e,t,i,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ca={},this.Fa=new Qo(f=>P_(f),Rc),this.Ma=new Map,this.xa=new Set,this.Oa=new dt(xe.comparator),this.Na=new Map,this.La=new Qd,this.Ba={},this.ka=new Map,this.qa=Ho.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function vS(n,e,t=!0){const i=g0(n);let o;const a=i.Fa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Da()):o=await h0(i,e,t,!0),o}async function _S(n,e){const t=g0(n);await h0(t,e,!0,!1)}async function h0(n,e,t,i){const o=await Fk(n.localStore,Ir(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let f;return i&&(f=await wS(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&r0(n.remoteStore,o),f}async function wS(n,e,t,i,o){n.Ka=(w,T,I)=>async function(M,B,H,re){let Z=B.view.ma(H);Z.ns&&(Z=await Ny(M.localStore,B.query,!1).then(({documents:b})=>B.view.ma(b,Z)));const he=re&&re.targetChanges.get(B.targetId),ke=re&&re.targetMismatches.get(B.targetId)!=null,Q=B.view.applyChanges(Z,M.isPrimaryClient,he,ke);return Uy(M,B.targetId,Q.wa),Q.snapshot}(n,w,T,I);const a=await Ny(n.localStore,e,!0),u=new pS(e,a.Ts),f=u.ma(a.documents),d=vl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=u.applyChanges(f,n.isPrimaryClient,d);Uy(n,t,m.wa);const v=new mS(e,t,u);return n.Fa.set(e,v),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),m.snapshot}async function ES(n,e,t){const i=Oe(n),o=i.Fa.get(e),a=i.Ma.get(o.targetId);if(a.length>1)return i.Ma.set(o.targetId,a.filter(u=>!Rc(u,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await dd(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Jd(i.remoteStore,o.targetId),md(i,o.targetId)}).catch(ml)):(md(i,o.targetId),await dd(i.localStore,o.targetId,!0))}async function TS(n,e){const t=Oe(n),i=t.Fa.get(e),o=t.Ma.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Jd(t.remoteStore,i.targetId))}async function IS(n,e,t){const i=RS(n);try{const o=await function(u,f){const d=Oe(u),m=Pt.now(),v=f.reduce((I,U)=>I.add(U.key),je());let w,T;return d.persistence.runTransaction("Locally write mutations","readwrite",I=>{let U=ei(),M=je();return d.cs.getEntries(I,v).next(B=>{U=B,U.forEach((H,re)=>{re.isValidDocument()||(M=M.add(H))})}).next(()=>d.localDocuments.getOverlayedDocuments(I,U)).next(B=>{w=B;const H=[];for(const re of f){const Z=BI(re,w.get(re.key).overlayedDocument);Z!=null&&H.push(new Gi(re.key,Z,T_(Z.value.mapValue),kr.exists(!0)))}return d.mutationQueue.addMutationBatch(I,m,H,f)}).next(B=>{T=B;const H=B.applyToLocalDocumentSet(w,M);return d.documentOverlayCache.saveOverlays(I,B.batchId,H)})}).then(()=>({batchId:T.batchId,changes:b_(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,f,d){let m=u.Ba[u.currentUser.toKey()];m||(m=new dt(Ye)),m=m.insert(f,d),u.Ba[u.currentUser.toKey()]=m}(i,o.batchId,t),await wl(i,o.changes),await Mc(i.remoteStore)}catch(o){const a=rp(o,"Failed to persist write");t.reject(a)}}async function f0(n,e){const t=Oe(n);try{const i=await Lk(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Na.get(a);u&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.va=!0:o.modifiedDocuments.size>0?Ze(u.va):o.removedDocuments.size>0&&(Ze(u.va),u.va=!1))}),await wl(t,i,e)}catch(i){await ml(i)}}function Fy(n,e,t){const i=Oe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Fa.forEach((a,u)=>{const f=u.view.Z_(e);f.snapshot&&o.push(f.snapshot)}),function(u,f){const d=Oe(u);d.onlineState=f;let m=!1;d.queries.forEach((v,w)=>{for(const T of w.j_)T.Z_(f)&&(m=!0)}),m&&ip(d)}(i.eventManager,e),o.length&&i.Ca.d_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function kS(n,e,t){const i=Oe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Na.get(e),a=o&&o.key;if(a){let u=new dt(xe.comparator);u=u.insert(a,Xt.newNoDocument(a,De.min()));const f=je().add(a),d=new Oc(De.min(),new Map,new dt(Ye),u,f);await f0(i,d),i.Oa=i.Oa.remove(a),i.Na.delete(e),sp(i)}else await dd(i.localStore,e,!1).then(()=>md(i,e,t)).catch(ml)}async function SS(n,e){const t=Oe(n),i=e.batch.batchId;try{const o=await Ok(t.localStore,e);p0(t,i,null),d0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await wl(t,o)}catch(o){await ml(o)}}async function xS(n,e,t){const i=Oe(n);try{const o=await function(u,f){const d=Oe(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return d.mutationQueue.lookupMutationBatch(m,f).next(w=>(Ze(w!==null),v=w.keys(),d.mutationQueue.removeMutationBatch(m,w))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,v,f)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>d.localDocuments.getDocuments(m,v))})}(i.localStore,e);p0(i,e,t),d0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await wl(i,o)}catch(o){await ml(o)}}function d0(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function p0(n,e,t){const i=Oe(n);let o=i.Ba[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Ba[i.currentUser.toKey()]=o}}function md(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||m0(n,i)})}function m0(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(Jd(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),sp(n))}function Uy(n,e,t){for(const i of t)i instanceof u0?(n.La.addReference(i.key,e),AS(n,i)):i instanceof c0?(ye("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||m0(n,i.key)):be()}function AS(n,e){const t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(ye("SyncEngine","New document in limbo: "+t),n.xa.add(i),sp(n))}function sp(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new xe(mt.fromString(e)),i=n.qa.next();n.Na.set(i,new gS(t)),n.Oa=n.Oa.insert(t,i),r0(n.remoteStore,new Fi(Ir(Hd(t.path)),i,"TargetPurposeLimboResolution",Fd.oe))}}async function wl(n,e,t){const i=Oe(n),o=[],a=[],u=[];i.Fa.isEmpty()||(i.Fa.forEach((f,d)=>{u.push(i.Ka(d,e,t).then(m=>{var v;if((m||t)&&i.isPrimaryClient){const w=m?!m.fromCache:(v=t?.targetChanges.get(d.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(d.targetId,w?"current":"not-current")}if(m){o.push(m);const w=Xd.Wi(d.targetId,m);a.push(w)}}))}),await Promise.all(u),i.Ca.d_(o),await async function(d,m){const v=Oe(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>te.forEach(m,T=>te.forEach(T.$i,I=>v.persistence.referenceDelegate.addReference(w,T.targetId,I)).next(()=>te.forEach(T.Ui,I=>v.persistence.referenceDelegate.removeReference(w,T.targetId,I)))))}catch(w){if(!gl(w))throw w;ye("LocalStore","Failed to update sequence numbers: "+w)}for(const w of m){const T=w.targetId;if(!w.fromCache){const I=v.os.get(T),U=I.snapshotVersion,M=I.withLastLimboFreeSnapshotVersion(U);v.os=v.os.insert(T,M)}}}(i.localStore,a))}async function CS(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const i=await Z_(t.localStore,e);t.currentUser=e,function(a,u){a.ka.forEach(f=>{f.forEach(d=>{d.reject(new Ie(ie.CANCELLED,u))})}),a.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await wl(t,i.hs)}}function PS(n,e){const t=Oe(n),i=t.Na.get(e);if(i&&i.va)return je().add(i.key);{let o=je();const a=t.Ma.get(e);if(!a)return o;for(const u of a){const f=t.Fa.get(u);o=o.unionWith(f.view.Va)}return o}}function g0(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=f0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kS.bind(null,e),e.Ca.d_=hS.bind(null,e.eventManager),e.Ca.$a=fS.bind(null,e.eventManager),e}function RS(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xS.bind(null,e),e}class yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return Dk(this.persistence,new Nk,e.initialUser,this.serializer)}Ga(e){return new Ck(Yd.Zr,this.serializer)}Wa(e){return new zk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yc.provider={build:()=>new yc};class gd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Fy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=CS.bind(null,this.syncEngine),await oS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lS}()}createDatastore(e){const t=Lc(e.databaseInfo.databaseId),i=function(a){return new Hk(a)}(e.databaseInfo);return function(a,u,f,d){return new Kk(a,u,f,d)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,u,f){return new Qk(i,o,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Fy(this.syncEngine,t,0),function(){return Dy.D()?new Dy:new jk}())}createSyncEngine(e,t){return function(o,a,u,f,d,m,v){const w=new yS(o,a,u,f,d,m);return v&&(w.Qa=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Oe(o);ye("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await _l(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}gd.provider={build:()=>new gd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=__.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{ye("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ye("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=rp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Lf(n,e){n.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await Z_(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function zy(n,e){n.asyncQueue.verifyOperationInProgress();const t=await DS(n);ye("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Oy(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Oy(e.remoteStore,o)),n._onlineComponents=e}async function DS(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Fo("Error using user provided cache. Falling back to memory cache: "+t),await Lf(n,new yc)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),await Lf(n,new yc);return n._offlineComponents}async function y0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),await zy(n,n._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),await zy(n,new gd))),n._onlineComponents}function OS(n){return y0(n).then(e=>e.syncEngine)}async function jy(n){const e=await y0(n),t=e.eventManager;return t.onListen=vS.bind(null,e.syncEngine),t.onUnlisten=ES.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=_S.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=TS.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(n,e,t){if(!t)throw new Ie(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VS(n,e,t,i){if(e===!0&&i===!0)throw new Ie(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $y(n){if(!xe.isDocumentKey(n))throw new Ie(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function op(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":be()}function Bi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=op(n);throw new Ie(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ie(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ie(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ie(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ie(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ap{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hy(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Y1;switch(i.type){case"firstParty":return new eI(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ie(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=By.get(t);i&&(ye("ComponentProvider","Removing Datastore"),By.delete(t),i.terminate())}(this),Promise.resolve()}}function MS(n,e,t,i={}){var o;const a=(n=Bi(n,ap))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&Fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),i.mockUserToken){let f,d;if(typeof i.mockUserToken=="string")f=i.mockUserToken,d=Yt.MOCK_USER;else{f=xT(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new Ie(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Yt(m)}n._authCredentials=new X1(new v_(f,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Fc(this.firestore,e,this._query)}}class Nn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ul(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class ul extends Fc{constructor(e,t,i){super(e,t,Hd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new xe(e))}withConverter(e){return new ul(this.firestore,e,this._path)}}function _0(n,e,...t){if(n=an(n),arguments.length===1&&(e=__.newId()),LS("doc","path",e),n instanceof ap){const i=mt.fromString(e,...t);return $y(i),new Nn(n,null,new xe(i))}{if(!(n instanceof Nn||n instanceof ul))throw new Ie(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mt.fromString(e,...t));return $y(i),new Nn(n.firestore,n instanceof ul?n.converter:null,new xe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new t0(this,"async_queue_retry"),this.Vu=()=>{const i=Of();i&&ye("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const t=Of();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Of();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new xs;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!gl(e))throw e;ye("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const o=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(i);throw Zr("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=np.createAndSchedule(this,e,t,i,a=>this.yu(a));return this.Tu.push(o),o}fu(){this.Eu&&be()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Wy(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of i)if(a in o&&typeof o[a]=="function")return!0;return!1}(n,["next","error","complete"])}class cl extends ap{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new qy,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qy(e),this._firestoreClient=void 0,await e}}}function FS(n,e){const t=typeof n=="object"?n:u_(),i=typeof n=="string"?n:"(default)",o=Vd(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=kT("firestore");a&&MS(o,...a)}return o}function w0(n){if(n._terminated)throw new Ie(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||US(n),n._firestoreClient}function US(n){var e,t,i;const o=n._freezeSettings(),a=function(f,d,m,v){return new dI(f,d,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v0(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new bS(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(f){const d=f?._online.build();return{_offline:f?._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wo($t.fromBase64String(e))}catch(t){throw new Ie(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wo($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ie(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=/^__.*__$/;class jS{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Gi(e,this.data,this.fieldMask,t,this.fieldTransforms):new yl(e,this.data,t,this.fieldTransforms)}}class E0{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Gi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function T0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class zc{constructor(e,t,i,o,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new zc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.Ou(e),o}Nu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return vc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(T0(this.Cu)&&zS.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class BS{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Lc(e)}Qu(e,t,i,o=!1){return new zc({Cu:e,methodName:t,qu:i,path:jt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function I0(n){const e=n._freezeSettings(),t=Lc(n._databaseId);return new BS(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $S(n,e,t,i,o,a={}){const u=n.Qu(a.merge||a.mergeFields?2:0,e,t,o);fp("Data must be an object, but it was:",u,i);const f=S0(i,u);let d,m;if(a.merge)d=new Pn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const w of a.mergeFields){const T=yd(e,w,t);if(!u.contains(T))throw new Ie(ie.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);A0(v,T)||v.push(T)}d=new Pn(v),m=u.fieldTransforms.filter(w=>d.covers(w.field))}else d=null,m=u.fieldTransforms;return new jS(new vn(f),d,m)}class jc extends El{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jc}}function k0(n,e,t){return new zc({Cu:3,qu:e.settings.qu,methodName:n._methodName,xu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class cp extends El{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=k0(this,e,!0),i=this.Ku.map(a=>Xo(a,t)),o=new Bo(i);return new U_(e.path,o)}isEqual(e){return e instanceof cp&&Vo(this.Ku,e.Ku)}}class hp extends El{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=k0(this,e,!0),i=this.Ku.map(a=>Xo(a,t)),o=new $o(i);return new U_(e.path,o)}isEqual(e){return e instanceof hp&&Vo(this.Ku,e.Ku)}}function HS(n,e,t,i){const o=n.Qu(1,e,t);fp("Data must be an object, but it was:",o,i);const a=[],u=vn.empty();bs(i,(d,m)=>{const v=dp(e,d,t);m=an(m);const w=o.Nu(v);if(m instanceof jc)a.push(v);else{const T=Xo(m,w);T!=null&&(a.push(v),u.set(v,T))}});const f=new Pn(a);return new E0(u,f,o.fieldTransforms)}function qS(n,e,t,i,o,a){const u=n.Qu(1,e,t),f=[yd(e,i,t)],d=[o];if(a.length%2!=0)throw new Ie(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)f.push(yd(e,a[T])),d.push(a[T+1]);const m=[],v=vn.empty();for(let T=f.length-1;T>=0;--T)if(!A0(m,f[T])){const I=f[T];let U=d[T];U=an(U);const M=u.Nu(I);if(U instanceof jc)m.push(I);else{const B=Xo(U,M);B!=null&&(m.push(I),v.set(I,B))}}const w=new Pn(m);return new E0(v,w,u.fieldTransforms)}function Xo(n,e){if(x0(n=an(n)))return fp("Unsupported field value:",e,n),S0(n,e);if(n instanceof El)return function(i,o){if(!T0(o.Cu))throw o.Bu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,o){const a=[];let u=0;for(const f of i){let d=Xo(f,o.Lu(u));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),u++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=an(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return VI(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Pt.fromDate(i);return{timestampValue:mc(o.serializer,a)}}if(i instanceof Pt){const a=new Pt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:mc(o.serializer,a)}}if(i instanceof lp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Wo)return{bytesValue:W_(o.serializer,i._byteString)};if(i instanceof Nn){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.Bu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Gd(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof up)return function(u,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw f.Bu("VectorValues must only contain numeric values.");return qd(f.serializer,d)})}}}}}}(i,o);throw o.Bu(`Unsupported field value: ${op(i)}`)}(n,e)}function S0(n,e){const t={};return w_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(n,(i,o)=>{const a=Xo(o,e.Mu(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function x0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof lp||n instanceof Wo||n instanceof Nn||n instanceof El||n instanceof up)}function fp(n,e,t){if(!x0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=op(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function yd(n,e,t){if((e=an(e))instanceof Uc)return e._internalPath;if(typeof e=="string")return dp(n,e);throw vc("Field path arguments must be of type string or ",n,!1,void 0,t)}const WS=new RegExp("[~\\*/\\[\\]]");function dp(n,e,t){if(e.search(WS)>=0)throw vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Uc(...e.split("."))._internalPath}catch{throw vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vc(n,e,t,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(a||u)&&(d+=" (found",a&&(d+=` in field ${i}`),u&&(d+=` in document ${o}`),d+=")"),new Ie(ie.INVALID_ARGUMENT,f+n+d)}function A0(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(P0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class KS extends C0{data(){return super.data()}}function P0(n,e){return typeof e=="string"?dp(n,e):e instanceof Uc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ie(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class QS{convertValue(e,t="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return bs(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>vt(u.doubleValue));return new up(a)}convertGeoPoint(e){return new lp(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=zd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ol(e));default:return null}}convertTimestamp(e){const t=qi(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=mt.fromString(e);Ze(J_(i));const o=new al(i.get(1),i.get(3)),a=new xe(i.popFirst(5));return o.isEqual(t)||Zr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class R0 extends C0{constructor(e,t,i,o,a,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(P0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class nc extends R0{data(e={}){return super.data(e)}}class XS{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Qa(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new nc(this._firestore,this._userDataWriter,i.key,i,new Qa(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(f=>{const d=new nc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Qa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const d=new nc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Qa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:JS(f.type),doc:d,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function JS(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}class N0 extends QS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,t)}}function ZS(n,e,t){n=Bi(n,Nn);const i=Bi(n.firestore,cl),o=YS(n.converter,e,t);return b0(i,[$S(I0(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,kr.none())])}function ex(n,e,t,...i){n=Bi(n,Nn);const o=Bi(n.firestore,cl),a=I0(o);let u;return u=typeof(e=an(e))=="string"||e instanceof Uc?qS(a,"updateDoc",n._key,e,t,i):HS(a,"updateDoc",n._key,e),b0(o,[u.toMutation(n._key,kr.exists(!0))])}function tx(n,...e){var t,i,o;n=an(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||Wy(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Wy(e[u])){const w=e[u];e[u]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[u+1]=(i=w.error)===null||i===void 0?void 0:i.bind(w),e[u+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let d,m,v;if(n instanceof Nn)m=Bi(n.firestore,cl),v=Hd(n._key.path),d={next:w=>{e[u]&&e[u](nx(m,n,w))},error:e[u+1],complete:e[u+2]};else{const w=Bi(n,Fc);m=Bi(w.firestore,cl),v=w._query;const T=new N0(m);d={next:I=>{e[u]&&e[u](new XS(m,T,w,I))},error:e[u+1],complete:e[u+2]},GS(n._query)}return function(T,I,U,M){const B=new NS(M),H=new dS(I,B,U);return T.asyncQueue.enqueueAndForget(async()=>uS(await jy(T),H)),()=>{B.Za(),T.asyncQueue.enqueueAndForget(async()=>cS(await jy(T),H))}}(w0(m),v,f,d)}function b0(n,e){return function(i,o){const a=new xs;return i.asyncQueue.enqueueAndForget(async()=>IS(await OS(i),o,a)),a.promise}(w0(n),e)}function nx(n,e,t){const i=t.docs.get(e._key),o=new N0(n);return new R0(n,o,e._key,i,new Qa(t.hasPendingWrites,t.fromCache),e.converter)}function rx(...n){return new cp("arrayUnion",n)}function ix(...n){return new hp("arrayRemove",n)}(function(e,t=!0){(function(o){Go=o})(Ko),Mo(new As("firestore",(i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),f=new cl(new J1(i.getProvider("auth-internal")),new nI(i.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ie(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new al(m.options.projectId,v)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),ji(cy,"4.7.3",e),ji(cy,"4.7.3","esm2017")})();function sx(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const ox=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ax=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,lx={};function Ky(n,e){return(lx.jsx?ax:ox).test(n)}const ux=/[ \t\n\f\r]/g;function cx(n){return typeof n=="object"?n.type==="text"?Gy(n.value):!1:Gy(n)}function Gy(n){return n.replace(ux,"")===""}class Tl{constructor(e,t,i){this.normal=t,this.property=e,i&&(this.space=i)}}Tl.prototype.normal={};Tl.prototype.property={};Tl.prototype.space=void 0;function D0(n,e){const t={},i={};for(const o of n)Object.assign(t,o.property),Object.assign(i,o.normal);return new Tl(t,i,e)}function vd(n){return n.toLowerCase()}class wn{constructor(e,t){this.attribute=t,this.property=e}}wn.prototype.attribute="";wn.prototype.booleanish=!1;wn.prototype.boolean=!1;wn.prototype.commaOrSpaceSeparated=!1;wn.prototype.commaSeparated=!1;wn.prototype.defined=!1;wn.prototype.mustUseProperty=!1;wn.prototype.number=!1;wn.prototype.overloadedBoolean=!1;wn.prototype.property="";wn.prototype.spaceSeparated=!1;wn.prototype.space=void 0;let hx=0;const Ve=Os(),Tt=Os(),_d=Os(),se=Os(),it=Os(),No=Os(),Cn=Os();function Os(){return 2**++hx}const wd=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ve,booleanish:Tt,commaOrSpaceSeparated:Cn,commaSeparated:No,number:se,overloadedBoolean:_d,spaceSeparated:it},Symbol.toStringTag,{value:"Module"})),Vf=Object.keys(wd);class pp extends wn{constructor(e,t,i,o){let a=-1;if(super(e,t),Qy(this,"space",o),typeof i=="number")for(;++a<Vf.length;){const u=Vf[a];Qy(this,Vf[a],(i&wd[u])===wd[u])}}}pp.prototype.defined=!0;function Qy(n,e,t){t&&(n[e]=t)}function Jo(n){const e={},t={};for(const[i,o]of Object.entries(n.properties)){const a=new pp(i,n.transform(n.attributes||{},i),o,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(a.mustUseProperty=!0),e[i]=a,t[vd(i)]=i,t[vd(a.attribute)]=i}return new Tl(e,t,n.space)}const O0=Jo({properties:{ariaActiveDescendant:null,ariaAtomic:Tt,ariaAutoComplete:null,ariaBusy:Tt,ariaChecked:Tt,ariaColCount:se,ariaColIndex:se,ariaColSpan:se,ariaControls:it,ariaCurrent:null,ariaDescribedBy:it,ariaDetails:null,ariaDisabled:Tt,ariaDropEffect:it,ariaErrorMessage:null,ariaExpanded:Tt,ariaFlowTo:it,ariaGrabbed:Tt,ariaHasPopup:null,ariaHidden:Tt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:it,ariaLevel:se,ariaLive:null,ariaModal:Tt,ariaMultiLine:Tt,ariaMultiSelectable:Tt,ariaOrientation:null,ariaOwns:it,ariaPlaceholder:null,ariaPosInSet:se,ariaPressed:Tt,ariaReadOnly:Tt,ariaRelevant:null,ariaRequired:Tt,ariaRoleDescription:it,ariaRowCount:se,ariaRowIndex:se,ariaRowSpan:se,ariaSelected:Tt,ariaSetSize:se,ariaSort:null,ariaValueMax:se,ariaValueMin:se,ariaValueNow:se,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function L0(n,e){return e in n?n[e]:e}function V0(n,e){return L0(n,e.toLowerCase())}const fx=Jo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:No,acceptCharset:it,accessKey:it,action:null,allow:null,allowFullScreen:Ve,allowPaymentRequest:Ve,allowUserMedia:Ve,alt:null,as:null,async:Ve,autoCapitalize:null,autoComplete:it,autoFocus:Ve,autoPlay:Ve,blocking:it,capture:null,charSet:null,checked:Ve,cite:null,className:it,cols:se,colSpan:null,content:null,contentEditable:Tt,controls:Ve,controlsList:it,coords:se|No,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ve,defer:Ve,dir:null,dirName:null,disabled:Ve,download:_d,draggable:Tt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ve,formTarget:null,headers:it,height:se,hidden:_d,high:se,href:null,hrefLang:null,htmlFor:it,httpEquiv:it,id:null,imageSizes:null,imageSrcSet:null,inert:Ve,inputMode:null,integrity:null,is:null,isMap:Ve,itemId:null,itemProp:it,itemRef:it,itemScope:Ve,itemType:it,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ve,low:se,manifest:null,max:null,maxLength:se,media:null,method:null,min:null,minLength:se,multiple:Ve,muted:Ve,name:null,nonce:null,noModule:Ve,noValidate:Ve,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ve,optimum:se,pattern:null,ping:it,placeholder:null,playsInline:Ve,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ve,referrerPolicy:null,rel:it,required:Ve,reversed:Ve,rows:se,rowSpan:se,sandbox:it,scope:null,scoped:Ve,seamless:Ve,selected:Ve,shadowRootClonable:Ve,shadowRootDelegatesFocus:Ve,shadowRootMode:null,shape:null,size:se,sizes:null,slot:null,span:se,spellCheck:Tt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:se,step:null,style:null,tabIndex:se,target:null,title:null,translate:null,type:null,typeMustMatch:Ve,useMap:null,value:Tt,width:se,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:it,axis:null,background:null,bgColor:null,border:se,borderColor:null,bottomMargin:se,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ve,declare:Ve,event:null,face:null,frame:null,frameBorder:null,hSpace:se,leftMargin:se,link:null,longDesc:null,lowSrc:null,marginHeight:se,marginWidth:se,noResize:Ve,noHref:Ve,noShade:Ve,noWrap:Ve,object:null,profile:null,prompt:null,rev:null,rightMargin:se,rules:null,scheme:null,scrolling:Tt,standby:null,summary:null,text:null,topMargin:se,valueType:null,version:null,vAlign:null,vLink:null,vSpace:se,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ve,disableRemotePlayback:Ve,prefix:null,property:null,results:se,security:null,unselectable:null},space:"html",transform:V0}),dx=Jo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Cn,accentHeight:se,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:se,amplitude:se,arabicForm:null,ascent:se,attributeName:null,attributeType:null,azimuth:se,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:se,by:null,calcMode:null,capHeight:se,className:it,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:se,diffuseConstant:se,direction:null,display:null,dur:null,divisor:se,dominantBaseline:null,download:Ve,dx:null,dy:null,edgeMode:null,editable:null,elevation:se,enableBackground:null,end:null,event:null,exponent:se,externalResourcesRequired:null,fill:null,fillOpacity:se,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:No,g2:No,glyphName:No,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:se,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:se,horizOriginX:se,horizOriginY:se,id:null,ideographic:se,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:se,k:se,k1:se,k2:se,k3:se,k4:se,kernelMatrix:Cn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:se,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:se,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:se,overlineThickness:se,paintOrder:null,panose1:null,path:null,pathLength:se,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:it,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:se,pointsAtY:se,pointsAtZ:se,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Cn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Cn,rev:Cn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Cn,requiredFeatures:Cn,requiredFonts:Cn,requiredFormats:Cn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:se,specularExponent:se,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:se,strikethroughThickness:se,string:null,stroke:null,strokeDashArray:Cn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:se,strokeOpacity:se,strokeWidth:null,style:null,surfaceScale:se,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Cn,tabIndex:se,tableValues:null,target:null,targetX:se,targetY:se,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Cn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:se,underlineThickness:se,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:se,values:null,vAlphabetic:se,vMathematical:se,vectorEffect:null,vHanging:se,vIdeographic:se,version:null,vertAdvY:se,vertOriginX:se,vertOriginY:se,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:se,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:L0}),M0=Jo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),F0=Jo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:V0}),U0=Jo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),px={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},mx=/[A-Z]/g,Yy=/-[a-z]/g,gx=/^data[-\w.:]+$/i;function yx(n,e){const t=vd(e);let i=e,o=wn;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&gx.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(Yy,_x);i="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!Yy.test(a)){let u=a.replace(mx,vx);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}o=pp}return new o(i,e)}function vx(n){return"-"+n.toLowerCase()}function _x(n){return n.charAt(1).toUpperCase()}const wx=D0([O0,fx,M0,F0,U0],"html"),mp=D0([O0,dx,M0,F0,U0],"svg");function Ex(n){return n.join(" ").trim()}var ko={},Mf,Xy;function Tx(){if(Xy)return Mf;Xy=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,f=/^\s+|\s+$/g,d=`
`,m="/",v="*",w="",T="comment",I="declaration";Mf=function(M,B){if(typeof M!="string")throw new TypeError("First argument must be a string");if(!M)return[];B=B||{};var H=1,re=1;function Z(S){var ue=S.match(e);ue&&(H+=ue.length);var me=S.lastIndexOf(d);re=~me?S.length-me:re+S.length}function he(){var S={line:H,column:re};return function(ue){return ue.position=new ke(S),A(),ue}}function ke(S){this.start=S,this.end={line:H,column:re},this.source=B.source}ke.prototype.content=M;function Q(S){var ue=new Error(B.source+":"+H+":"+re+": "+S);if(ue.reason=S,ue.filename=B.source,ue.line=H,ue.column=re,ue.source=M,!B.silent)throw ue}function b(S){var ue=S.exec(M);if(ue){var me=ue[0];return Z(me),M=M.slice(me.length),ue}}function A(){b(t)}function P(S){var ue;for(S=S||[];ue=D();)ue!==!1&&S.push(ue);return S}function D(){var S=he();if(!(m!=M.charAt(0)||v!=M.charAt(1))){for(var ue=2;w!=M.charAt(ue)&&(v!=M.charAt(ue)||m!=M.charAt(ue+1));)++ue;if(ue+=2,w===M.charAt(ue-1))return Q("End of comment missing");var me=M.slice(2,ue-2);return re+=2,Z(me),M=M.slice(ue),re+=2,S({type:T,comment:me})}}function N(){var S=he(),ue=b(i);if(ue){if(D(),!b(o))return Q("property missing ':'");var me=b(a),Be=S({type:I,property:U(ue[0].replace(n,w)),value:me?U(me[0].replace(n,w)):w});return b(u),Be}}function O(){var S=[];P(S);for(var ue;ue=N();)ue!==!1&&(S.push(ue),P(S));return S}return A(),O()};function U(M){return M?M.replace(f,w):w}return Mf}var Jy;function Ix(){if(Jy)return ko;Jy=1;var n=ko&&ko.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ko,"__esModule",{value:!0}),ko.default=t;var e=n(Tx());function t(i,o){var a=null;if(!i||typeof i!="string")return a;var u=(0,e.default)(i),f=typeof o=="function";return u.forEach(function(d){if(d.type==="declaration"){var m=d.property,v=d.value;f?o(m,v,d):v&&(a=a||{},a[m]=v)}}),a}return ko}var ja={},Zy;function kx(){if(Zy)return ja;Zy=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,a=function(m){return!m||t.test(m)||n.test(m)},u=function(m,v){return v.toUpperCase()},f=function(m,v){return"".concat(v,"-")},d=function(m,v){return v===void 0&&(v={}),a(m)?m:(m=m.toLowerCase(),v.reactCompat?m=m.replace(o,f):m=m.replace(i,f),m.replace(e,u))};return ja.camelCase=d,ja}var Ba,ev;function Sx(){if(ev)return Ba;ev=1;var n=Ba&&Ba.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},e=n(Ix()),t=kx();function i(o,a){var u={};return!o||typeof o!="string"||(0,e.default)(o,function(f,d){f&&d&&(u[(0,t.camelCase)(f,a)]=d)}),u}return i.default=i,Ba=i,Ba}var xx=Sx();const Ax=xc(xx),z0=j0("end"),gp=j0("start");function j0(n){return e;function e(t){const i=t&&t.position&&t.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function Cx(n){const e=gp(n),t=z0(n);if(e&&t)return{start:e,end:t}}function el(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?tv(n.position):"start"in n||"end"in n?tv(n):"line"in n||"column"in n?Ed(n):""}function Ed(n){return nv(n&&n.line)+":"+nv(n&&n.column)}function tv(n){return Ed(n&&n.start)+"-"+Ed(n&&n.end)}function nv(n){return n&&typeof n=="number"?n:1}class Zt extends Error{constructor(e,t,i){super(),typeof t=="string"&&(i=t,t=void 0);let o="",a={},u=!1;if(t&&("line"in t&&"column"in t?a={place:t}:"start"in t&&"end"in t?a={place:t}:"type"in t?a={ancestors:[t],place:t.position}:a={...t}),typeof e=="string"?o=e:!a.cause&&e&&(u=!0,o=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof i=="string"){const d=i.indexOf(":");d===-1?a.ruleId=i:(a.source=i.slice(0,d),a.ruleId=i.slice(d+1))}if(!a.place&&a.ancestors&&a.ancestors){const d=a.ancestors[a.ancestors.length-1];d&&(a.place=d.position)}const f=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=f?f.line:void 0,this.name=el(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=u&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}Zt.prototype.file="";Zt.prototype.name="";Zt.prototype.reason="";Zt.prototype.message="";Zt.prototype.stack="";Zt.prototype.column=void 0;Zt.prototype.line=void 0;Zt.prototype.ancestors=void 0;Zt.prototype.cause=void 0;Zt.prototype.fatal=void 0;Zt.prototype.place=void 0;Zt.prototype.ruleId=void 0;Zt.prototype.source=void 0;const yp={}.hasOwnProperty,Px=new Map,Rx=/[A-Z]/g,Nx=new Set(["table","tbody","thead","tfoot","tr"]),bx=new Set(["td","th"]),B0="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Dx(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=jx(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=zx(t,e.jsx,e.jsxs)}const o={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?mp:wx,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=$0(o,n,void 0);return a&&typeof a!="string"?a:o.create(n,o.Fragment,{children:a||void 0},void 0)}function $0(n,e,t){if(e.type==="element")return Ox(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Lx(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Mx(n,e,t);if(e.type==="mdxjsEsm")return Vx(n,e);if(e.type==="root")return Fx(n,e,t);if(e.type==="text")return Ux(n,e)}function Ox(n,e,t){const i=n.schema;let o=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(o=mp,n.schema=o),n.ancestors.push(e);const a=q0(n,e.tagName,!1),u=Bx(n,e);let f=_p(n,e);return Nx.has(e.tagName)&&(f=f.filter(function(d){return typeof d=="string"?!cx(d):!0})),H0(n,u,a,e),vp(u,f),n.ancestors.pop(),n.schema=i,n.create(e,a,u,t)}function Lx(n,e){if(e.data&&e.data.estree&&n.evaluater){const i=e.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}hl(n,e.position)}function Vx(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);hl(n,e.position)}function Mx(n,e,t){const i=n.schema;let o=i;e.name==="svg"&&i.space==="html"&&(o=mp,n.schema=o),n.ancestors.push(e);const a=e.name===null?n.Fragment:q0(n,e.name,!0),u=$x(n,e),f=_p(n,e);return H0(n,u,a,e),vp(u,f),n.ancestors.pop(),n.schema=i,n.create(e,a,u,t)}function Fx(n,e,t){const i={};return vp(i,_p(n,e)),n.create(e,n.Fragment,i,t)}function Ux(n,e){return e.value}function H0(n,e,t,i){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=i)}function vp(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function zx(n,e,t){return i;function i(o,a,u,f){const m=Array.isArray(u.children)?t:e;return f?m(a,u,f):m(a,u)}}function jx(n,e){return t;function t(i,o,a,u){const f=Array.isArray(a.children),d=gp(i);return e(o,a,u,f,{columnNumber:d?d.column-1:void 0,fileName:n,lineNumber:d?d.line:void 0},void 0)}}function Bx(n,e){const t={};let i,o;for(o in e.properties)if(o!=="children"&&yp.call(e.properties,o)){const a=Hx(n,o,e.properties[o]);if(a){const[u,f]=a;n.tableCellAlignToStyle&&u==="align"&&typeof f=="string"&&bx.has(e.tagName)?i=f:t[u]=f}}if(i){const a=t.style||(t.style={});a[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return t}function $x(n,e){const t={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const a=i.data.estree.body[0];a.type;const u=a.expression;u.type;const f=u.properties[0];f.type,Object.assign(t,n.evaluater.evaluateExpression(f.argument))}else hl(n,e.position);else{const o=i.name;let a;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const f=i.value.data.estree.body[0];f.type,a=n.evaluater.evaluateExpression(f.expression)}else hl(n,e.position);else a=i.value===null?!0:i.value;t[o]=a}return t}function _p(n,e){const t=[];let i=-1;const o=n.passKeys?new Map:Px;for(;++i<e.children.length;){const a=e.children[i];let u;if(n.passKeys){const d=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(d){const m=o.get(d)||0;u=d+"-"+m,o.set(d,m+1)}}const f=$0(n,a,u);f!==void 0&&t.push(f)}return t}function Hx(n,e,t){const i=yx(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=i.commaSeparated?sx(t):Ex(t)),i.property==="style"){let o=typeof t=="object"?t:qx(n,String(t));return n.stylePropertyNameCase==="css"&&(o=Wx(o)),["style",o]}return[n.elementAttributeNameCase==="react"&&i.space?px[i.property]||i.property:i.attribute,t]}}function qx(n,e){try{return Ax(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const i=t,o=new Zt("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=n.filePath||void 0,o.url=B0+"#cannot-parse-style-attribute",o}}function q0(n,e,t){let i;if(!t)i={type:"Literal",value:e};else if(e.includes(".")){const o=e.split(".");let a=-1,u;for(;++a<o.length;){const f=Ky(o[a])?{type:"Identifier",name:o[a]}:{type:"Literal",value:o[a]};u=u?{type:"MemberExpression",object:u,property:f,computed:!!(a&&f.type==="Literal"),optional:!1}:f}i=u}else i=Ky(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const o=i.value;return yp.call(n.components,o)?n.components[o]:o}if(n.evaluater)return n.evaluater.evaluateExpression(i);hl(n)}function hl(n,e){const t=new Zt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=B0+"#cannot-handle-mdx-estrees-without-createevaluater",t}function Wx(n){const e={};let t;for(t in n)yp.call(n,t)&&(e[Kx(t)]=n[t]);return e}function Kx(n){let e=n.replace(Rx,Gx);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Gx(n){return"-"+n.toLowerCase()}const Ff={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Qx={};function Yx(n,e){const t=Qx,i=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,o=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return W0(n,i,o)}function W0(n,e,t){if(Xx(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return rv(n.children,e,t)}return Array.isArray(n)?rv(n,e,t):""}function rv(n,e,t){const i=[];let o=-1;for(;++o<n.length;)i[o]=W0(n[o],e,t);return i.join("")}function Xx(n){return!!(n&&typeof n=="object")}const iv=document.createElement("i");function wp(n){const e="&"+n+";";iv.innerHTML=e;const t=iv.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function Rr(n,e,t,i){const o=n.length;let a=0,u;if(e<0?e=-e>o?0:o+e:e=e>o?o:e,t=t>0?t:0,i.length<1e4)u=Array.from(i),u.unshift(e,t),n.splice(...u);else for(t&&n.splice(e,t);a<i.length;)u=i.slice(a,a+1e4),u.unshift(e,0),n.splice(...u),a+=1e4,e+=1e4}function Hn(n,e){return n.length>0?(Rr(n,n.length,0,e),n):e}const sv={}.hasOwnProperty;function Jx(n){const e={};let t=-1;for(;++t<n.length;)Zx(e,n[t]);return e}function Zx(n,e){let t;for(t in e){const o=(sv.call(n,t)?n[t]:void 0)||(n[t]={}),a=e[t];let u;if(a)for(u in a){sv.call(o,u)||(o[u]=[]);const f=a[u];eA(o[u],Array.isArray(f)?f:f?[f]:[])}}}function eA(n,e){let t=-1;const i=[];for(;++t<e.length;)(e[t].add==="after"?n:i).push(e[t]);Rr(n,0,0,i)}function K0(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function bo(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Tr=Qi(/[A-Za-z]/),Rn=Qi(/[\dA-Za-z]/),tA=Qi(/[#-'*+\--9=?A-Z^-~]/);function Td(n){return n!==null&&(n<32||n===127)}const Id=Qi(/\d/),nA=Qi(/[\dA-Fa-f]/),rA=Qi(/[!-/:-@[-`{-~]/);function Ce(n){return n!==null&&n<-2}function _n(n){return n!==null&&(n<0||n===32)}function Xe(n){return n===-2||n===-1||n===32}const iA=Qi(new RegExp("\\p{P}|\\p{S}","u")),sA=Qi(/\s/);function Qi(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function Zo(n){const e=[];let t=-1,i=0,o=0;for(;++t<n.length;){const a=n.charCodeAt(t);let u="";if(a===37&&Rn(n.charCodeAt(t+1))&&Rn(n.charCodeAt(t+2)))o=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(u=String.fromCharCode(a));else if(a>55295&&a<57344){const f=n.charCodeAt(t+1);a<56320&&f>56319&&f<57344?(u=String.fromCharCode(a,f),o=1):u=""}else u=String.fromCharCode(a);u&&(e.push(n.slice(i,t),encodeURIComponent(u)),i=t+o+1,u=""),o&&(t+=o,o=0)}return e.join("")+n.slice(i)}function st(n,e,t,i){const o=i?i-1:Number.POSITIVE_INFINITY;let a=0;return u;function u(d){return Xe(d)?(n.enter(t),f(d)):e(d)}function f(d){return Xe(d)&&a++<o?(n.consume(d),f):(n.exit(t),e(d))}}const oA={tokenize:aA};function aA(n){const e=n.attempt(this.parser.constructs.contentInitial,i,o);let t;return e;function i(f){if(f===null){n.consume(f);return}return n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),st(n,e,"linePrefix")}function o(f){return n.enter("paragraph"),a(f)}function a(f){const d=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=d),t=d,u(f)}function u(f){if(f===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(f);return}return Ce(f)?(n.consume(f),n.exit("chunkText"),a):(n.consume(f),u)}}const lA={tokenize:uA},ov={tokenize:cA};function uA(n){const e=this,t=[];let i=0,o,a,u;return f;function f(Z){if(i<t.length){const he=t[i];return e.containerState=he[1],n.attempt(he[0].continuation,d,m)(Z)}return m(Z)}function d(Z){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,o&&re();const he=e.events.length;let ke=he,Q;for(;ke--;)if(e.events[ke][0]==="exit"&&e.events[ke][1].type==="chunkFlow"){Q=e.events[ke][1].end;break}H(i);let b=he;for(;b<e.events.length;)e.events[b][1].end={...Q},b++;return Rr(e.events,ke+1,0,e.events.slice(he)),e.events.length=b,m(Z)}return f(Z)}function m(Z){if(i===t.length){if(!o)return T(Z);if(o.currentConstruct&&o.currentConstruct.concrete)return U(Z);e.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(ov,v,w)(Z)}function v(Z){return o&&re(),H(i),T(Z)}function w(Z){return e.parser.lazy[e.now().line]=i!==t.length,u=e.now().offset,U(Z)}function T(Z){return e.containerState={},n.attempt(ov,I,U)(Z)}function I(Z){return i++,t.push([e.currentConstruct,e.containerState]),T(Z)}function U(Z){if(Z===null){o&&re(),H(0),n.consume(Z);return}return o=o||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:a}),M(Z)}function M(Z){if(Z===null){B(n.exit("chunkFlow"),!0),H(0),n.consume(Z);return}return Ce(Z)?(n.consume(Z),B(n.exit("chunkFlow")),i=0,e.interrupt=void 0,f):(n.consume(Z),M)}function B(Z,he){const ke=e.sliceStream(Z);if(he&&ke.push(null),Z.previous=a,a&&(a.next=Z),a=Z,o.defineSkip(Z.start),o.write(ke),e.parser.lazy[Z.start.line]){let Q=o.events.length;for(;Q--;)if(o.events[Q][1].start.offset<u&&(!o.events[Q][1].end||o.events[Q][1].end.offset>u))return;const b=e.events.length;let A=b,P,D;for(;A--;)if(e.events[A][0]==="exit"&&e.events[A][1].type==="chunkFlow"){if(P){D=e.events[A][1].end;break}P=!0}for(H(i),Q=b;Q<e.events.length;)e.events[Q][1].end={...D},Q++;Rr(e.events,A+1,0,e.events.slice(b)),e.events.length=Q}}function H(Z){let he=t.length;for(;he-- >Z;){const ke=t[he];e.containerState=ke[1],ke[0].exit.call(e,n)}t.length=Z}function re(){o.write([null]),a=void 0,o=void 0,e.containerState._closeFlow=void 0}}function cA(n,e,t){return st(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function av(n){if(n===null||_n(n)||sA(n))return 1;if(iA(n))return 2}function Ep(n,e,t){const i=[];let o=-1;for(;++o<n.length;){const a=n[o].resolveAll;a&&!i.includes(a)&&(e=a(e,t),i.push(a))}return e}const kd={name:"attention",resolveAll:hA,tokenize:fA};function hA(n,e){let t=-1,i,o,a,u,f,d,m,v;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(i=t;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&e.sliceSerialize(n[i][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[i][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;d=n[i][1].end.offset-n[i][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const w={...n[i][1].end},T={...n[t][1].start};lv(w,-d),lv(T,d),u={type:d>1?"strongSequence":"emphasisSequence",start:w,end:{...n[i][1].end}},f={type:d>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:T},a={type:d>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[t][1].start}},o={type:d>1?"strong":"emphasis",start:{...u.start},end:{...f.end}},n[i][1].end={...u.start},n[t][1].start={...f.end},m=[],n[i][1].end.offset-n[i][1].start.offset&&(m=Hn(m,[["enter",n[i][1],e],["exit",n[i][1],e]])),m=Hn(m,[["enter",o,e],["enter",u,e],["exit",u,e],["enter",a,e]]),m=Hn(m,Ep(e.parser.constructs.insideSpan.null,n.slice(i+1,t),e)),m=Hn(m,[["exit",a,e],["enter",f,e],["exit",f,e],["exit",o,e]]),n[t][1].end.offset-n[t][1].start.offset?(v=2,m=Hn(m,[["enter",n[t][1],e],["exit",n[t][1],e]])):v=0,Rr(n,i-1,t-i+3,m),t=i+m.length-v-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function fA(n,e){const t=this.parser.constructs.attentionMarkers.null,i=this.previous,o=av(i);let a;return u;function u(d){return a=d,n.enter("attentionSequence"),f(d)}function f(d){if(d===a)return n.consume(d),f;const m=n.exit("attentionSequence"),v=av(d),w=!v||v===2&&o||t.includes(d),T=!o||o===2&&v||t.includes(i);return m._open=!!(a===42?w:w&&(o||!T)),m._close=!!(a===42?T:T&&(v||!w)),e(d)}}function lv(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const dA={name:"autolink",tokenize:pA};function pA(n,e,t){let i=0;return o;function o(I){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(I),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),a}function a(I){return Tr(I)?(n.consume(I),u):I===64?t(I):m(I)}function u(I){return I===43||I===45||I===46||Rn(I)?(i=1,f(I)):m(I)}function f(I){return I===58?(n.consume(I),i=0,d):(I===43||I===45||I===46||Rn(I))&&i++<32?(n.consume(I),f):(i=0,m(I))}function d(I){return I===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(I),n.exit("autolinkMarker"),n.exit("autolink"),e):I===null||I===32||I===60||Td(I)?t(I):(n.consume(I),d)}function m(I){return I===64?(n.consume(I),v):tA(I)?(n.consume(I),m):t(I)}function v(I){return Rn(I)?w(I):t(I)}function w(I){return I===46?(n.consume(I),i=0,v):I===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(I),n.exit("autolinkMarker"),n.exit("autolink"),e):T(I)}function T(I){if((I===45||Rn(I))&&i++<63){const U=I===45?T:w;return n.consume(I),U}return t(I)}}const Bc={partial:!0,tokenize:mA};function mA(n,e,t){return i;function i(a){return Xe(a)?st(n,o,"linePrefix")(a):o(a)}function o(a){return a===null||Ce(a)?e(a):t(a)}}const G0={continuation:{tokenize:yA},exit:vA,name:"blockQuote",tokenize:gA};function gA(n,e,t){const i=this;return o;function o(u){if(u===62){const f=i.containerState;return f.open||(n.enter("blockQuote",{_container:!0}),f.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(u),n.exit("blockQuoteMarker"),a}return t(u)}function a(u){return Xe(u)?(n.enter("blockQuotePrefixWhitespace"),n.consume(u),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(u))}}function yA(n,e,t){const i=this;return o;function o(u){return Xe(u)?st(n,a,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):a(u)}function a(u){return n.attempt(G0,e,t)(u)}}function vA(n){n.exit("blockQuote")}const Q0={name:"characterEscape",tokenize:_A};function _A(n,e,t){return i;function i(a){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(a),n.exit("escapeMarker"),o}function o(a){return rA(a)?(n.enter("characterEscapeValue"),n.consume(a),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(a)}}const Y0={name:"characterReference",tokenize:wA};function wA(n,e,t){const i=this;let o=0,a,u;return f;function f(w){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(w),n.exit("characterReferenceMarker"),d}function d(w){return w===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(w),n.exit("characterReferenceMarkerNumeric"),m):(n.enter("characterReferenceValue"),a=31,u=Rn,v(w))}function m(w){return w===88||w===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(w),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),a=6,u=nA,v):(n.enter("characterReferenceValue"),a=7,u=Id,v(w))}function v(w){if(w===59&&o){const T=n.exit("characterReferenceValue");return u===Rn&&!wp(i.sliceSerialize(T))?t(w):(n.enter("characterReferenceMarker"),n.consume(w),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return u(w)&&o++<a?(n.consume(w),v):t(w)}}const uv={partial:!0,tokenize:TA},cv={concrete:!0,name:"codeFenced",tokenize:EA};function EA(n,e,t){const i=this,o={partial:!0,tokenize:ke};let a=0,u=0,f;return d;function d(Q){return m(Q)}function m(Q){const b=i.events[i.events.length-1];return a=b&&b[1].type==="linePrefix"?b[2].sliceSerialize(b[1],!0).length:0,f=Q,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),v(Q)}function v(Q){return Q===f?(u++,n.consume(Q),v):u<3?t(Q):(n.exit("codeFencedFenceSequence"),Xe(Q)?st(n,w,"whitespace")(Q):w(Q))}function w(Q){return Q===null||Ce(Q)?(n.exit("codeFencedFence"),i.interrupt?e(Q):n.check(uv,M,he)(Q)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),T(Q))}function T(Q){return Q===null||Ce(Q)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),w(Q)):Xe(Q)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),st(n,I,"whitespace")(Q)):Q===96&&Q===f?t(Q):(n.consume(Q),T)}function I(Q){return Q===null||Ce(Q)?w(Q):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),U(Q))}function U(Q){return Q===null||Ce(Q)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),w(Q)):Q===96&&Q===f?t(Q):(n.consume(Q),U)}function M(Q){return n.attempt(o,he,B)(Q)}function B(Q){return n.enter("lineEnding"),n.consume(Q),n.exit("lineEnding"),H}function H(Q){return a>0&&Xe(Q)?st(n,re,"linePrefix",a+1)(Q):re(Q)}function re(Q){return Q===null||Ce(Q)?n.check(uv,M,he)(Q):(n.enter("codeFlowValue"),Z(Q))}function Z(Q){return Q===null||Ce(Q)?(n.exit("codeFlowValue"),re(Q)):(n.consume(Q),Z)}function he(Q){return n.exit("codeFenced"),e(Q)}function ke(Q,b,A){let P=0;return D;function D(me){return Q.enter("lineEnding"),Q.consume(me),Q.exit("lineEnding"),N}function N(me){return Q.enter("codeFencedFence"),Xe(me)?st(Q,O,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(me):O(me)}function O(me){return me===f?(Q.enter("codeFencedFenceSequence"),S(me)):A(me)}function S(me){return me===f?(P++,Q.consume(me),S):P>=u?(Q.exit("codeFencedFenceSequence"),Xe(me)?st(Q,ue,"whitespace")(me):ue(me)):A(me)}function ue(me){return me===null||Ce(me)?(Q.exit("codeFencedFence"),b(me)):A(me)}}}function TA(n,e,t){const i=this;return o;function o(u){return u===null?t(u):(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),a)}function a(u){return i.parser.lazy[i.now().line]?t(u):e(u)}}const Uf={name:"codeIndented",tokenize:kA},IA={partial:!0,tokenize:SA};function kA(n,e,t){const i=this;return o;function o(m){return n.enter("codeIndented"),st(n,a,"linePrefix",5)(m)}function a(m){const v=i.events[i.events.length-1];return v&&v[1].type==="linePrefix"&&v[2].sliceSerialize(v[1],!0).length>=4?u(m):t(m)}function u(m){return m===null?d(m):Ce(m)?n.attempt(IA,u,d)(m):(n.enter("codeFlowValue"),f(m))}function f(m){return m===null||Ce(m)?(n.exit("codeFlowValue"),u(m)):(n.consume(m),f)}function d(m){return n.exit("codeIndented"),e(m)}}function SA(n,e,t){const i=this;return o;function o(u){return i.parser.lazy[i.now().line]?t(u):Ce(u)?(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),o):st(n,a,"linePrefix",5)(u)}function a(u){const f=i.events[i.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):Ce(u)?o(u):t(u)}}const xA={name:"codeText",previous:CA,resolve:AA,tokenize:PA};function AA(n){let e=n.length-4,t=3,i,o;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(i=t;++i<e;)if(n[i][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(i=t-1,e++;++i<=e;)o===void 0?i!==e&&n[i][1].type!=="lineEnding"&&(o=i):(i===e||n[i][1].type==="lineEnding")&&(n[o][1].type="codeTextData",i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),e-=i-o-2,i=o+2),o=void 0);return n}function CA(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function PA(n,e,t){let i=0,o,a;return u;function u(w){return n.enter("codeText"),n.enter("codeTextSequence"),f(w)}function f(w){return w===96?(n.consume(w),i++,f):(n.exit("codeTextSequence"),d(w))}function d(w){return w===null?t(w):w===32?(n.enter("space"),n.consume(w),n.exit("space"),d):w===96?(a=n.enter("codeTextSequence"),o=0,v(w)):Ce(w)?(n.enter("lineEnding"),n.consume(w),n.exit("lineEnding"),d):(n.enter("codeTextData"),m(w))}function m(w){return w===null||w===32||w===96||Ce(w)?(n.exit("codeTextData"),d(w)):(n.consume(w),m)}function v(w){return w===96?(n.consume(w),o++,v):o===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(w)):(a.type="codeTextData",m(w))}}class RA{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const i=t??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,t,i){const o=t||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return i&&$a(this.left,i),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),$a(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),$a(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);$a(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);$a(this.left,t.reverse())}}}function $a(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function X0(n){const e={};let t=-1,i,o,a,u,f,d,m;const v=new RA(n);for(;++t<v.length;){for(;t in e;)t=e[t];if(i=v.get(t),t&&i[1].type==="chunkFlow"&&v.get(t-1)[1].type==="listItemPrefix"&&(d=i[1]._tokenizer.events,a=0,a<d.length&&d[a][1].type==="lineEndingBlank"&&(a+=2),a<d.length&&d[a][1].type==="content"))for(;++a<d.length&&d[a][1].type!=="content";)d[a][1].type==="chunkText"&&(d[a][1]._isInFirstContentOfListItem=!0,a++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,NA(v,t)),t=e[t],m=!0);else if(i[1]._container){for(a=t,o=void 0;a--;)if(u=v.get(a),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(o&&(v.get(o)[1].type="lineEndingBlank"),u[1].type="lineEnding",o=a);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;o&&(i[1].end={...v.get(o)[1].start},f=v.slice(o,t),f.unshift(i),v.splice(o,t-o+1,f))}}return Rr(n,0,Number.POSITIVE_INFINITY,v.slice(0)),!m}function NA(n,e){const t=n.get(e)[1],i=n.get(e)[2];let o=e-1;const a=[];let u=t._tokenizer;u||(u=i.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const f=u.events,d=[],m={};let v,w,T=-1,I=t,U=0,M=0;const B=[M];for(;I;){for(;n.get(++o)[1]!==I;);a.push(o),I._tokenizer||(v=i.sliceStream(I),I.next||v.push(null),w&&u.defineSkip(I.start),I._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(v),I._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),w=I,I=I.next}for(I=t;++T<f.length;)f[T][0]==="exit"&&f[T-1][0]==="enter"&&f[T][1].type===f[T-1][1].type&&f[T][1].start.line!==f[T][1].end.line&&(M=T+1,B.push(M),I._tokenizer=void 0,I.previous=void 0,I=I.next);for(u.events=[],I?(I._tokenizer=void 0,I.previous=void 0):B.pop(),T=B.length;T--;){const H=f.slice(B[T],B[T+1]),re=a.pop();d.push([re,re+H.length-1]),n.splice(re,2,H)}for(d.reverse(),T=-1;++T<d.length;)m[U+d[T][0]]=U+d[T][1],U+=d[T][1]-d[T][0]-1;return m}const bA={resolve:OA,tokenize:LA},DA={partial:!0,tokenize:VA};function OA(n){return X0(n),n}function LA(n,e){let t;return i;function i(f){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),o(f)}function o(f){return f===null?a(f):Ce(f)?n.check(DA,u,a)(f):(n.consume(f),o)}function a(f){return n.exit("chunkContent"),n.exit("content"),e(f)}function u(f){return n.consume(f),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,o}}function VA(n,e,t){const i=this;return o;function o(u){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),st(n,a,"linePrefix")}function a(u){if(u===null||Ce(u))return t(u);const f=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):n.interrupt(i.parser.constructs.flow,t,e)(u)}}function J0(n,e,t,i,o,a,u,f,d){const m=d||Number.POSITIVE_INFINITY;let v=0;return w;function w(H){return H===60?(n.enter(i),n.enter(o),n.enter(a),n.consume(H),n.exit(a),T):H===null||H===32||H===41||Td(H)?t(H):(n.enter(i),n.enter(u),n.enter(f),n.enter("chunkString",{contentType:"string"}),M(H))}function T(H){return H===62?(n.enter(a),n.consume(H),n.exit(a),n.exit(o),n.exit(i),e):(n.enter(f),n.enter("chunkString",{contentType:"string"}),I(H))}function I(H){return H===62?(n.exit("chunkString"),n.exit(f),T(H)):H===null||H===60||Ce(H)?t(H):(n.consume(H),H===92?U:I)}function U(H){return H===60||H===62||H===92?(n.consume(H),I):I(H)}function M(H){return!v&&(H===null||H===41||_n(H))?(n.exit("chunkString"),n.exit(f),n.exit(u),n.exit(i),e(H)):v<m&&H===40?(n.consume(H),v++,M):H===41?(n.consume(H),v--,M):H===null||H===32||H===40||Td(H)?t(H):(n.consume(H),H===92?B:M)}function B(H){return H===40||H===41||H===92?(n.consume(H),M):M(H)}}function Z0(n,e,t,i,o,a){const u=this;let f=0,d;return m;function m(I){return n.enter(i),n.enter(o),n.consume(I),n.exit(o),n.enter(a),v}function v(I){return f>999||I===null||I===91||I===93&&!d||I===94&&!f&&"_hiddenFootnoteSupport"in u.parser.constructs?t(I):I===93?(n.exit(a),n.enter(o),n.consume(I),n.exit(o),n.exit(i),e):Ce(I)?(n.enter("lineEnding"),n.consume(I),n.exit("lineEnding"),v):(n.enter("chunkString",{contentType:"string"}),w(I))}function w(I){return I===null||I===91||I===93||Ce(I)||f++>999?(n.exit("chunkString"),v(I)):(n.consume(I),d||(d=!Xe(I)),I===92?T:w)}function T(I){return I===91||I===92||I===93?(n.consume(I),f++,w):w(I)}}function ew(n,e,t,i,o,a){let u;return f;function f(T){return T===34||T===39||T===40?(n.enter(i),n.enter(o),n.consume(T),n.exit(o),u=T===40?41:T,d):t(T)}function d(T){return T===u?(n.enter(o),n.consume(T),n.exit(o),n.exit(i),e):(n.enter(a),m(T))}function m(T){return T===u?(n.exit(a),d(u)):T===null?t(T):Ce(T)?(n.enter("lineEnding"),n.consume(T),n.exit("lineEnding"),st(n,m,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),v(T))}function v(T){return T===u||T===null||Ce(T)?(n.exit("chunkString"),m(T)):(n.consume(T),T===92?w:v)}function w(T){return T===u||T===92?(n.consume(T),v):v(T)}}function tl(n,e){let t;return i;function i(o){return Ce(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),t=!0,i):Xe(o)?st(n,i,t?"linePrefix":"lineSuffix")(o):e(o)}}const MA={name:"definition",tokenize:UA},FA={partial:!0,tokenize:zA};function UA(n,e,t){const i=this;let o;return a;function a(I){return n.enter("definition"),u(I)}function u(I){return Z0.call(i,n,f,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(I)}function f(I){return o=bo(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),I===58?(n.enter("definitionMarker"),n.consume(I),n.exit("definitionMarker"),d):t(I)}function d(I){return _n(I)?tl(n,m)(I):m(I)}function m(I){return J0(n,v,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(I)}function v(I){return n.attempt(FA,w,w)(I)}function w(I){return Xe(I)?st(n,T,"whitespace")(I):T(I)}function T(I){return I===null||Ce(I)?(n.exit("definition"),i.parser.defined.push(o),e(I)):t(I)}}function zA(n,e,t){return i;function i(f){return _n(f)?tl(n,o)(f):t(f)}function o(f){return ew(n,a,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function a(f){return Xe(f)?st(n,u,"whitespace")(f):u(f)}function u(f){return f===null||Ce(f)?e(f):t(f)}}const jA={name:"hardBreakEscape",tokenize:BA};function BA(n,e,t){return i;function i(a){return n.enter("hardBreakEscape"),n.consume(a),o}function o(a){return Ce(a)?(n.exit("hardBreakEscape"),e(a)):t(a)}}const $A={name:"headingAtx",resolve:HA,tokenize:qA};function HA(n,e){let t=n.length-2,i=3,o,a;return n[i][1].type==="whitespace"&&(i+=2),t-2>i&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(i===t-1||t-4>i&&n[t-2][1].type==="whitespace")&&(t-=i+1===t?2:4),t>i&&(o={type:"atxHeadingText",start:n[i][1].start,end:n[t][1].end},a={type:"chunkText",start:n[i][1].start,end:n[t][1].end,contentType:"text"},Rr(n,i,t-i+1,[["enter",o,e],["enter",a,e],["exit",a,e],["exit",o,e]])),n}function qA(n,e,t){let i=0;return o;function o(v){return n.enter("atxHeading"),a(v)}function a(v){return n.enter("atxHeadingSequence"),u(v)}function u(v){return v===35&&i++<6?(n.consume(v),u):v===null||_n(v)?(n.exit("atxHeadingSequence"),f(v)):t(v)}function f(v){return v===35?(n.enter("atxHeadingSequence"),d(v)):v===null||Ce(v)?(n.exit("atxHeading"),e(v)):Xe(v)?st(n,f,"whitespace")(v):(n.enter("atxHeadingText"),m(v))}function d(v){return v===35?(n.consume(v),d):(n.exit("atxHeadingSequence"),f(v))}function m(v){return v===null||v===35||_n(v)?(n.exit("atxHeadingText"),f(v)):(n.consume(v),m)}}const WA=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],hv=["pre","script","style","textarea"],KA={concrete:!0,name:"htmlFlow",resolveTo:YA,tokenize:XA},GA={partial:!0,tokenize:ZA},QA={partial:!0,tokenize:JA};function YA(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function XA(n,e,t){const i=this;let o,a,u,f,d;return m;function m(C){return v(C)}function v(C){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(C),w}function w(C){return C===33?(n.consume(C),T):C===47?(n.consume(C),a=!0,M):C===63?(n.consume(C),o=3,i.interrupt?e:x):Tr(C)?(n.consume(C),u=String.fromCharCode(C),B):t(C)}function T(C){return C===45?(n.consume(C),o=2,I):C===91?(n.consume(C),o=5,f=0,U):Tr(C)?(n.consume(C),o=4,i.interrupt?e:x):t(C)}function I(C){return C===45?(n.consume(C),i.interrupt?e:x):t(C)}function U(C){const Se="CDATA[";return C===Se.charCodeAt(f++)?(n.consume(C),f===Se.length?i.interrupt?e:O:U):t(C)}function M(C){return Tr(C)?(n.consume(C),u=String.fromCharCode(C),B):t(C)}function B(C){if(C===null||C===47||C===62||_n(C)){const Se=C===47,Re=u.toLowerCase();return!Se&&!a&&hv.includes(Re)?(o=1,i.interrupt?e(C):O(C)):WA.includes(u.toLowerCase())?(o=6,Se?(n.consume(C),H):i.interrupt?e(C):O(C)):(o=7,i.interrupt&&!i.parser.lazy[i.now().line]?t(C):a?re(C):Z(C))}return C===45||Rn(C)?(n.consume(C),u+=String.fromCharCode(C),B):t(C)}function H(C){return C===62?(n.consume(C),i.interrupt?e:O):t(C)}function re(C){return Xe(C)?(n.consume(C),re):D(C)}function Z(C){return C===47?(n.consume(C),D):C===58||C===95||Tr(C)?(n.consume(C),he):Xe(C)?(n.consume(C),Z):D(C)}function he(C){return C===45||C===46||C===58||C===95||Rn(C)?(n.consume(C),he):ke(C)}function ke(C){return C===61?(n.consume(C),Q):Xe(C)?(n.consume(C),ke):Z(C)}function Q(C){return C===null||C===60||C===61||C===62||C===96?t(C):C===34||C===39?(n.consume(C),d=C,b):Xe(C)?(n.consume(C),Q):A(C)}function b(C){return C===d?(n.consume(C),d=null,P):C===null||Ce(C)?t(C):(n.consume(C),b)}function A(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||_n(C)?ke(C):(n.consume(C),A)}function P(C){return C===47||C===62||Xe(C)?Z(C):t(C)}function D(C){return C===62?(n.consume(C),N):t(C)}function N(C){return C===null||Ce(C)?O(C):Xe(C)?(n.consume(C),N):t(C)}function O(C){return C===45&&o===2?(n.consume(C),Be):C===60&&o===1?(n.consume(C),Pe):C===62&&o===4?(n.consume(C),F):C===63&&o===3?(n.consume(C),x):C===93&&o===5?(n.consume(C),pe):Ce(C)&&(o===6||o===7)?(n.exit("htmlFlowData"),n.check(GA,Y,S)(C)):C===null||Ce(C)?(n.exit("htmlFlowData"),S(C)):(n.consume(C),O)}function S(C){return n.check(QA,ue,Y)(C)}function ue(C){return n.enter("lineEnding"),n.consume(C),n.exit("lineEnding"),me}function me(C){return C===null||Ce(C)?S(C):(n.enter("htmlFlowData"),O(C))}function Be(C){return C===45?(n.consume(C),x):O(C)}function Pe(C){return C===47?(n.consume(C),u="",oe):O(C)}function oe(C){if(C===62){const Se=u.toLowerCase();return hv.includes(Se)?(n.consume(C),F):O(C)}return Tr(C)&&u.length<8?(n.consume(C),u+=String.fromCharCode(C),oe):O(C)}function pe(C){return C===93?(n.consume(C),x):O(C)}function x(C){return C===62?(n.consume(C),F):C===45&&o===2?(n.consume(C),x):O(C)}function F(C){return C===null||Ce(C)?(n.exit("htmlFlowData"),Y(C)):(n.consume(C),F)}function Y(C){return n.exit("htmlFlow"),e(C)}}function JA(n,e,t){const i=this;return o;function o(u){return Ce(u)?(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),a):t(u)}function a(u){return i.parser.lazy[i.now().line]?t(u):e(u)}}function ZA(n,e,t){return i;function i(o){return n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),n.attempt(Bc,e,t)}}const eC={name:"htmlText",tokenize:tC};function tC(n,e,t){const i=this;let o,a,u;return f;function f(x){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(x),d}function d(x){return x===33?(n.consume(x),m):x===47?(n.consume(x),ke):x===63?(n.consume(x),Z):Tr(x)?(n.consume(x),A):t(x)}function m(x){return x===45?(n.consume(x),v):x===91?(n.consume(x),a=0,U):Tr(x)?(n.consume(x),re):t(x)}function v(x){return x===45?(n.consume(x),I):t(x)}function w(x){return x===null?t(x):x===45?(n.consume(x),T):Ce(x)?(u=w,Pe(x)):(n.consume(x),w)}function T(x){return x===45?(n.consume(x),I):w(x)}function I(x){return x===62?Be(x):x===45?T(x):w(x)}function U(x){const F="CDATA[";return x===F.charCodeAt(a++)?(n.consume(x),a===F.length?M:U):t(x)}function M(x){return x===null?t(x):x===93?(n.consume(x),B):Ce(x)?(u=M,Pe(x)):(n.consume(x),M)}function B(x){return x===93?(n.consume(x),H):M(x)}function H(x){return x===62?Be(x):x===93?(n.consume(x),H):M(x)}function re(x){return x===null||x===62?Be(x):Ce(x)?(u=re,Pe(x)):(n.consume(x),re)}function Z(x){return x===null?t(x):x===63?(n.consume(x),he):Ce(x)?(u=Z,Pe(x)):(n.consume(x),Z)}function he(x){return x===62?Be(x):Z(x)}function ke(x){return Tr(x)?(n.consume(x),Q):t(x)}function Q(x){return x===45||Rn(x)?(n.consume(x),Q):b(x)}function b(x){return Ce(x)?(u=b,Pe(x)):Xe(x)?(n.consume(x),b):Be(x)}function A(x){return x===45||Rn(x)?(n.consume(x),A):x===47||x===62||_n(x)?P(x):t(x)}function P(x){return x===47?(n.consume(x),Be):x===58||x===95||Tr(x)?(n.consume(x),D):Ce(x)?(u=P,Pe(x)):Xe(x)?(n.consume(x),P):Be(x)}function D(x){return x===45||x===46||x===58||x===95||Rn(x)?(n.consume(x),D):N(x)}function N(x){return x===61?(n.consume(x),O):Ce(x)?(u=N,Pe(x)):Xe(x)?(n.consume(x),N):P(x)}function O(x){return x===null||x===60||x===61||x===62||x===96?t(x):x===34||x===39?(n.consume(x),o=x,S):Ce(x)?(u=O,Pe(x)):Xe(x)?(n.consume(x),O):(n.consume(x),ue)}function S(x){return x===o?(n.consume(x),o=void 0,me):x===null?t(x):Ce(x)?(u=S,Pe(x)):(n.consume(x),S)}function ue(x){return x===null||x===34||x===39||x===60||x===61||x===96?t(x):x===47||x===62||_n(x)?P(x):(n.consume(x),ue)}function me(x){return x===47||x===62||_n(x)?P(x):t(x)}function Be(x){return x===62?(n.consume(x),n.exit("htmlTextData"),n.exit("htmlText"),e):t(x)}function Pe(x){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(x),n.exit("lineEnding"),oe}function oe(x){return Xe(x)?st(n,pe,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x):pe(x)}function pe(x){return n.enter("htmlTextData"),u(x)}}const Tp={name:"labelEnd",resolveAll:sC,resolveTo:oC,tokenize:aC},nC={tokenize:lC},rC={tokenize:uC},iC={tokenize:cC};function sC(n){let e=-1;const t=[];for(;++e<n.length;){const i=n[e][1];if(t.push(n[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const o=i.type==="labelImage"?4:2;i.type="data",e+=o}}return n.length!==t.length&&Rr(n,0,n.length,t),n}function oC(n,e){let t=n.length,i=0,o,a,u,f;for(;t--;)if(o=n[t][1],a){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;n[t][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(u){if(n[t][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(a=t,o.type!=="labelLink")){i=2;break}}else o.type==="labelEnd"&&(u=t);const d={type:n[a][1].type==="labelLink"?"link":"image",start:{...n[a][1].start},end:{...n[n.length-1][1].end}},m={type:"label",start:{...n[a][1].start},end:{...n[u][1].end}},v={type:"labelText",start:{...n[a+i+2][1].end},end:{...n[u-2][1].start}};return f=[["enter",d,e],["enter",m,e]],f=Hn(f,n.slice(a+1,a+i+3)),f=Hn(f,[["enter",v,e]]),f=Hn(f,Ep(e.parser.constructs.insideSpan.null,n.slice(a+i+4,u-3),e)),f=Hn(f,[["exit",v,e],n[u-2],n[u-1],["exit",m,e]]),f=Hn(f,n.slice(u+1)),f=Hn(f,[["exit",d,e]]),Rr(n,a,n.length,f),n}function aC(n,e,t){const i=this;let o=i.events.length,a,u;for(;o--;)if((i.events[o][1].type==="labelImage"||i.events[o][1].type==="labelLink")&&!i.events[o][1]._balanced){a=i.events[o][1];break}return f;function f(T){return a?a._inactive?w(T):(u=i.parser.defined.includes(bo(i.sliceSerialize({start:a.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(T),n.exit("labelMarker"),n.exit("labelEnd"),d):t(T)}function d(T){return T===40?n.attempt(nC,v,u?v:w)(T):T===91?n.attempt(rC,v,u?m:w)(T):u?v(T):w(T)}function m(T){return n.attempt(iC,v,w)(T)}function v(T){return e(T)}function w(T){return a._balanced=!0,t(T)}}function lC(n,e,t){return i;function i(w){return n.enter("resource"),n.enter("resourceMarker"),n.consume(w),n.exit("resourceMarker"),o}function o(w){return _n(w)?tl(n,a)(w):a(w)}function a(w){return w===41?v(w):J0(n,u,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(w)}function u(w){return _n(w)?tl(n,d)(w):v(w)}function f(w){return t(w)}function d(w){return w===34||w===39||w===40?ew(n,m,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(w):v(w)}function m(w){return _n(w)?tl(n,v)(w):v(w)}function v(w){return w===41?(n.enter("resourceMarker"),n.consume(w),n.exit("resourceMarker"),n.exit("resource"),e):t(w)}}function uC(n,e,t){const i=this;return o;function o(f){return Z0.call(i,n,a,u,"reference","referenceMarker","referenceString")(f)}function a(f){return i.parser.defined.includes(bo(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(f):t(f)}function u(f){return t(f)}}function cC(n,e,t){return i;function i(a){return n.enter("reference"),n.enter("referenceMarker"),n.consume(a),n.exit("referenceMarker"),o}function o(a){return a===93?(n.enter("referenceMarker"),n.consume(a),n.exit("referenceMarker"),n.exit("reference"),e):t(a)}}const hC={name:"labelStartImage",resolveAll:Tp.resolveAll,tokenize:fC};function fC(n,e,t){const i=this;return o;function o(f){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(f),n.exit("labelImageMarker"),a}function a(f){return f===91?(n.enter("labelMarker"),n.consume(f),n.exit("labelMarker"),n.exit("labelImage"),u):t(f)}function u(f){return f===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(f):e(f)}}const dC={name:"labelStartLink",resolveAll:Tp.resolveAll,tokenize:pC};function pC(n,e,t){const i=this;return o;function o(u){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(u),n.exit("labelMarker"),n.exit("labelLink"),a}function a(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(u):e(u)}}const zf={name:"lineEnding",tokenize:mC};function mC(n,e){return t;function t(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),st(n,e,"linePrefix")}}const rc={name:"thematicBreak",tokenize:gC};function gC(n,e,t){let i=0,o;return a;function a(m){return n.enter("thematicBreak"),u(m)}function u(m){return o=m,f(m)}function f(m){return m===o?(n.enter("thematicBreakSequence"),d(m)):i>=3&&(m===null||Ce(m))?(n.exit("thematicBreak"),e(m)):t(m)}function d(m){return m===o?(n.consume(m),i++,d):(n.exit("thematicBreakSequence"),Xe(m)?st(n,f,"whitespace")(m):f(m))}}const yn={continuation:{tokenize:wC},exit:TC,name:"list",tokenize:_C},yC={partial:!0,tokenize:IC},vC={partial:!0,tokenize:EC};function _C(n,e,t){const i=this,o=i.events[i.events.length-1];let a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,u=0;return f;function f(I){const U=i.containerState.type||(I===42||I===43||I===45?"listUnordered":"listOrdered");if(U==="listUnordered"?!i.containerState.marker||I===i.containerState.marker:Id(I)){if(i.containerState.type||(i.containerState.type=U,n.enter(U,{_container:!0})),U==="listUnordered")return n.enter("listItemPrefix"),I===42||I===45?n.check(rc,t,m)(I):m(I);if(!i.interrupt||I===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),d(I)}return t(I)}function d(I){return Id(I)&&++u<10?(n.consume(I),d):(!i.interrupt||u<2)&&(i.containerState.marker?I===i.containerState.marker:I===41||I===46)?(n.exit("listItemValue"),m(I)):t(I)}function m(I){return n.enter("listItemMarker"),n.consume(I),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||I,n.check(Bc,i.interrupt?t:v,n.attempt(yC,T,w))}function v(I){return i.containerState.initialBlankLine=!0,a++,T(I)}function w(I){return Xe(I)?(n.enter("listItemPrefixWhitespace"),n.consume(I),n.exit("listItemPrefixWhitespace"),T):t(I)}function T(I){return i.containerState.size=a+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(I)}}function wC(n,e,t){const i=this;return i.containerState._closeFlow=void 0,n.check(Bc,o,a);function o(f){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,st(n,e,"listItemIndent",i.containerState.size+1)(f)}function a(f){return i.containerState.furtherBlankLines||!Xe(f)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(f)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(vC,e,u)(f))}function u(f){return i.containerState._closeFlow=!0,i.interrupt=void 0,st(n,n.attempt(yn,e,t),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function EC(n,e,t){const i=this;return st(n,o,"listItemIndent",i.containerState.size+1);function o(a){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?e(a):t(a)}}function TC(n){n.exit(this.containerState.type)}function IC(n,e,t){const i=this;return st(n,o,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(a){const u=i.events[i.events.length-1];return!Xe(a)&&u&&u[1].type==="listItemPrefixWhitespace"?e(a):t(a)}}const fv={name:"setextUnderline",resolveTo:kC,tokenize:SC};function kC(n,e){let t=n.length,i,o,a;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){i=t;break}n[t][1].type==="paragraph"&&(o=t)}else n[t][1].type==="content"&&n.splice(t,1),!a&&n[t][1].type==="definition"&&(a=t);const u={type:"setextHeading",start:{...n[i][1].start},end:{...n[n.length-1][1].end}};return n[o][1].type="setextHeadingText",a?(n.splice(o,0,["enter",u,e]),n.splice(a+1,0,["exit",n[i][1],e]),n[i][1].end={...n[a][1].end}):n[i][1]=u,n.push(["exit",u,e]),n}function SC(n,e,t){const i=this;let o;return a;function a(m){let v=i.events.length,w;for(;v--;)if(i.events[v][1].type!=="lineEnding"&&i.events[v][1].type!=="linePrefix"&&i.events[v][1].type!=="content"){w=i.events[v][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||w)?(n.enter("setextHeadingLine"),o=m,u(m)):t(m)}function u(m){return n.enter("setextHeadingLineSequence"),f(m)}function f(m){return m===o?(n.consume(m),f):(n.exit("setextHeadingLineSequence"),Xe(m)?st(n,d,"lineSuffix")(m):d(m))}function d(m){return m===null||Ce(m)?(n.exit("setextHeadingLine"),e(m)):t(m)}}const xC={tokenize:AC};function AC(n){const e=this,t=n.attempt(Bc,i,n.attempt(this.parser.constructs.flowInitial,o,st(n,n.attempt(this.parser.constructs.flow,o,n.attempt(bA,o)),"linePrefix")));return t;function i(a){if(a===null){n.consume(a);return}return n.enter("lineEndingBlank"),n.consume(a),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function o(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const CC={resolveAll:nw()},PC=tw("string"),RC=tw("text");function tw(n){return{resolveAll:nw(n==="text"?NC:void 0),tokenize:e};function e(t){const i=this,o=this.parser.constructs[n],a=t.attempt(o,u,f);return u;function u(v){return m(v)?a(v):f(v)}function f(v){if(v===null){t.consume(v);return}return t.enter("data"),t.consume(v),d}function d(v){return m(v)?(t.exit("data"),a(v)):(t.consume(v),d)}function m(v){if(v===null)return!0;const w=o[v];let T=-1;if(w)for(;++T<w.length;){const I=w[T];if(!I.previous||I.previous.call(i,i.previous))return!0}return!1}}}function nw(n){return e;function e(t,i){let o=-1,a;for(;++o<=t.length;)a===void 0?t[o]&&t[o][1].type==="data"&&(a=o,o++):(!t[o]||t[o][1].type!=="data")&&(o!==a+2&&(t[a][1].end=t[o-1][1].end,t.splice(a+2,o-a-2),o=a+2),a=void 0);return n?n(t,i):t}}function NC(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const i=n[t-1][1],o=e.sliceStream(i);let a=o.length,u=-1,f=0,d;for(;a--;){const m=o[a];if(typeof m=="string"){for(u=m.length;m.charCodeAt(u-1)===32;)f++,u--;if(u)break;u=-1}else if(m===-2)d=!0,f++;else if(m!==-1){a++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(f=0),f){const m={type:t===n.length||d||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?u:i.start._bufferIndex+u,_index:i.start._index+a,line:i.end.line,column:i.end.column-f,offset:i.end.offset-f},end:{...i.end}};i.end={...m.start},i.start.offset===i.end.offset?Object.assign(i,m):(n.splice(t,0,["enter",m,e],["exit",m,e]),t+=2)}t++}return n}const bC={42:yn,43:yn,45:yn,48:yn,49:yn,50:yn,51:yn,52:yn,53:yn,54:yn,55:yn,56:yn,57:yn,62:G0},DC={91:MA},OC={[-2]:Uf,[-1]:Uf,32:Uf},LC={35:$A,42:rc,45:[fv,rc],60:KA,61:fv,95:rc,96:cv,126:cv},VC={38:Y0,92:Q0},MC={[-5]:zf,[-4]:zf,[-3]:zf,33:hC,38:Y0,42:kd,60:[dA,eC],91:dC,92:[jA,Q0],93:Tp,95:kd,96:xA},FC={null:[kd,CC]},UC={null:[42,95]},zC={null:[]},jC=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:UC,contentInitial:DC,disable:zC,document:bC,flow:LC,flowInitial:OC,insideSpan:FC,string:VC,text:MC},Symbol.toStringTag,{value:"Module"}));function BC(n,e,t){let i={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const o={},a=[];let u=[],f=[];const d={attempt:b(ke),check:b(Q),consume:re,enter:Z,exit:he,interrupt:b(Q,{interrupt:!0})},m={code:null,containerState:{},defineSkip:M,events:[],now:U,parser:n,previous:null,sliceSerialize:T,sliceStream:I,write:w};let v=e.tokenize.call(m,d);return e.resolveAll&&a.push(e),m;function w(N){return u=Hn(u,N),B(),u[u.length-1]!==null?[]:(A(e,0),m.events=Ep(a,m.events,m),m.events)}function T(N,O){return HC(I(N),O)}function I(N){return $C(u,N)}function U(){const{_bufferIndex:N,_index:O,line:S,column:ue,offset:me}=i;return{_bufferIndex:N,_index:O,line:S,column:ue,offset:me}}function M(N){o[N.line]=N.column,D()}function B(){let N;for(;i._index<u.length;){const O=u[i._index];if(typeof O=="string")for(N=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===N&&i._bufferIndex<O.length;)H(O.charCodeAt(i._bufferIndex));else H(O)}}function H(N){v=v(N)}function re(N){Ce(N)?(i.line++,i.column=1,i.offset+=N===-3?2:1,D()):N!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),m.previous=N}function Z(N,O){const S=O||{};return S.type=N,S.start=U(),m.events.push(["enter",S,m]),f.push(S),S}function he(N){const O=f.pop();return O.end=U(),m.events.push(["exit",O,m]),O}function ke(N,O){A(N,O.from)}function Q(N,O){O.restore()}function b(N,O){return S;function S(ue,me,Be){let Pe,oe,pe,x;return Array.isArray(ue)?Y(ue):"tokenize"in ue?Y([ue]):F(ue);function F(we){return Ue;function Ue(Me){const Ke=Me!==null&&we[Me],ot=Me!==null&&we.null,ln=[...Array.isArray(Ke)?Ke:Ke?[Ke]:[],...Array.isArray(ot)?ot:ot?[ot]:[]];return Y(ln)(Me)}}function Y(we){return Pe=we,oe=0,we.length===0?Be:C(we[oe])}function C(we){return Ue;function Ue(Me){return x=P(),pe=we,we.partial||(m.currentConstruct=we),we.name&&m.parser.constructs.disable.null.includes(we.name)?Re():we.tokenize.call(O?Object.assign(Object.create(m),O):m,d,Se,Re)(Me)}}function Se(we){return N(pe,x),me}function Re(we){return x.restore(),++oe<Pe.length?C(Pe[oe]):Be}}}function A(N,O){N.resolveAll&&!a.includes(N)&&a.push(N),N.resolve&&Rr(m.events,O,m.events.length-O,N.resolve(m.events.slice(O),m)),N.resolveTo&&(m.events=N.resolveTo(m.events,m))}function P(){const N=U(),O=m.previous,S=m.currentConstruct,ue=m.events.length,me=Array.from(f);return{from:ue,restore:Be};function Be(){i=N,m.previous=O,m.currentConstruct=S,m.events.length=ue,f=me,D()}}function D(){i.line in o&&i.column<2&&(i.column=o[i.line],i.offset+=o[i.line]-1)}}function $C(n,e){const t=e.start._index,i=e.start._bufferIndex,o=e.end._index,a=e.end._bufferIndex;let u;if(t===o)u=[n[t].slice(i,a)];else{if(u=n.slice(t,o),i>-1){const f=u[0];typeof f=="string"?u[0]=f.slice(i):u.shift()}a>0&&u.push(n[o].slice(0,a))}return u}function HC(n,e){let t=-1;const i=[];let o;for(;++t<n.length;){const a=n[t];let u;if(typeof a=="string")u=a;else switch(a){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&o)continue;u=" ";break}default:u=String.fromCharCode(a)}o=a===-2,i.push(u)}return i.join("")}function qC(n){const i={constructs:Jx([jC,...(n||{}).extensions||[]]),content:o(oA),defined:[],document:o(lA),flow:o(xC),lazy:{},string:o(PC),text:o(RC)};return i;function o(a){return u;function u(f){return BC(i,a,f)}}}function WC(n){for(;!X0(n););return n}const dv=/[\0\t\n\r]/g;function KC(){let n=1,e="",t=!0,i;return o;function o(a,u,f){const d=[];let m,v,w,T,I;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(u||void 0).decode(a)),w=0,e="",t&&(a.charCodeAt(0)===65279&&w++,t=void 0);w<a.length;){if(dv.lastIndex=w,m=dv.exec(a),T=m&&m.index!==void 0?m.index:a.length,I=a.charCodeAt(T),!m){e=a.slice(w);break}if(I===10&&w===T&&i)d.push(-3),i=void 0;else switch(i&&(d.push(-5),i=void 0),w<T&&(d.push(a.slice(w,T)),n+=T-w),I){case 0:{d.push(65533),n++;break}case 9:{for(v=Math.ceil(n/4)*4,d.push(-2);n++<v;)d.push(-1);break}case 10:{d.push(-4),n=1;break}default:i=!0,n=1}w=T+1}return f&&(i&&d.push(-5),e&&d.push(e),d.push(null)),d}}const GC=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function QC(n){return n.replace(GC,YC)}function YC(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const o=t.charCodeAt(1),a=o===120||o===88;return K0(t.slice(a?2:1),a?16:10)}return wp(t)||n}const rw={}.hasOwnProperty;function XC(n,e,t){return typeof e!="string"&&(t=e,e=void 0),JC(t)(WC(qC(t).document().write(KC()(n,e,!0))))}function JC(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Dr),autolinkProtocol:P,autolinkEmail:P,atxHeading:a(br),blockQuote:a(ot),characterEscape:P,characterReference:P,codeFenced:a(ln),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:a(ln,u),codeText:a(ii,u),codeTextData:P,data:P,codeFlowValue:P,definition:a(ur),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:a(Nr),hardBreakEscape:a(si),hardBreakTrailing:a(si),htmlFlow:a(oi,u),htmlFlowData:P,htmlText:a(oi,u),htmlTextData:P,image:a(Ls),label:u,link:a(Dr),listItem:a(qn),listItemValue:T,listOrdered:a(bn,w),listUnordered:a(bn),paragraph:a(Yi),reference:C,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:a(br),strong:a(ai),thematicBreak:a(Xi)},exit:{atxHeading:d(),atxHeadingSequence:ke,autolink:d(),autolinkEmail:Ke,autolinkProtocol:Me,blockQuote:d(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:Re,characterReferenceMarkerNumeric:Re,characterReferenceValue:we,characterReference:Ue,codeFenced:d(B),codeFencedFence:M,codeFencedFenceInfo:I,codeFencedFenceMeta:U,codeFlowValue:D,codeIndented:d(H),codeText:d(me),codeTextData:D,data:D,definition:d(),definitionDestinationString:he,definitionLabelString:re,definitionTitleString:Z,emphasis:d(),hardBreakEscape:d(O),hardBreakTrailing:d(O),htmlFlow:d(S),htmlFlowData:D,htmlText:d(ue),htmlTextData:D,image:d(Pe),label:pe,labelText:oe,lineEnding:N,link:d(Be),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:Se,resourceDestinationString:x,resourceTitleString:F,resource:Y,setextHeading:d(A),setextHeadingLineSequence:b,setextHeadingText:Q,strong:d(),thematicBreak:d()}};iw(e,(n||{}).mdastExtensions||[]);const t={};return i;function i(K){let ee={type:"root",children:[]};const _e={stack:[ee],tokenStack:[],config:e,enter:f,exit:m,buffer:u,resume:v,data:t},Le=[];let ze=-1;for(;++ze<K.length;)if(K[ze][1].type==="listOrdered"||K[ze][1].type==="listUnordered")if(K[ze][0]==="enter")Le.push(ze);else{const It=Le.pop();ze=o(K,It,ze)}for(ze=-1;++ze<K.length;){const It=e[K[ze][0]];rw.call(It,K[ze][1].type)&&It[K[ze][1].type].call(Object.assign({sliceSerialize:K[ze][2].sliceSerialize},_e),K[ze][1])}if(_e.tokenStack.length>0){const It=_e.tokenStack[_e.tokenStack.length-1];(It[1]||pv).call(_e,void 0,It[0])}for(ee.position={start:bi(K.length>0?K[0][1].start:{line:1,column:1,offset:0}),end:bi(K.length>0?K[K.length-2][1].end:{line:1,column:1,offset:0})},ze=-1;++ze<e.transforms.length;)ee=e.transforms[ze](ee)||ee;return ee}function o(K,ee,_e){let Le=ee-1,ze=-1,It=!1,en,tn,Wn,Kn;for(;++Le<=_e;){const kt=K[Le];switch(kt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{kt[0]==="enter"?ze++:ze--,Kn=void 0;break}case"lineEndingBlank":{kt[0]==="enter"&&(en&&!Kn&&!ze&&!Wn&&(Wn=Le),Kn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Kn=void 0}if(!ze&&kt[0]==="enter"&&kt[1].type==="listItemPrefix"||ze===-1&&kt[0]==="exit"&&(kt[1].type==="listUnordered"||kt[1].type==="listOrdered")){if(en){let Dn=Le;for(tn=void 0;Dn--;){const Lt=K[Dn];if(Lt[1].type==="lineEnding"||Lt[1].type==="lineEndingBlank"){if(Lt[0]==="exit")continue;tn&&(K[tn][1].type="lineEndingBlank",It=!0),Lt[1].type="lineEnding",tn=Dn}else if(!(Lt[1].type==="linePrefix"||Lt[1].type==="blockQuotePrefix"||Lt[1].type==="blockQuotePrefixWhitespace"||Lt[1].type==="blockQuoteMarker"||Lt[1].type==="listItemIndent"))break}Wn&&(!tn||Wn<tn)&&(en._spread=!0),en.end=Object.assign({},tn?K[tn][1].start:kt[1].end),K.splice(tn||Le,0,["exit",en,kt[2]]),Le++,_e++}if(kt[1].type==="listItemPrefix"){const Dn={type:"listItem",_spread:!1,start:Object.assign({},kt[1].start),end:void 0};en=Dn,K.splice(Le,0,["enter",Dn,kt[2]]),Le++,_e++,Wn=void 0,Kn=!0}}}return K[ee][1]._spread=It,_e}function a(K,ee){return _e;function _e(Le){f.call(this,K(Le),Le),ee&&ee.call(this,Le)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(K,ee,_e){this.stack[this.stack.length-1].children.push(K),this.stack.push(K),this.tokenStack.push([ee,_e||void 0]),K.position={start:bi(ee.start),end:void 0}}function d(K){return ee;function ee(_e){K&&K.call(this,_e),m.call(this,_e)}}function m(K,ee){const _e=this.stack.pop(),Le=this.tokenStack.pop();if(Le)Le[0].type!==K.type&&(ee?ee.call(this,K,Le[0]):(Le[1]||pv).call(this,K,Le[0]));else throw new Error("Cannot close `"+K.type+"` ("+el({start:K.start,end:K.end})+"): its not open");_e.position.end=bi(K.end)}function v(){return Yx(this.stack.pop())}function w(){this.data.expectingFirstListItemValue=!0}function T(K){if(this.data.expectingFirstListItemValue){const ee=this.stack[this.stack.length-2];ee.start=Number.parseInt(this.sliceSerialize(K),10),this.data.expectingFirstListItemValue=void 0}}function I(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.lang=K}function U(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.meta=K}function M(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function B(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.value=K.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function H(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.value=K.replace(/(\r?\n|\r)$/g,"")}function re(K){const ee=this.resume(),_e=this.stack[this.stack.length-1];_e.label=ee,_e.identifier=bo(this.sliceSerialize(K)).toLowerCase()}function Z(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.title=K}function he(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.url=K}function ke(K){const ee=this.stack[this.stack.length-1];if(!ee.depth){const _e=this.sliceSerialize(K).length;ee.depth=_e}}function Q(){this.data.setextHeadingSlurpLineEnding=!0}function b(K){const ee=this.stack[this.stack.length-1];ee.depth=this.sliceSerialize(K).codePointAt(0)===61?1:2}function A(){this.data.setextHeadingSlurpLineEnding=void 0}function P(K){const _e=this.stack[this.stack.length-1].children;let Le=_e[_e.length-1];(!Le||Le.type!=="text")&&(Le=li(),Le.position={start:bi(K.start),end:void 0},_e.push(Le)),this.stack.push(Le)}function D(K){const ee=this.stack.pop();ee.value+=this.sliceSerialize(K),ee.position.end=bi(K.end)}function N(K){const ee=this.stack[this.stack.length-1];if(this.data.atHardBreak){const _e=ee.children[ee.children.length-1];_e.position.end=bi(K.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ee.type)&&(P.call(this,K),D.call(this,K))}function O(){this.data.atHardBreak=!0}function S(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.value=K}function ue(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.value=K}function me(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.value=K}function Be(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=ee,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function Pe(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=ee,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function oe(K){const ee=this.sliceSerialize(K),_e=this.stack[this.stack.length-2];_e.label=QC(ee),_e.identifier=bo(ee).toLowerCase()}function pe(){const K=this.stack[this.stack.length-1],ee=this.resume(),_e=this.stack[this.stack.length-1];if(this.data.inReference=!0,_e.type==="link"){const Le=K.children;_e.children=Le}else _e.alt=ee}function x(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.url=K}function F(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.title=K}function Y(){this.data.inReference=void 0}function C(){this.data.referenceType="collapsed"}function Se(K){const ee=this.resume(),_e=this.stack[this.stack.length-1];_e.label=ee,_e.identifier=bo(this.sliceSerialize(K)).toLowerCase(),this.data.referenceType="full"}function Re(K){this.data.characterReferenceType=K.type}function we(K){const ee=this.sliceSerialize(K),_e=this.data.characterReferenceType;let Le;_e?(Le=K0(ee,_e==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Le=wp(ee);const ze=this.stack[this.stack.length-1];ze.value+=Le}function Ue(K){const ee=this.stack.pop();ee.position.end=bi(K.end)}function Me(K){D.call(this,K);const ee=this.stack[this.stack.length-1];ee.url=this.sliceSerialize(K)}function Ke(K){D.call(this,K);const ee=this.stack[this.stack.length-1];ee.url="mailto:"+this.sliceSerialize(K)}function ot(){return{type:"blockquote",children:[]}}function ln(){return{type:"code",lang:null,meta:null,value:""}}function ii(){return{type:"inlineCode",value:""}}function ur(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Nr(){return{type:"emphasis",children:[]}}function br(){return{type:"heading",depth:0,children:[]}}function si(){return{type:"break"}}function oi(){return{type:"html",value:""}}function Ls(){return{type:"image",title:null,url:"",alt:null}}function Dr(){return{type:"link",title:null,url:"",children:[]}}function bn(K){return{type:"list",ordered:K.type==="listOrdered",start:null,spread:K._spread,children:[]}}function qn(K){return{type:"listItem",spread:K._spread,checked:null,children:[]}}function Yi(){return{type:"paragraph",children:[]}}function ai(){return{type:"strong",children:[]}}function li(){return{type:"text",value:""}}function Xi(){return{type:"thematicBreak"}}}function bi(n){return{line:n.line,column:n.column,offset:n.offset}}function iw(n,e){let t=-1;for(;++t<e.length;){const i=e[t];Array.isArray(i)?iw(n,i):ZC(n,i)}}function ZC(n,e){let t;for(t in e)if(rw.call(e,t))switch(t){case"canContainEols":{const i=e[t];i&&n[t].push(...i);break}case"transforms":{const i=e[t];i&&n[t].push(...i);break}case"enter":case"exit":{const i=e[t];i&&Object.assign(n[t],i);break}}}function pv(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+el({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+el({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+el({start:e.start,end:e.end})+") is still open")}function eP(n){const e=this;e.parser=t;function t(i){return XC(i,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function tP(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function nP(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function rP(n,e){const t=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let o={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return e.meta&&(o.data={meta:e.meta}),n.patch(e,o),o=n.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},n.patch(e,o),o}function iP(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function sP(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function oP(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),o=Zo(i.toLowerCase()),a=n.footnoteOrder.indexOf(i);let u,f=n.footnoteCounts.get(i);f===void 0?(f=0,n.footnoteOrder.push(i),u=n.footnoteOrder.length):u=a+1,f+=1,n.footnoteCounts.set(i,f);const d={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+o,id:t+"fnref-"+o+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};n.patch(e,d);const m={type:"element",tagName:"sup",properties:{},children:[d]};return n.patch(e,m),n.applyData(e,m)}function aP(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function lP(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function sw(n,e){const t=e.referenceType;let i="]";if(t==="collapsed"?i+="[]":t==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const o=n.all(e),a=o[0];a&&a.type==="text"?a.value="["+a.value:o.unshift({type:"text",value:"["});const u=o[o.length-1];return u&&u.type==="text"?u.value+=i:o.push({type:"text",value:i}),o}function uP(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return sw(n,e);const o={src:Zo(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(o.title=i.title);const a={type:"element",tagName:"img",properties:o,children:[]};return n.patch(e,a),n.applyData(e,a)}function cP(n,e){const t={src:Zo(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,i),n.applyData(e,i)}function hP(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const i={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,i),n.applyData(e,i)}function fP(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return sw(n,e);const o={href:Zo(i.url||"")};i.title!==null&&i.title!==void 0&&(o.title=i.title);const a={type:"element",tagName:"a",properties:o,children:n.all(e)};return n.patch(e,a),n.applyData(e,a)}function dP(n,e){const t={href:Zo(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function pP(n,e,t){const i=n.all(e),o=t?mP(t):ow(e),a={},u=[];if(typeof e.checked=="boolean"){const v=i[0];let w;v&&v.type==="element"&&v.tagName==="p"?w=v:(w={type:"element",tagName:"p",properties:{},children:[]},i.unshift(w)),w.children.length>0&&w.children.unshift({type:"text",value:" "}),w.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let f=-1;for(;++f<i.length;){const v=i[f];(o||f!==0||v.type!=="element"||v.tagName!=="p")&&u.push({type:"text",value:`
`}),v.type==="element"&&v.tagName==="p"&&!o?u.push(...v.children):u.push(v)}const d=i[i.length-1];d&&(o||d.type!=="element"||d.tagName!=="p")&&u.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:a,children:u};return n.patch(e,m),n.applyData(e,m)}function mP(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let i=-1;for(;!e&&++i<t.length;)e=ow(t[i])}return e}function ow(n){const e=n.spread;return e??n.children.length>1}function gP(n,e){const t={},i=n.all(e);let o=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++o<i.length;){const u=i[o];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(i,!0)};return n.patch(e,a),n.applyData(e,a)}function yP(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function vP(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function _P(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function wP(n,e){const t=n.all(e),i=t.shift(),o=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(e.children[0],u),o.push(u)}if(t.length>0){const u={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},f=gp(e.children[1]),d=z0(e.children[e.children.length-1]);f&&d&&(u.position={start:f,end:d}),o.push(u)}const a={type:"element",tagName:"table",properties:{},children:n.wrap(o,!0)};return n.patch(e,a),n.applyData(e,a)}function EP(n,e,t){const i=t?t.children:void 0,a=(i?i.indexOf(e):1)===0?"th":"td",u=t&&t.type==="table"?t.align:void 0,f=u?u.length:e.children.length;let d=-1;const m=[];for(;++d<f;){const w=e.children[d],T={},I=u?u[d]:void 0;I&&(T.align=I);let U={type:"element",tagName:a,properties:T,children:[]};w&&(U.children=n.all(w),n.patch(w,U),U=n.applyData(w,U)),m.push(U)}const v={type:"element",tagName:"tr",properties:{},children:n.wrap(m,!0)};return n.patch(e,v),n.applyData(e,v)}function TP(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const mv=9,gv=32;function IP(n){const e=String(n),t=/\r?\n|\r/g;let i=t.exec(e),o=0;const a=[];for(;i;)a.push(yv(e.slice(o,i.index),o>0,!0),i[0]),o=i.index+i[0].length,i=t.exec(e);return a.push(yv(e.slice(o),o>0,!1)),a.join("")}function yv(n,e,t){let i=0,o=n.length;if(e){let a=n.codePointAt(i);for(;a===mv||a===gv;)i++,a=n.codePointAt(i)}if(t){let a=n.codePointAt(o-1);for(;a===mv||a===gv;)o--,a=n.codePointAt(o-1)}return o>i?n.slice(i,o):""}function kP(n,e){const t={type:"text",value:IP(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function SP(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const xP={blockquote:tP,break:nP,code:rP,delete:iP,emphasis:sP,footnoteReference:oP,heading:aP,html:lP,imageReference:uP,image:cP,inlineCode:hP,linkReference:fP,link:dP,listItem:pP,list:gP,paragraph:yP,root:vP,strong:_P,table:wP,tableCell:TP,tableRow:EP,text:kP,thematicBreak:SP,toml:Ku,yaml:Ku,definition:Ku,footnoteDefinition:Ku};function Ku(){}const aw=-1,$c=0,nl=1,_c=2,Ip=3,kp=4,Sp=5,xp=6,lw=7,uw=8,vv=typeof self=="object"?self:globalThis,AP=(n,e)=>{const t=(o,a)=>(n.set(a,o),o),i=o=>{if(n.has(o))return n.get(o);const[a,u]=e[o];switch(a){case $c:case aw:return t(u,o);case nl:{const f=t([],o);for(const d of u)f.push(i(d));return f}case _c:{const f=t({},o);for(const[d,m]of u)f[i(d)]=i(m);return f}case Ip:return t(new Date(u),o);case kp:{const{source:f,flags:d}=u;return t(new RegExp(f,d),o)}case Sp:{const f=t(new Map,o);for(const[d,m]of u)f.set(i(d),i(m));return f}case xp:{const f=t(new Set,o);for(const d of u)f.add(i(d));return f}case lw:{const{name:f,message:d}=u;return t(new vv[f](d),o)}case uw:return t(BigInt(u),o);case"BigInt":return t(Object(BigInt(u)),o);case"ArrayBuffer":return t(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:f}=new Uint8Array(u);return t(new DataView(f),u)}}return t(new vv[a](u),o)};return i},_v=n=>AP(new Map,n)(0),So="",{toString:CP}={},{keys:PP}=Object,Ha=n=>{const e=typeof n;if(e!=="object"||!n)return[$c,e];const t=CP.call(n).slice(8,-1);switch(t){case"Array":return[nl,So];case"Object":return[_c,So];case"Date":return[Ip,So];case"RegExp":return[kp,So];case"Map":return[Sp,So];case"Set":return[xp,So];case"DataView":return[nl,t]}return t.includes("Array")?[nl,t]:t.includes("Error")?[lw,t]:[_c,t]},Gu=([n,e])=>n===$c&&(e==="function"||e==="symbol"),RP=(n,e,t,i)=>{const o=(u,f)=>{const d=i.push(u)-1;return t.set(f,d),d},a=u=>{if(t.has(u))return t.get(u);let[f,d]=Ha(u);switch(f){case $c:{let v=u;switch(d){case"bigint":f=uw,v=u.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+d);v=null;break;case"undefined":return o([aw],u)}return o([f,v],u)}case nl:{if(d){let T=u;return d==="DataView"?T=new Uint8Array(u.buffer):d==="ArrayBuffer"&&(T=new Uint8Array(u)),o([d,[...T]],u)}const v=[],w=o([f,v],u);for(const T of u)v.push(a(T));return w}case _c:{if(d)switch(d){case"BigInt":return o([d,u.toString()],u);case"Boolean":case"Number":case"String":return o([d,u.valueOf()],u)}if(e&&"toJSON"in u)return a(u.toJSON());const v=[],w=o([f,v],u);for(const T of PP(u))(n||!Gu(Ha(u[T])))&&v.push([a(T),a(u[T])]);return w}case Ip:return o([f,u.toISOString()],u);case kp:{const{source:v,flags:w}=u;return o([f,{source:v,flags:w}],u)}case Sp:{const v=[],w=o([f,v],u);for(const[T,I]of u)(n||!(Gu(Ha(T))||Gu(Ha(I))))&&v.push([a(T),a(I)]);return w}case xp:{const v=[],w=o([f,v],u);for(const T of u)(n||!Gu(Ha(T)))&&v.push(a(T));return w}}const{message:m}=u;return o([f,{name:d,message:m}],u)};return a},wv=(n,{json:e,lossy:t}={})=>{const i=[];return RP(!(e||t),!!e,new Map,i)(n),i},wc=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?_v(wv(n,e)):structuredClone(n):(n,e)=>_v(wv(n,e));function NP(n,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function bP(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function DP(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||NP,i=n.options.footnoteBackLabel||bP,o=n.options.footnoteLabel||"Footnotes",a=n.options.footnoteLabelTagName||"h2",u=n.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let d=-1;for(;++d<n.footnoteOrder.length;){const m=n.footnoteById.get(n.footnoteOrder[d]);if(!m)continue;const v=n.all(m),w=String(m.identifier).toUpperCase(),T=Zo(w.toLowerCase());let I=0;const U=[],M=n.footnoteCounts.get(w);for(;M!==void 0&&++I<=M;){U.length>0&&U.push({type:"text",value:" "});let re=typeof t=="string"?t:t(d,I);typeof re=="string"&&(re={type:"text",value:re}),U.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+T+(I>1?"-"+I:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(d,I),className:["data-footnote-backref"]},children:Array.isArray(re)?re:[re]})}const B=v[v.length-1];if(B&&B.type==="element"&&B.tagName==="p"){const re=B.children[B.children.length-1];re&&re.type==="text"?re.value+=" ":B.children.push({type:"text",value:" "}),B.children.push(...U)}else v.push(...U);const H={type:"element",tagName:"li",properties:{id:e+"fn-"+T},children:n.wrap(v,!0)};n.patch(m,H),f.push(H)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...wc(u),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(f,!0)},{type:"text",value:`
`}]}}const cw=function(n){if(n==null)return MP;if(typeof n=="function")return Hc(n);if(typeof n=="object")return Array.isArray(n)?OP(n):LP(n);if(typeof n=="string")return VP(n);throw new Error("Expected function, string, or object as test")};function OP(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=cw(n[t]);return Hc(i);function i(...o){let a=-1;for(;++a<e.length;)if(e[a].apply(this,o))return!0;return!1}}function LP(n){const e=n;return Hc(t);function t(i){const o=i;let a;for(a in n)if(o[a]!==e[a])return!1;return!0}}function VP(n){return Hc(e);function e(t){return t&&t.type===n}}function Hc(n){return e;function e(t,i,o){return!!(FP(t)&&n.call(this,t,typeof i=="number"?i:void 0,o||void 0))}}function MP(){return!0}function FP(n){return n!==null&&typeof n=="object"&&"type"in n}const hw=[],UP=!0,Ev=!1,zP="skip";function jP(n,e,t,i){let o;typeof e=="function"&&typeof t!="function"?(i=t,t=e):o=e;const a=cw(o),u=i?-1:1;f(n,void 0,[])();function f(d,m,v){const w=d&&typeof d=="object"?d:{};if(typeof w.type=="string"){const I=typeof w.tagName=="string"?w.tagName:typeof w.name=="string"?w.name:void 0;Object.defineProperty(T,"name",{value:"node ("+(d.type+(I?"<"+I+">":""))+")"})}return T;function T(){let I=hw,U,M,B;if((!e||a(d,m,v[v.length-1]||void 0))&&(I=BP(t(d,v)),I[0]===Ev))return I;if("children"in d&&d.children){const H=d;if(H.children&&I[0]!==zP)for(M=(i?H.children.length:-1)+u,B=v.concat(H);M>-1&&M<H.children.length;){const re=H.children[M];if(U=f(re,M,B)(),U[0]===Ev)return U;M=typeof U[1]=="number"?U[1]:M+u}}return I}}}function BP(n){return Array.isArray(n)?n:typeof n=="number"?[UP,n]:n==null?hw:[n]}function fw(n,e,t,i){let o,a,u;typeof e=="function"&&typeof t!="function"?(a=void 0,u=e,o=t):(a=e,u=t,o=i),jP(n,a,f,o);function f(d,m){const v=m[m.length-1],w=v?v.children.indexOf(d):void 0;return u(d,w,v)}}const Sd={}.hasOwnProperty,$P={};function HP(n,e){const t=e||$P,i=new Map,o=new Map,a=new Map,u={...xP,...t.handlers},f={all:m,applyData:WP,definitionById:i,footnoteById:o,footnoteCounts:a,footnoteOrder:[],handlers:u,one:d,options:t,patch:qP,wrap:GP};return fw(n,function(v){if(v.type==="definition"||v.type==="footnoteDefinition"){const w=v.type==="definition"?i:o,T=String(v.identifier).toUpperCase();w.has(T)||w.set(T,v)}}),f;function d(v,w){const T=v.type,I=f.handlers[T];if(Sd.call(f.handlers,T)&&I)return I(f,v,w);if(f.options.passThrough&&f.options.passThrough.includes(T)){if("children"in v){const{children:M,...B}=v,H=wc(B);return H.children=f.all(v),H}return wc(v)}return(f.options.unknownHandler||KP)(f,v,w)}function m(v){const w=[];if("children"in v){const T=v.children;let I=-1;for(;++I<T.length;){const U=f.one(T[I],v);if(U){if(I&&T[I-1].type==="break"&&(!Array.isArray(U)&&U.type==="text"&&(U.value=Tv(U.value)),!Array.isArray(U)&&U.type==="element")){const M=U.children[0];M&&M.type==="text"&&(M.value=Tv(M.value))}Array.isArray(U)?w.push(...U):w.push(U)}}}return w}}function qP(n,e){n.position&&(e.position=Cx(n))}function WP(n,e){let t=e;if(n&&n.data){const i=n.data.hName,o=n.data.hChildren,a=n.data.hProperties;if(typeof i=="string")if(t.type==="element")t.tagName=i;else{const u="children"in t?t.children:[t];t={type:"element",tagName:i,properties:{},children:u}}t.type==="element"&&a&&Object.assign(t.properties,wc(a)),"children"in t&&t.children&&o!==null&&o!==void 0&&(t.children=o)}return t}function KP(n,e){const t=e.data||{},i="value"in e&&!(Sd.call(t,"hProperties")||Sd.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function GP(n,e){const t=[];let i=-1;for(e&&t.push({type:"text",value:`
`});++i<n.length;)i&&t.push({type:"text",value:`
`}),t.push(n[i]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function Tv(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function Iv(n,e){const t=HP(n,e),i=t.one(n,void 0),o=DP(t),a=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return o&&a.children.push({type:"text",value:`
`},o),a}function QP(n,e){return n&&"run"in n?async function(t,i){const o=Iv(t,{file:i,...e});await n.run(o,i)}:function(t,i){return Iv(t,{file:i,...n||e})}}function kv(n){if(n)throw n}var jf,Sv;function YP(){if(Sv)return jf;Sv=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=function(m){return typeof Array.isArray=="function"?Array.isArray(m):e.call(m)==="[object Array]"},a=function(m){if(!m||e.call(m)!=="[object Object]")return!1;var v=n.call(m,"constructor"),w=m.constructor&&m.constructor.prototype&&n.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!v&&!w)return!1;var T;for(T in m);return typeof T>"u"||n.call(m,T)},u=function(m,v){t&&v.name==="__proto__"?t(m,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):m[v.name]=v.newValue},f=function(m,v){if(v==="__proto__")if(n.call(m,v)){if(i)return i(m,v).value}else return;return m[v]};return jf=function d(){var m,v,w,T,I,U,M=arguments[0],B=1,H=arguments.length,re=!1;for(typeof M=="boolean"&&(re=M,M=arguments[1]||{},B=2),(M==null||typeof M!="object"&&typeof M!="function")&&(M={});B<H;++B)if(m=arguments[B],m!=null)for(v in m)w=f(M,v),T=f(m,v),M!==T&&(re&&T&&(a(T)||(I=o(T)))?(I?(I=!1,U=w&&o(w)?w:[]):U=w&&a(w)?w:{},u(M,{name:v,newValue:d(re,U,T)})):typeof T<"u"&&u(M,{name:v,newValue:T}));return M},jf}var XP=YP();const Bf=xc(XP);function xd(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function JP(){const n=[],e={run:t,use:i};return e;function t(...o){let a=-1;const u=o.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...o);function f(d,...m){const v=n[++a];let w=-1;if(d){u(d);return}for(;++w<o.length;)(m[w]===null||m[w]===void 0)&&(m[w]=o[w]);o=m,v?ZP(v,f)(...m):u(null,...m)}}function i(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return n.push(o),e}}function ZP(n,e){let t;return i;function i(...u){const f=n.length>u.length;let d;f&&u.push(o);try{d=n.apply(this,u)}catch(m){const v=m;if(f&&t)throw v;return o(v)}f||(d&&d.then&&typeof d.then=="function"?d.then(a,o):d instanceof Error?o(d):a(d))}function o(u,...f){t||(t=!0,e(u,...f))}function a(u){o(null,u)}}const Er={basename:eR,dirname:tR,extname:nR,join:rR,sep:"/"};function eR(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Il(n);let t=0,i=-1,o=n.length,a;if(e===void 0||e.length===0||e.length>n.length){for(;o--;)if(n.codePointAt(o)===47){if(a){t=o+1;break}}else i<0&&(a=!0,i=o+1);return i<0?"":n.slice(t,i)}if(e===n)return"";let u=-1,f=e.length-1;for(;o--;)if(n.codePointAt(o)===47){if(a){t=o+1;break}}else u<0&&(a=!0,u=o+1),f>-1&&(n.codePointAt(o)===e.codePointAt(f--)?f<0&&(i=o):(f=-1,i=u));return t===i?i=u:i<0&&(i=n.length),n.slice(t,i)}function tR(n){if(Il(n),n.length===0)return".";let e=-1,t=n.length,i;for(;--t;)if(n.codePointAt(t)===47){if(i){e=t;break}}else i||(i=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function nR(n){Il(n);let e=n.length,t=-1,i=0,o=-1,a=0,u;for(;e--;){const f=n.codePointAt(e);if(f===47){if(u){i=e+1;break}continue}t<0&&(u=!0,t=e+1),f===46?o<0?o=e:a!==1&&(a=1):o>-1&&(a=-1)}return o<0||t<0||a===0||a===1&&o===t-1&&o===i+1?"":n.slice(o,t)}function rR(...n){let e=-1,t;for(;++e<n.length;)Il(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":iR(t)}function iR(n){Il(n);const e=n.codePointAt(0)===47;let t=sR(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function sR(n,e){let t="",i=0,o=-1,a=0,u=-1,f,d;for(;++u<=n.length;){if(u<n.length)f=n.codePointAt(u);else{if(f===47)break;f=47}if(f===47){if(!(o===u-1||a===1))if(o!==u-1&&a===2){if(t.length<2||i!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(d=t.lastIndexOf("/"),d!==t.length-1){d<0?(t="",i=0):(t=t.slice(0,d),i=t.length-1-t.lastIndexOf("/")),o=u,a=0;continue}}else if(t.length>0){t="",i=0,o=u,a=0;continue}}e&&(t=t.length>0?t+"/..":"..",i=2)}else t.length>0?t+="/"+n.slice(o+1,u):t=n.slice(o+1,u),i=u-o-1;o=u,a=0}else f===46&&a>-1?a++:a=-1}return t}function Il(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const oR={cwd:aR};function aR(){return"/"}function Ad(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function lR(n){if(typeof n=="string")n=new URL(n);else if(!Ad(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return uR(n)}function uR(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const i=e.codePointAt(t+2);if(i===70||i===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(e)}const $f=["history","path","basename","stem","extname","dirname"];class dw{constructor(e){let t;e?Ad(e)?t={path:e}:typeof e=="string"||cR(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":oR.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<$f.length;){const a=$f[i];a in t&&t[a]!==void 0&&t[a]!==null&&(this[a]=a==="history"?[...t[a]]:t[a])}let o;for(o in t)$f.includes(o)||(this[o]=t[o])}get basename(){return typeof this.path=="string"?Er.basename(this.path):void 0}set basename(e){qf(e,"basename"),Hf(e,"basename"),this.path=Er.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Er.dirname(this.path):void 0}set dirname(e){xv(this.basename,"dirname"),this.path=Er.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Er.extname(this.path):void 0}set extname(e){if(Hf(e,"extname"),xv(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Er.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Ad(e)&&(e=lR(e)),qf(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Er.basename(this.path,this.extname):void 0}set stem(e){qf(e,"stem"),Hf(e,"stem"),this.path=Er.join(this.dirname||"",e+(this.extname||""))}fail(e,t,i){const o=this.message(e,t,i);throw o.fatal=!0,o}info(e,t,i){const o=this.message(e,t,i);return o.fatal=void 0,o}message(e,t,i){const o=new Zt(e,t,i);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Hf(n,e){if(n&&n.includes(Er.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Er.sep+"`")}function qf(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function xv(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function cR(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const hR=function(n){const i=this.constructor.prototype,o=i[n],a=function(){return o.apply(a,arguments)};return Object.setPrototypeOf(a,i),a},fR={}.hasOwnProperty;class Ap extends hR{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=JP()}copy(){const e=new Ap;let t=-1;for(;++t<this.attachers.length;){const i=this.attachers[t];e.use(...i)}return e.data(Bf(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(Gf("data",this.frozen),this.namespace[e]=t,this):fR.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Gf("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const o=t.call(e,...i);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Qu(e),i=this.parser||this.Parser;return Wf("parse",i),i(String(t),t)}process(e,t){const i=this;return this.freeze(),Wf("process",this.parser||this.Parser),Kf("process",this.compiler||this.Compiler),t?o(void 0,t):new Promise(o);function o(a,u){const f=Qu(e),d=i.parse(f);i.run(d,f,function(v,w,T){if(v||!w||!T)return m(v);const I=w,U=i.stringify(I,T);mR(U)?T.value=U:T.result=U,m(v,T)});function m(v,w){v||!w?u(v):a?a(w):t(void 0,w)}}}processSync(e){let t=!1,i;return this.freeze(),Wf("processSync",this.parser||this.Parser),Kf("processSync",this.compiler||this.Compiler),this.process(e,o),Cv("processSync","process",t),i;function o(a,u){t=!0,kv(a),i=u}}run(e,t,i){Av(e),this.freeze();const o=this.transformers;return!i&&typeof t=="function"&&(i=t,t=void 0),i?a(void 0,i):new Promise(a);function a(u,f){const d=Qu(t);o.run(e,d,m);function m(v,w,T){const I=w||e;v?f(v):u?u(I):i(void 0,I,T)}}}runSync(e,t){let i=!1,o;return this.run(e,t,a),Cv("runSync","run",i),o;function a(u,f){kv(u),o=f,i=!0}}stringify(e,t){this.freeze();const i=Qu(t),o=this.compiler||this.Compiler;return Kf("stringify",o),Av(e),o(e,i)}use(e,...t){const i=this.attachers,o=this.namespace;if(Gf("use",this.frozen),e!=null)if(typeof e=="function")d(e,t);else if(typeof e=="object")Array.isArray(e)?f(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(m){if(typeof m=="function")d(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[v,...w]=m;d(v,w)}else u(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function u(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(m.plugins),m.settings&&(o.settings=Bf(!0,o.settings,m.settings))}function f(m){let v=-1;if(m!=null)if(Array.isArray(m))for(;++v<m.length;){const w=m[v];a(w)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function d(m,v){let w=-1,T=-1;for(;++w<i.length;)if(i[w][0]===m){T=w;break}if(T===-1)i.push([m,...v]);else if(v.length>0){let[I,...U]=v;const M=i[T][1];xd(M)&&xd(I)&&(I=Bf(!0,M,I)),i[T]=[m,I,...U]}}}}const dR=new Ap().freeze();function Wf(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function Kf(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function Gf(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Av(n){if(!xd(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function Cv(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function Qu(n){return pR(n)?n:new dw(n)}function pR(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function mR(n){return typeof n=="string"||gR(n)}function gR(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const yR="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Pv=[],Rv={allowDangerousHtml:!0},vR=/^(https?|ircs?|mailto|xmpp)$/i,_R=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Cp(n){const e=wR(n),t=ER(n);return TR(e.runSync(e.parse(t),t),n)}function wR(n){const e=n.rehypePlugins||Pv,t=n.remarkPlugins||Pv,i=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...Rv}:Rv;return dR().use(eP).use(t).use(QP,i).use(e)}function ER(n){const e=n.children||"",t=new dw;return typeof e=="string"&&(t.value=e),t}function TR(n,e){const t=e.allowedElements,i=e.allowElement,o=e.components,a=e.disallowedElements,u=e.skipHtml,f=e.unwrapDisallowed,d=e.urlTransform||IR;for(const v of _R)Object.hasOwn(e,v.from)&&(""+v.from+(v.to?"use `"+v.to+"` instead":"remove it")+yR+v.id,void 0);return e.className&&(n={type:"element",tagName:"div",properties:{className:e.className},children:n.type==="root"?n.children:[n]}),fw(n,m),Dx(n,{Fragment:W.Fragment,components:o,ignoreInvalidStyle:!0,jsx:W.jsx,jsxs:W.jsxs,passKeys:!0,passNode:!0});function m(v,w,T){if(v.type==="raw"&&T&&typeof w=="number")return u?T.children.splice(w,1):T.children[w]={type:"text",value:v.value},w;if(v.type==="element"){let I;for(I in Ff)if(Object.hasOwn(Ff,I)&&Object.hasOwn(v.properties,I)){const U=v.properties[I],M=Ff[I];(M===null||M.includes(v.tagName))&&(v.properties[I]=d(String(U||""),I,v))}}if(v.type==="element"){let I=t?!t.includes(v.tagName):a?a.includes(v.tagName):!1;if(!I&&i&&typeof w=="number"&&(I=!i(v,w,T)),I&&T&&typeof w=="number")return f&&v.children?T.children.splice(w,1,...v.children):T.children.splice(w,1),w}}}function IR(n){const e=n.indexOf(":"),t=n.indexOf("?"),i=n.indexOf("#"),o=n.indexOf("/");return e===-1||o!==-1&&e>o||t!==-1&&e>t||i!==-1&&e>i||vR.test(n.slice(0,e))?n:""}const kR=({userProgress:n,saveProgress:e})=>{const[t,i]=et.useState(""),[o,a]=et.useState(""),[u,f]=et.useState(!1),[d,m]=et.useState(""),v=async()=>{if(!t.trim()){m("Ltfen karlatrmak iin bir kelime girin.");return}f(!0),a(""),m("");const T=`YDS ve YKDL snavlarna hazrlananlar iin, "${t}" kelimesinin akademik e anlamllarn, zt anlamllarn ve aralarndaki kullanm nanslarn karlatrmal olarak akla. rnek cmleler (ngilizce ve Trke) ekle. Yant Trke ve madde madde olsun.`;try{const M=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{role:"user",parts:[{text:T}]}]})});if(!M.ok)throw new Error(`API Hatas: ${M.status}`);const B=await M.json();a(B.candidates?.[0]?.content?.parts?.[0]?.text||"Yant alnamad.")}catch(I){m(`Bir hata olutu: ${I.message}`)}finally{f(!1)}},w=async()=>{const T=t.trim().toLowerCase();T&&!n.learnedWords.includes(T)&&await e({learnedWords:rx(T)})};return W.jsxs("div",{className:"p-8 animate-fade-in",children:[W.jsxs("h2",{className:"text-3xl font-bold text-slate-800 mb-6 flex items-center",children:[W.jsx(Yv,{className:"mr-3 text-purple-600",size:32}),"Akademik Kelime Karlatrma"]}),W.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[W.jsx("input",{type:"text",value:t,onChange:T=>i(T.target.value),placeholder:"rn: 'significant', 'crucial'",className:"flex-grow bg-white border border-violet-200 rounded-lg p-3 text-slate-700 focus:ring-2 focus:ring-purple-400 focus:outline-none transition-all shadow-sm"}),W.jsxs("button",{onClick:v,disabled:u,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-lg flex items-center justify-center transition-all shadow-md hover:shadow-lg disabled:bg-purple-300 disabled:cursor-not-allowed",children:[u?W.jsx(ks,{className:"animate-spin mr-2"}):W.jsx(Zv,{className:"mr-2"})," Karlatr"]})]}),d&&W.jsx("div",{className:"bg-red-100 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4",children:d}),o&&W.jsxs("div",{className:"mt-6 bg-violet-50/70 border border-violet-200 rounded-lg p-6",children:[W.jsx("div",{className:"prose max-w-none text-slate-700 leading-relaxed",children:W.jsx(Cp,{children:o})}),W.jsx("div",{className:"flex justify-end mt-4",children:W.jsxs("button",{onClick:w,disabled:!t.trim()||n.learnedWords.includes(t.trim().toLowerCase()),className:"bg-teal-500 hover:bg-teal-600 text-white font-bold py-2 px-4 rounded-full flex items-center transition-colors shadow hover:shadow-md disabled:bg-teal-200 disabled:cursor-not-allowed",children:[W.jsx(dT,{className:"mr-2"})," renildi Olarak aretle"]})})]})]})},SR=({userProgress:n,saveProgress:e})=>W.jsxs("div",{className:"p-8 animate-fade-in",children:[W.jsxs("h2",{className:"text-3xl font-bold text-slate-800 mb-6 flex items-center",children:[W.jsx(bd,{className:"mr-3 text-sky-600",size:32}),"Okuduunu Anlama Altrmas"]}),W.jsx("p",{className:"text-slate-500 mb-4",children:"Bu blm gelitirme aamasndadr."})]}),xR=({userProgress:n,saveProgress:e})=>W.jsxs("div",{className:"p-8 animate-fade-in",children:[W.jsxs("h2",{className:"text-3xl font-bold text-slate-800 mb-6 flex items-center",children:[W.jsx(Dd,{className:"mr-3 text-violet-600",size:32}),"Dilbilgisi Altrmalar"]}),W.jsx("p",{className:"text-slate-500",children:"Bu blm gelitirme aamasndadr."})]}),AR=()=>{const[n,e]=et.useState(""),[t,i]=et.useState(""),[o,a]=et.useState(""),[u,f]=et.useState(!1),[d,m]=et.useState(!1),[v,w]=et.useState(""),T=async()=>{if(!n.trim()){w("Ltfen bir konu girin.");return}f(!0),i(""),a(""),w("");const U=`"${n}" konusu hakknda hiyerarik bir akl haritas metni olutur. Format: Ana Konu: ... - Balk 1...`;try{const H=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{role:"user",parts:[{text:U}]}]})});if(!H.ok)throw new Error(`API Hatas: ${H.status}`);const re=await H.json();i(re.candidates?.[0]?.content?.parts?.[0]?.text||"Metin oluturulamad.")}catch(M){w(`Bir hata olutu: ${M.message}`)}finally{f(!1)}},I=async()=>{if(!t)return;m(!0),a(""),w("");const U=`Create a mind map diagram based on this text. Use a light theme with a soft lilac background (#f5f3ff). The central topic should be prominent, with elegant, curved, deep purple lines branching out to sub-topics. Nodes should be pill-shaped with a white background and have clear, dark purple text inside. Make it look like a modern, clean data visualization. Text: "${t}"`;try{const H=await fetch("https://generativelanguage.googleapis.com/v1beta/models/imagen-3.0-generate-002:predict?key=",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({instances:[{prompt:U}],parameters:{sampleCount:1}})});if(!H.ok)throw new Error(`API Hatas: ${H.status}`);const re=await H.json();a(`data:image/png;base64,${re.predictions?.[0]?.bytesBase64Encoded}`)}catch(M){w(`Resim oluturulurken hata: ${M.message}`)}finally{m(!1)}};return W.jsxs("div",{className:"p-8 animate-fade-in",children:[W.jsxs("h2",{className:"text-3xl font-bold text-slate-800 mb-6 flex items-center",children:[W.jsx(Xf,{className:"mr-3 text-rose-600",size:32}),"Akl Haritas Oluturucu"]}),W.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[W.jsx("input",{type:"text",value:n,onChange:U=>e(U.target.value),placeholder:"Akl haritas konusu",className:"flex-grow bg-white border border-violet-200 rounded-lg p-3 text-slate-700 focus:ring-2 focus:ring-rose-400 focus:outline-none transition-all shadow-sm"}),W.jsxs("button",{onClick:T,disabled:u,className:"bg-rose-500 hover:bg-rose-600 text-white font-bold py-3 px-6 rounded-lg flex items-center justify-center transition-all shadow-md hover:shadow-lg disabled:bg-rose-300",children:[u?W.jsx(ks,{className:"animate-spin mr-2"}):W.jsx(Xf,{className:"mr-2"})," Harita Metni Olutur"]})]}),v&&W.jsx("div",{className:"bg-red-100 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4",children:v}),t&&W.jsxs("div",{className:"mt-6 bg-white border border-violet-200 rounded-xl p-6 shadow-lg",children:[W.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-2",children:"Oluturulan Metin"}),W.jsx("div",{className:"prose max-w-none text-slate-600 leading-relaxed whitespace-pre-wrap mb-4",children:W.jsx(Cp,{children:t})}),W.jsx("div",{className:"flex justify-center",children:W.jsxs("button",{onClick:I,disabled:d,className:"bg-violet-600 hover:bg-violet-700 text-white font-bold py-2 px-6 rounded-full flex items-center transition-colors shadow hover:shadow-md disabled:bg-violet-300",children:[d?W.jsx(ks,{className:"animate-spin mr-2"}):W.jsx(pT,{className:"mr-2"})," Grselletir"]})})]}),d&&W.jsx("div",{className:"mt-6 flex justify-center items-center h-80 bg-violet-100/50 rounded-lg border border-violet-200",children:W.jsx(ks,{className:"animate-spin text-violet-500",size:48})}),o&&W.jsxs("div",{className:"mt-6",children:[W.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4 text-center",children:"Grselletirilmi Akl Haritas"}),W.jsx("div",{className:"bg-violet-100/50 p-4 rounded-lg border border-violet-200",children:W.jsx("img",{src:o,alt:"Oluturulan Akl Haritas",className:"rounded-md shadow-lg w-full h-auto mx-auto"})})]})]})},CR=()=>{const[n,e]=et.useState(""),[t,i]=et.useState([]),[o,a]=et.useState(!1),[u,f]=et.useState(""),d=async()=>{if(!n.trim())return;const m=[...t,{role:"user",text:n}];i(m),e(""),a(!0),f("");try{const T=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{role:"user",parts:[{text:n}]}]})});if(!T.ok)throw new Error(`API Hatas: ${T.status}`);const U=(await T.json()).candidates?.[0]?.content?.parts?.[0]?.text||"zgnm, yant oluturulamad.";i(M=>[...M,{role:"ai",text:U}])}catch(v){f(`Bir hata olutu: ${v.message}`),i(w=>[...w,{role:"ai",text:`Hata: ${v.message}`}])}finally{a(!1)}};return W.jsxs("div",{className:"p-6 animate-fade-in flex flex-col h-full",children:[W.jsxs("h2",{className:"text-2xl font-bold text-slate-800 mb-4 flex items-center",children:[W.jsx(gT,{className:"mr-3 text-sky-600",size:28}),"AI Sohbet Asistan"]}),W.jsxs("div",{className:"flex-1 bg-white border border-violet-200 rounded-xl shadow-inner p-4 mb-4 overflow-y-auto flex flex-col-reverse custom-scrollbar",children:[t.slice().reverse().map((m,v)=>W.jsx("div",{className:`mb-4 flex ${m.role==="user"?"justify-end":"justify-start"}`,children:W.jsx("div",{className:`inline-block p-3 rounded-lg max-w-[80%] ${m.role==="user"?"bg-violet-600 text-white rounded-br-none":"bg-violet-100 text-slate-800 rounded-bl-none"} prose`,children:W.jsx(Cp,{children:m.text})})},v)),o&&W.jsx("div",{className:"flex justify-center items-center py-4",children:W.jsx(ks,{className:"animate-spin text-violet-400",size:32})}),u&&W.jsx("div",{className:"bg-red-100 border border-red-200 text-red-700 px-4 py-3 rounded-lg my-2",children:u})]}),W.jsxs("div",{className:"flex gap-2",children:[W.jsx("textarea",{value:n,onChange:m=>e(m.target.value),placeholder:"AI Asistanna bir eyler sorun...",className:"flex-grow bg-white border border-violet-200 rounded-lg p-3 text-slate-700 focus:ring-2 focus:ring-sky-400 focus:outline-none transition-all resize-none shadow-sm",rows:"2",onKeyDown:m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),d())}}),W.jsx("button",{onClick:d,disabled:o,className:"bg-sky-500 hover:bg-sky-600 text-white font-bold py-3 px-6 rounded-lg flex items-center justify-center transition-all shadow-md hover:shadow-lg disabled:bg-sky-300",children:o?W.jsx(ks,{className:"animate-spin"}):W.jsx(Zv,{})})]})]})},qa=({tabName:n,icon:e,children:t,activeTab:i,setActiveTab:o})=>W.jsxs("button",{onClick:()=>o(n),className:`w-full flex items-center px-4 py-3 text-left text-sm font-medium rounded-lg transition-all ${i===n?"bg-violet-100 text-violet-800 shadow-inner":"text-slate-500 hover:bg-violet-50 hover:text-violet-700"}`,children:[e," ",t]});var PR="firebase",RR="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji(PR,RR,"app");function Pp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function pw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NR=pw,mw=new dl("auth","Firebase",pw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Od("@firebase/auth");function bR(n,...e){Ec.logLevel<=He.WARN&&Ec.warn(`Auth (${Ko}): ${n}`,...e)}function ic(n,...e){Ec.logLevel<=He.ERROR&&Ec.error(`Auth (${Ko}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(n,...e){throw Rp(n,...e)}function xr(n,...e){return Rp(n,...e)}function gw(n,e,t){const i=Object.assign(Object.assign({},NR()),{[e]:t});return new dl("auth","Firebase",i).create(e,{appName:n.name})}function $i(n){return gw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return mw.create(n,...e)}function Ne(n,e,...t){if(!n)throw Rp(e,...t)}function Qr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ic(e),new Error(e)}function ni(n,e){n||Qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function DR(){return Nv()==="http:"||Nv()==="https:"}function Nv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DR()||RT()||"connection"in navigator)?navigator.onLine:!0}function LR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,t){this.shortDelay=e,this.longDelay=t,ni(t>e,"Short delay should be less than long delay!"),this.isMobile=AT()||NT()}get(){return OR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n,e){ni(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new kl(3e4,6e4);function qc(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ea(n,e,t,i,o={}){return vw(n,o,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const f=pl(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:d},a);return PT()||(m.referrerPolicy="no-referrer"),yw.fetch()(ww(n,n.config.apiHost,t,f),m)})}async function vw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},VR),e);try{const o=new FR(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Yu(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[d,m]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yu(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Yu(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Yu(n,"user-disabled",u);const v=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw gw(n,v,m);ti(n,v)}}catch(o){if(o instanceof ri)throw o;ti(n,"network-request-failed",{message:String(o)})}}async function _w(n,e,t,i,o={}){const a=await ea(n,e,t,i,o);return"mfaPendingCredential"in a&&ti(n,"multi-factor-auth-required",{_serverResponse:a}),a}function ww(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Np(n.config,o):`${n.config.apiScheme}://${o}`}class FR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(xr(this.auth,"network-request-failed")),MR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=xr(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(n,e){return ea(n,"POST","/v1/accounts:delete",e)}async function Ew(n,e){return ea(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zR(n,e=!1){const t=an(n),i=await t.getIdToken(e),o=bp(i);Ne(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:i,authTime:rl(Qf(o.auth_time)),issuedAtTime:rl(Qf(o.iat)),expirationTime:rl(Qf(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Qf(n){return Number(n)*1e3}function bp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return ic("JWT malformed, contained fewer than 3 sections"),null;try{const o=n_(t);return o?JSON.parse(o):(ic("Failed to decode base64 JWT payload"),null)}catch(o){return ic("Caught error parsing JWT payload as JSON",o?.toString()),null}}function bv(n){const e=bp(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ri&&jR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function jR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rl(this.lastLoginAt),this.creationTime=rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await fl(n,Ew(t,{idToken:i}));Ne(o?.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Tw(a.providerUserInfo):[],f=HR(n.providerData,u),d=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!f?.length,v=d?m:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new Pd(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function $R(n){const e=an(n);await Tc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HR(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Tw(n){return n.map(e=>{var{providerId:t}=e,i=Pp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(n,e){const t=await vw(n,{},async()=>{const i=pl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=ww(n,o,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",yw.fetch()(u,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function WR(n,e){return ea(n,"POST","/v2/accounts:revokeToken",qc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=bv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await qR(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,u=new Do;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(Ne(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ne(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Yr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Pp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Pd(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await fl(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return zR(this,e)}reload(){return $R(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Tc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gr(this.auth.app))return Promise.reject($i(this.auth));const e=await this.getIdToken();return await fl(this,UR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,u,f,d,m,v;const w=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,I=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,U=(u=t.photoURL)!==null&&u!==void 0?u:void 0,M=(f=t.tenantId)!==null&&f!==void 0?f:void 0,B=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,H=(m=t.createdAt)!==null&&m!==void 0?m:void 0,re=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:Z,emailVerified:he,isAnonymous:ke,providerData:Q,stsTokenManager:b}=t;Ne(Z&&b,e,"internal-error");const A=Do.fromJSON(this.name,b);Ne(typeof Z=="string",e,"internal-error"),Di(w,e.name),Di(T,e.name),Ne(typeof he=="boolean",e,"internal-error"),Ne(typeof ke=="boolean",e,"internal-error"),Di(I,e.name),Di(U,e.name),Di(M,e.name),Di(B,e.name),Di(H,e.name),Di(re,e.name);const P=new Yr({uid:Z,auth:e,email:T,emailVerified:he,displayName:w,isAnonymous:ke,photoURL:U,phoneNumber:I,tenantId:M,stsTokenManager:A,createdAt:H,lastLoginAt:re});return Q&&Array.isArray(Q)&&(P.providerData=Q.map(D=>Object.assign({},D))),B&&(P._redirectEventId=B),P}static async _fromIdTokenResponse(e,t,i=!1){const o=new Do;o.updateFromServerResponse(t);const a=new Yr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Tc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ne(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?Tw(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,f=new Do;f.updateFromIdToken(i);const d=new Yr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Pd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=new Map;function Xr(n){ni(n instanceof Function,"Expected a class definition");let e=Dv.get(n);return e?(ni(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Dv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Iw.type="NONE";const Ov=Iw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(n,e,t){return`firebase:${n}:${e}:${t}`}class Oo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=sc(this.userKey,o.apiKey,a),this.fullPersistenceKey=sc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Oo(Xr(Ov),e,i);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Xr(Ov);const u=sc(i,e.config.apiKey,e.name);let f=null;for(const m of t)try{const v=await m._get(u);if(v){const w=Yr._fromJSON(e,v);m!==a&&(f=w),a=m;break}}catch{}const d=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Oo(a,e,i):(a=d[0],f&&await a._set(u,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Oo(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Aw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Pw(e))return"Blackberry";if(Rw(e))return"Webos";if(Sw(e))return"Safari";if((e.includes("chrome/")||xw(e))&&!e.includes("edge/"))return"Chrome";if(Cw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function kw(n=Jt()){return/firefox\//i.test(n)}function Sw(n=Jt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xw(n=Jt()){return/crios\//i.test(n)}function Aw(n=Jt()){return/iemobile/i.test(n)}function Cw(n=Jt()){return/android/i.test(n)}function Pw(n=Jt()){return/blackberry/i.test(n)}function Rw(n=Jt()){return/webos/i.test(n)}function Dp(n=Jt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function KR(n=Jt()){var e;return Dp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GR(){return bT()&&document.documentMode===10}function Nw(n=Jt()){return Dp(n)||Cw(n)||Rw(n)||Pw(n)||/windows phone/i.test(n)||Aw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(n,e=[]){let t;switch(n){case"Browser":t=Lv(Jt());break;case"Worker":t=`${Lv(Jt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ko}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,f)=>{try{const d=e(a);u(d)}catch(d){f(d)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(n,e={}){return ea(n,"GET","/v2/passwordPolicy",qc(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=6;class JR{constructor(e){var t,i,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:XR,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,u,f;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsLowercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(f=d.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),d}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vv(this),this.idTokenSubscription=new Vv(this),this.beforeStateQueue=new QR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ew(this,{idToken:e}),i=await Yr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Gr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===f)&&d?.user&&(o=d.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Tc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gr(this.app))return Promise.reject($i(this));const t=e?an(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gr(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gr(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YR(this),t=new JR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await WR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Xr(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[Xr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,i,o);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&bR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Wc(n){return an(n)}class Vv{constructor(e){this.auth=e,this.observer=null,this.addObserver=zT(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e2(n){Op=n}function t2(n){return Op.loadJS(n)}function n2(){return Op.gapiScript}function r2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(n,e){const t=Vd(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Vo(a,e??{}))return o;ti(o,"already-initialized")}return t.initialize({options:e})}function s2(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Xr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function o2(n,e,t){const i=Wc(n);Ne(i._canInitEmulator,i,"emulator-config-failed"),Ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=Dw(e),{host:u,port:f}=a2(e),d=f===null?"":`:${f}`;i.config.emulator={url:`${a}//${u}${d}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),l2()}function Dw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function a2(n){const e=Dw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:Mv(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:Mv(u)}}}function Mv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function l2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,t){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(n,e){return _w(n,"POST","/v1/accounts:signInWithIdp",qc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="http://localhost";class Ns extends Ow{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ti("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Pp(t,["providerId","signInMethod"]);if(!i||!o)return null;const u=new Ns(i,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Lo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Lo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Lo(e,t)}buildRequest(){const e={requestUri:u2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=pl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends Lw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Sl{constructor(){super("facebook.com")}static credential(e){return Ns._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Sl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ns._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Li.credential(t,i)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Sl{constructor(){super("github.com")}static credential(e){return Ns._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Sl{constructor(){super("twitter.com")}static credential(e,t){return Ns._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Mi.credential(t,i)}catch{return null}}}Mi.TWITTER_SIGN_IN_METHOD="twitter.com";Mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(n,e){return _w(n,"POST","/v1/accounts:signUp",qc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await Yr._fromIdTokenResponse(e,i,o),u=Fv(i);return new Ki({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Fv(i);return new Ki({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Fv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2(n){var e;if(Gr(n.app))return Promise.reject($i(n));const t=Wc(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ki({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await c2(t,{returnSecureToken:!0}),o=await Ki._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends ri{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Ic.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Ic(e,t,i,o)}}function Vw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ic._fromErrorAndOperation(n,a,e,i):a})}async function f2(n,e,t=!1){const i=await fl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ki._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(n,e,t=!1){const{auth:i}=n;if(Gr(i.app))return Promise.reject($i(i));const o="reauthenticate";try{const a=await fl(n,Vw(i,o,e,n),t);Ne(a.idToken,i,"internal-error");const u=bp(a.idToken);Ne(u,i,"internal-error");const{sub:f}=u;return Ne(n.uid===f,i,"user-mismatch"),Ki._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&ti(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(n,e,t=!1){if(Gr(n.app))return Promise.reject($i(n));const i="signIn",o=await Vw(n,i,e),a=await Ki._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(n,e,t,i){return an(n).onIdTokenChanged(e,t,i)}function g2(n,e,t){return an(n).beforeAuthStateChanged(e,t)}function y2(n,e,t,i){return an(n).onAuthStateChanged(e,t,i)}const kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kc,"1"),this.storage.removeItem(kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=1e3,_2=10;class Fw extends Mw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,d)=>{this.notifyListeners(u,d)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);GR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_2):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},v2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Fw.type="LOCAL";const w2=Fw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw extends Mw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Uw.type="SESSION";const zw=Uw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Kc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(u).map(async m=>m(t.origin,a)),d=await E2(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((f,d)=>{const m=Lp("",20);o.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(T.data.response);break;default:clearTimeout(v),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return window}function I2(n){Ar().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}async function k2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function S2(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function x2(){return jw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="firebaseLocalStorageDb",A2=1,Sc="firebaseLocalStorage",$w="fbase_key";class xl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gc(n,e){return n.transaction([Sc],e?"readwrite":"readonly").objectStore(Sc)}function C2(){const n=indexedDB.deleteDatabase(Bw);return new xl(n).toPromise()}function Rd(){const n=indexedDB.open(Bw,A2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Sc,{keyPath:$w})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Sc)?e(i):(i.close(),await C2(),e(await Rd()))})})}async function Uv(n,e,t){const i=Gc(n,!0).put({[$w]:e,value:t});return new xl(i).toPromise()}async function P2(n,e){const t=Gc(n,!1).get(e),i=await new xl(t).toPromise();return i===void 0?null:i.value}function zv(n,e){const t=Gc(n,!0).delete(e);return new xl(t).toPromise()}const R2=800,N2=3;class Hw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rd(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>N2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kc._getInstance(x2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await k2(),!this.activeServiceWorker)return;this.sender=new T2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||S2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rd();return await Uv(e,kc,"1"),await zv(e,kc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Uv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>P2(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>zv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Gc(o,!1).getAll();return new xl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Hw.type="LOCAL";const b2=Hw;new kl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(n,e){return e?Xr(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp extends Ow{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Lo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function O2(n){return p2(n.auth,new Vp(n),n.bypassAuthState)}function L2(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),d2(t,new Vp(n),n.bypassAuthState)}async function V2(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),f2(t,new Vp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return O2;case"linkViaPopup":case"linkViaRedirect":return V2;case"reauthViaPopup":case"reauthViaRedirect":return L2;default:ti(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=new kl(2e3,1e4);class Po extends qw{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Po.currentPopupAction&&Po.currentPopupAction.cancel(),Po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){ni(this.filter.length===1,"Popup operations only handle one event");const e=Lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M2.get())};e()}}Po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="pendingRedirect",oc=new Map;class U2 extends qw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=oc.get(this.auth._key());if(!e){try{const i=await z2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}oc.set(this.auth._key(),e)}return this.bypassAuthState||oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function z2(n,e){const t=$2(e),i=B2(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function j2(n,e){oc.set(n._key(),e)}function B2(n){return Xr(n._redirectPersistence)}function $2(n){return sc(F2,n.config.apiKey,n.name)}async function H2(n,e,t=!1){if(Gr(n.app))return Promise.reject($i(n));const i=Wc(n),o=D2(i,e),u=await new U2(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=10*60*1e3;class W2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!K2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Ww(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(xr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q2&&this.cachedEventUids.clear(),this.cachedEventUids.has(jv(e))}saveEventToCache(e){this.cachedEventUids.add(jv(e)),this.lastProcessedEventTime=Date.now()}}function jv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ww({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function K2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ww(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(n,e={}){return ea(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y2=/^https?/;async function X2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await G2(n);for(const t of e)try{if(J2(t))return}catch{}ti(n,"unauthorized-domain")}function J2(n){const e=Cd(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!Y2.test(t))return!1;if(Q2.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new kl(3e4,6e4);function Bv(){const n=Ar().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function eN(n){return new Promise((e,t)=>{var i,o,a;function u(){Bv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bv(),t(xr(n,"network-request-failed"))},timeout:Z2.get()})}if(!((o=(i=Ar().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Ar().gapi)===null||a===void 0)&&a.load)u();else{const f=r2("iframefcb");return Ar()[f]=()=>{gapi.load?u():t(xr(n,"network-request-failed"))},t2(`${n2()}?onload=${f}`).catch(d=>t(d))}}).catch(e=>{throw ac=null,e})}let ac=null;function tN(n){return ac=ac||eN(n),ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=new kl(5e3,15e3),rN="__/auth/iframe",iN="emulator/auth/iframe",sN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aN(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Np(e,iN):`https://${n.config.authDomain}/${rN}`,i={apiKey:e.apiKey,appName:n.name,v:Ko},o=oN.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${pl(i).slice(1)}`}async function lN(n){const e=await tN(n),t=Ar().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:aN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sN,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const u=xr(n,"network-request-failed"),f=Ar().setTimeout(()=>{a(u)},nN.get());function d(){Ar().clearTimeout(f),o(i)}i.ping(d).then(d,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cN=500,hN=600,fN="_blank",dN="http://localhost";class $v{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pN(n,e,t,i=cN,o=hN){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const d=Object.assign(Object.assign({},uN),{width:i.toString(),height:o.toString(),top:a,left:u}),m=Jt().toLowerCase();t&&(f=xw(m)?fN:t),kw(m)&&(e=e||dN,d.scrollbars="yes");const v=Object.entries(d).reduce((T,[I,U])=>`${T}${I}=${U},`,"");if(KR(m)&&f!=="_self")return mN(e||"",f),new $v(null);const w=window.open(e||"",f,v);Ne(w,n,"popup-blocked");try{w.focus()}catch{}return new $v(w)}function mN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="__/auth/handler",yN="emulator/auth/handler",vN=encodeURIComponent("fac");async function Hv(n,e,t,i,o,a){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ko,eventId:o};if(e instanceof Lw){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",UT(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof Sl){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const d=await n._getAppCheckToken(),m=d?`#${vN}=${encodeURIComponent(d)}`:"";return`${_N(n)}?${pl(f).slice(1)}${m}`}function _N({config:n}){return n.emulator?Np(n,yN):`https://${n.authDomain}/${gN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="webStorageSupport";class wN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zw,this._completeRedirectFn=H2,this._overrideRedirectResult=j2}async _openPopup(e,t,i,o){var a;ni((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await Hv(e,t,i,Cd(),o);return pN(e,u,Lp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await Hv(e,t,i,Cd(),o);return I2(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(ni(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await lN(e),i=new W2(e);return t.register("authEvent",o=>(Ne(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Yf,{type:Yf},o=>{var a;const u=(a=o?.[0])===null||a===void 0?void 0:a[Yf];u!==void 0&&t(!!u),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=X2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Nw()||Sw()||Dp()}}const EN=wN;var qv="@firebase/auth",Wv="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kN(n){Mo(new As("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bw(n)},m=new ZR(i,o,a,d);return s2(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Mo(new As("auth-internal",e=>{const t=Wc(e.getProvider("auth").getImmediate());return(i=>new TN(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ji(qv,Wv,IN(n)),ji(qv,Wv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=5*60,xN=s_("authIdTokenMaxAge")||SN;let Kv=null;const AN=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>xN)return;const o=t?.token;Kv!==o&&(Kv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function CN(n=u_()){const e=Vd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=i2(n,{popupRedirectResolver:EN,persistence:[b2,w2,zw]}),i=s_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=AN(a.toString());g2(t,u,()=>u(t.currentUser)),m2(t,f=>u(f))}}const o=r_("auth");return o&&o2(t,`http://${o}`),t}function PN(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}e2({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=xr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",PN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kN("Browser");const RN=async(n,e,t,i,o)=>{if(!n||Object.keys(n).length===0){console.error("Firebase config is missing or empty."),o(!0);return}try{const a=l_(n),u=CN(a),f=FS(a);t(f),y2(u,d=>{i(d?d.uid:null),o(!0)}),e||await h2(u)}catch(a){console.error("A critical Firebase error occurred during initialization:",a),o(!0)}},Xu=async(n,e,t,i)=>{if(!n||!e)return;const o=_0(n,`artifacts/${t}/users/${e}/progress/userProgress`);await ex(o,i)},NN=(n,e,t,i,o)=>{if(!n||!e)return()=>{};const a=_0(n,`artifacts/${t}/users/${e}/progress/userProgress`);return tx(a,f=>{f.exists()?i(f.data()):ZS(a,o,{merge:!0})})},bN=()=>{const[n,e]=et.useState(null),[t,i]=et.useState(null),[o,a]=et.useState(!1),[u,f]=et.useState({reading:{correct:0,total:0},grammar:{correct:0,total:0},learnedWords:[]}),[d,m]=et.useState("dashboard"),[v,w]=et.useState(!1),T="default-app-id",I={},U=null;et.useEffect(()=>{RN(I,U,e,i,a)},[T,I,U]),et.useEffect(()=>{const H=NN(n,t,T,f,u);return()=>H()},[n,t,T,u]);const M=async H=>{await Xu(n,t,T,{learnedWords:ix(H)})},B=()=>{switch(d){case"dashboard":return W.jsx(Jg,{userProgress:u,handleRemoveLearnedWord:M});case"word":return W.jsx(kR,{userProgress:u,saveProgress:H=>Xu(n,t,T,H)});case"reading":return W.jsx(SR,{userProgress:u,saveProgress:H=>Xu(n,t,T,H)});case"grammar":return W.jsx(xR,{userProgress:u,saveProgress:H=>Xu(n,t,T,H)});case"mindmap":return W.jsx(AR,{});default:return W.jsx(Jg,{userProgress:u,handleRemoveLearnedWord:M})}};return W.jsxs("div",{className:"flex h-screen bg-violet-50 text-slate-800 font-sans",children:[W.jsxs("aside",{className:"w-64 bg-white/80 backdrop-blur-lg p-4 flex flex-col border-r border-violet-100",children:[W.jsxs("div",{className:"flex items-center mb-8 px-2",children:[W.jsx(Xv,{className:"text-violet-600 mr-3",size:30}),W.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"YDS Asistan"})]}),W.jsxs("nav",{className:"flex flex-col space-y-2",children:[W.jsx(qa,{tabName:"dashboard",icon:W.jsx(Jv,{className:"mr-3",size:18}),activeTab:d,setActiveTab:m,children:"lerleme Paneli"}),W.jsx(qa,{tabName:"word",icon:W.jsx(Yv,{className:"mr-3",size:18}),activeTab:d,setActiveTab:m,children:"Kelime Karlatrma"}),W.jsx(qa,{tabName:"reading",icon:W.jsx(bd,{className:"mr-3",size:18}),activeTab:d,setActiveTab:m,children:"Okuma Altrmas"}),W.jsx(qa,{tabName:"grammar",icon:W.jsx(Dd,{className:"mr-3",size:18}),activeTab:d,setActiveTab:m,children:"Dilbilgisi"}),W.jsx(qa,{tabName:"mindmap",icon:W.jsx(Xf,{className:"mr-3",size:18}),activeTab:d,setActiveTab:m,children:"Akl Haritas"})]})]}),W.jsx("main",{className:"flex-1 overflow-y-auto bg-violet-50",children:o?B():W.jsx("div",{className:"flex justify-center items-center h-full",children:W.jsx(ks,{className:"animate-spin text-violet-500",size:48})})}),!v&&W.jsxs("button",{onClick:()=>w(!0),title:"AI Sohbet Asistann A",className:"fixed bottom-8 right-8 z-40 bg-sky-500 hover:bg-sky-600 text-white px-5 py-3 rounded-full shadow-lg transition-all transform hover:scale-105 focus:outline-none ring-4 ring-white/30 flex items-center space-x-2",children:[W.jsx(hT,{size:28}),W.jsx("span",{className:"text-sm font-medium",children:"AI Sohbet"})]}),v&&W.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 animate-fade-in",children:W.jsxs("div",{className:"bg-violet-50 rounded-2xl shadow-2xl w-full max-w-2xl h-[85vh] max-h-[700px] flex flex-col relative",children:[W.jsx("button",{onClick:()=>w(!1),title:"Sohbeti Kapat",className:"absolute top-3 right-3 text-slate-400 hover:text-slate-800 transition-colors z-10",children:W.jsx(Qv,{size:28})}),W.jsx(CR,{})]})})]})},DN=oT.createRoot(document.getElementById("root"));DN.render(W.jsx(ZE.StrictMode,{children:W.jsx(bN,{})}));
