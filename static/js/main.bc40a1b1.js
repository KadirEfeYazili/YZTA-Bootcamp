/*! For license information please see main.bc40a1b1.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},146:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,r=/-([a-z])/g,i=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,o=function(e,t){return t.toUpperCase()},l=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||i.test(e)||n.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(a,l):e.replace(s,l)).replace(r,o))}},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var k=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+N(l,0):s,k(a)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),C(a,t,i,"",function(e){return e})):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",k(e))for(var c=0;c<e.length;c++){var u=s+N(o=e[c],c);l+=C(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=C(o=o.value,t,i,u=s+N(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},j={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},222:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=null;if(!e||"string"!==typeof e)return n;var r=(0,i.default)(e),s="function"===typeof t;return r.forEach(function(e){if("declaration"===e.type){var r=e.property,i=e.value;s?t(r,i,e):i&&((n=n||{})[r]=i)}}),n};var i=r(n(403))},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,R(x);else{var t=r(u);null!==t&&j(k,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&j(k,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,_=null,T=-1,I=5,N=-1;function C(){return!(t.unstable_now()-N<I)}function A(){if(null!==_){var e=t.unstable_now();N=e;var n=!0;try{n=_(!0,e)}finally{n?S():(E=!1,_=null)}}else E=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=A,S=function(){D.postMessage(null)}}else S=function(){y(A,0)};function R(e){_=e,E||(E=!0,S())}function j(e,n){T=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(T),T=-1):g=!0,j(k,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,R(x))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},240:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},a=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,i=t.call(e,"constructor"),s=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!i&&!s)return!1;for(r in e);return"undefined"===typeof r||t.call(e,r)},o=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(i)return i(e,n).value}return e[n]};e.exports=function e(){var t,n,r,i,c,u,d=arguments[0],h=1,f=arguments.length,p=!1;for("boolean"===typeof d&&(p=d,d=arguments[1]||{},h=2),(null==d||"object"!==typeof d&&"function"!==typeof d)&&(d={});h<f;++h)if(null!=(t=arguments[h]))for(n in t)r=l(d,n),d!==(i=l(t,n))&&(p&&i&&(a(i)||(c=s(i)))?(c?(c=!1,u=r&&s(r)?r:[]):u=r&&a(r)?r:{},o(d,{name:n,newValue:e(p,u,i)})):"undefined"!==typeof i&&o(d,{name:n,newValue:i}));return d}},294:function(e,t,n){"use strict";var r=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(n(222)),i=n(146);function s(e,t){var n={};return e&&"string"===typeof e?((0,r.default)(e,function(e,r){e&&r&&(n[(0,i.camelCase)(e,t)]=r)}),n):n}s.default=s,e.exports=s},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},403:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,l=/^\s+|\s+$/g,c="";function u(e){return e?e.replace(l,c):c}e.exports=function(e,l){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];l=l||{};var d=1,h=1;function f(e){var t=e.match(n);t&&(d+=t.length);var r=e.lastIndexOf("\n");h=~r?e.length-r:h+e.length}function p(){var e={line:d,column:h};return function(t){return t.position=new m(e),b(),t}}function m(e){this.start=e,this.end={line:d,column:h},this.source=l.source}m.prototype.content=e;var g=[];function y(t){var n=new Error(l.source+":"+d+":"+h+": "+t);if(n.reason=t,n.filename=l.source,n.line=d,n.column=h,n.source=e,!l.silent)throw n;g.push(n)}function v(t){var n=t.exec(e);if(n){var r=n[0];return f(r),e=e.slice(r.length),n}}function b(){v(r)}function w(e){var t;for(e=e||[];t=k();)!1!==t&&e.push(t);return e}function k(){var t=p();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;c!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,c===e.charAt(n-1))return y("End of comment missing");var r=e.slice(2,n-2);return h+=2,f(r),e=e.slice(n),h+=2,t({type:"comment",comment:r})}}function x(){var e=p(),n=v(i);if(n){if(k(),!v(s))return y("property missing ':'");var r=v(a),l=e({type:"declaration",property:u(n[0].replace(t,c)),value:r?u(r[0].replace(t,c)):c});return v(o),l}}return b(),function(){var e,t=[];for(w(t);e=x();)!1!==e&&(t.push(e),w(t));return t}()}},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var L,M=Object.assign;function z(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function V(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case _:return"Profiler";case E:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function se(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ee=null;function _e(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(s(280));var t=e.stateNode;t&&(t=ki(t),xe(e.stateNode,e.type,t))}}function Te(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Ie(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ne(e,t){return e(t)}function Ce(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ne(e,t,n)}finally{Ae=!1,(null!==Se||null!==Ee)&&(Ce(),Ie())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var je={};Object.defineProperty(je,"passive",{get:function(){Re=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(ue){Re=!1}function Oe(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,ze=!1,Fe=null,Ue={onError:function(e){Le=!0,Me=e}};function Ve(e,t,n,r,i,s,a,o,l){Le=!1,Me=null,Oe.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Be(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,xt,St,Et,_t,Tt=!1,It=[],Nt=null,Ct=null,At=null,Pt=new Map,Dt=new Map,Rt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void _t(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){zt(e)&&n.delete(t)}function Ut(){Tt=!1,null!==Nt&&zt(Nt)&&(Nt=null),null!==Ct&&zt(Ct)&&(Ct=null),null!==At&&zt(At)&&(At=null),Pt.forEach(Ft),Dt.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return Vt(t,e)}if(0<It.length){Vt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Vt(Nt,e),null!==Ct&&Vt(Ct,e),null!==At&&Vt(At,e),Pt.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var qt=w.ReactCurrentBatchConfig,$t=!0;function Ht(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Kt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Wt(e,t,n,r){if($t){var i=Yt(e,t,n,r);if(null===i)$r(e,t,r,Gt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Lt(Nt,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,Lt(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Dt.set(s,Lt(Dt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<jt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&kt(s),null===(s=Yt(e,t,n,r))&&$r(e,t,r,Gt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Gt=null;function Yt(e,t,n,r){if(Gt=null,null!==(e=vi(e=ke(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=M({},cn,{view:0,detail:0}),hn=sn(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},dn,{relatedTarget:0})),yn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(vn),wn=sn(M({},cn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function _n(){return En}var Tn=M({},dn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(Tn),Nn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=sn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),An=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Pn),Rn=[9,13,27,32],jn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Mn=u&&(!jn||On&&8<On&&11>=On),zn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Wn=null;function Gn(e){zr(e,0)}function Yn(e){if(W(wi(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Wn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Hn(t,Wn,e,ke(e)),Pe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function sr(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Sr={},Er={};function _r(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Tr=_r("animationend"),Ir=_r("animationiteration"),Nr=_r("animationstart"),Cr=_r("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ar.set(e,t),l(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var jr=Pr[Rr];Dr(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}Dr(Tr,"onAnimationEnd"),Dr(Ir,"onAnimationIteration"),Dr(Nr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Me;Le=!1,Me=null,ze||(ze=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}}}if(ze)throw e=Fe,ze=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Qt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=vi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Pe(function(){var r=s,i=ke(n),a=[];e:{var o=Ar.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Tr:case Ir:case Nr:l=yn;break;case Cr:l=An;break;case"scroll":l=hn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=De(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:wi(l),f=null==c?o:wi(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Wr(f))p++;for(f=0,m=h;m;m=Wr(m))f++;for(;0<p-f;)u=Wr(u),p--;for(;0<f-p;)h=Wr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Wr(u),h=Wr(h)}u=null}else u=null;null!==l&&Gr(a,o,l,u,!1),null!==c&&null!==d&&Gr(a,d,c,u,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qn;else if($n(o))if(Xn)g=ar;else{g=ir;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?wi(r):window,e){case"focusin":($n(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var v;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(v=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Vn(n))&&(b.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,zn);case"textInput":return(e=t.data)===zn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!jn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}zr(a,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=De(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=De(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=De(n,s))&&a.unshift(Hr(n,l,o)):i||null!=(l=De(n,s))&&a.push(Hr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ki(e){return e[fi]||null}var xi=[],Si=-1;function Ei(e){return{current:e}}function _i(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function Ti(e,t){Si++,xi[Si]=e.current,e.current=t}var Ii={},Ni=Ei(Ii),Ci=Ei(!1),Ai=Ii;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){_i(Ci),_i(Ni)}function ji(e,t,n){if(Ni.current!==Ii)throw Error(s(168));Ti(Ni,t),Ti(Ci,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ai=Ni.current,Ti(Ni,e),Ti(Ci,Ci.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Oi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,_i(Ci),_i(Ni),Ti(Ni,e)):_i(Ci),Ti(Ci,n)}var zi=null,Fi=!1,Ui=!1;function Vi(e){null===zi?zi=[e]:zi.push(e)}function Bi(){if(!Ui&&null!==zi){Ui=!0;var e=0,t=bt;try{var n=zi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zi=null,Fi=!1}catch(i){throw null!==zi&&(zi=zi.slice(e+1)),We(Ze,Bi),i}finally{bt=t,Ui=!1}}return null}var qi=[],$i=0,Hi=null,Ki=0,Wi=[],Gi=0,Yi=null,Qi=1,Xi="";function Ji(e,t){qi[$i++]=Ki,qi[$i++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Wi[Gi++]=Qi,Wi[Gi++]=Xi,Wi[Gi++]=Yi,Yi=e;var r=Qi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-at(t)+i|n<<i|r,Xi=s+e}else Qi=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Hi;)Hi=qi[--$i],qi[$i]=null,Ki=qi[--$i],qi[$i]=null;for(;e===Yi;)Yi=Wi[--Gi],Wi[Gi]=null,Xi=Wi[--Gi],Wi[Gi]=null,Qi=Wi[--Gi],Wi[Gi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Qi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&vs(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=jc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=jc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case x:return(t=zc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:d(e,t,n,r,null);ys(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=a(y,s,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===o.length)return n(i,d),is&&Ji(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&Ji(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),is&&Ji(i,m),c}function g(i,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return is&&Ji(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),is&&Ji(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case k:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&vs(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((s=Oc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=jc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case x:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=zc(a,r.mode,l)).return=r,r=s}return o(r);case D:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(O(a))return g(r,s,a,l);ys(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Mc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ws=bs(!0),ks=bs(!1),xs=Ei(null),Ss=null,Es=null,_s=null;function Ts(){_s=Es=Ss=null}function Is(e){var t=xs.current;_i(xs),e._currentValue=t}function Ns(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cs(e,t){Ss=e,_s=Es=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(_s!==e)if(e={context:e,memoizedValue:t,next:null},null===Es){if(null===Ss)throw Error(s(308));Es=e,Ss.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var Ps=null;function Ds(e){null===Ps?Ps=[e]:Ps.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ds(t)):(n.next=i.next,i.next=n),t.interleaved=n,js(e,r)}function js(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Os=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,js(e,n)}return null===(i=r.interleaved)?(t.next=t,Ds(r)):(t.next=i.next,i.next=t),r.interleaved=t,js(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Vs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Os=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Os=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=d}}function qs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var $s={},Hs=Ei($s),Ks=Ei($s),Ws=Ei($s);function Gs(e){if(e===$s)throw Error(s(174));return e}function Ys(e,t){switch(Ti(Ws,t),Ti(Ks,e),Ti(Hs,$s),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Hs),Ti(Hs,t)}function Qs(){_i(Hs),_i(Ks),_i(Ws)}function Xs(e){Gs(Ws.current);var t=Gs(Hs.current),n=le(t,e.type);t!==n&&(Ti(Ks,e),Ti(Hs,n))}function Js(e){Ks.current===e&&(_i(Hs),_i(Ks))}var Zs=Ei(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=w.ReactCurrentDispatcher,ia=w.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ca=!1,ua=!1,da=0,ha=0;function fa(){throw Error(s(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Ja:Za,e=n(r,i),ua){a=0;do{if(ua=!1,da=0,25<=a)throw Error(s(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ua)}if(ra.current=Xa,t=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ca=!1,t)throw Error(s(300));return e}function ga(){var e=0!==da;return da=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function va(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function ba(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=va(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((sa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,aa.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Ll|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ka(e){var t=va(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function xa(){}function Sa(e,t){var n=aa,r=va(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,Oa(Ta.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Aa(9,_a.bind(null,n,r,i,t),void 0,null),null===Cl)throw Error(s(349));0!==(30&sa)||Ea(n,t,i)}return i}function Ea(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _a(e,t,n,r){t.value=n,t.getSnapshot=r,Ia(t)&&Na(e)}function Ta(e,t,n){return n(function(){Ia(t)&&Na(e)})}function Ia(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Na(e){var t=js(e,1);null!==t&&nc(t,e,1,-1)}function Ca(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Wa.bind(null,aa,e),[t.memoizedState,e]}function Aa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pa(){return va().memoizedState}function Da(e,t,n,r){var i=ya();aa.flags|=e,i.memoizedState=Aa(1|t,n,void 0,void 0===r?null:r)}function Ra(e,t,n,r){var i=va();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&pa(r,a.deps))return void(i.memoizedState=Aa(t,n,s,r))}aa.flags|=e,i.memoizedState=Aa(1|t,n,s,r)}function ja(e,t){return Da(8390656,8,e,t)}function Oa(e,t){return Ra(2048,8,e,t)}function La(e,t){return Ra(4,2,e,t)}function Ma(e,t){return Ra(4,4,e,t)}function za(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4,4,za.bind(null,t,e),n)}function Ua(){}function Va(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ba(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qa(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Ll|=n,e.baseState=!0),t)}function $a(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function Ha(){return va().memoizedState}function Ka(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ga(e))Ya(t,n);else if(null!==(n=Rs(e,t,n,r))){nc(n,e,r,ec()),Qa(n,t,r)}}function Wa(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ga(e))Ya(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ds(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Rs(e,t,i,r))&&(nc(n,e,r,i=ec()),Qa(n,t,r))}}function Ga(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Ya(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xa={readContext:As,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Ja={readContext:As,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:ja,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4194308,4,za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Da(4194308,4,e,t)},useInsertionEffect:function(e,t){return Da(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Ca,useDebugValue:Ua,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Ca(!1),t=e[0];return e=$a.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=ya();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Cl)throw Error(s(349));0!==(30&sa)||Ea(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,ja(Ta.bind(null,r,a,e),[e]),r.flags|=2048,Aa(9,_a.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Cl.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Qi&~(1<<32-at(Qi)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:As,useCallback:Va,useContext:As,useEffect:Oa,useImperativeHandle:Fa,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:Ba,useReducer:wa,useRef:Pa,useState:function(){return wa(ba)},useDebugValue:Ua,useDeferredValue:function(e){return qa(va(),oa.memoizedState,e)},useTransition:function(){return[wa(ba)[0],va().memoizedState]},useMutableSource:xa,useSyncExternalStore:Sa,useId:Ha,unstable_isNewReconciler:!1},eo={readContext:As,useCallback:Va,useContext:As,useEffect:Oa,useImperativeHandle:Fa,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:Ba,useReducer:ka,useRef:Pa,useState:function(){return ka(ba)},useDebugValue:Ua,useDeferredValue:function(e){var t=va();return null===oa?t.memoizedState=e:qa(t,oa.memoizedState,e)},useTransition:function(){return[ka(ba)[0],va().memoizedState]},useMutableSource:xa,useSyncExternalStore:Sa,useId:Ha,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=zs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,i))&&(nc(t,e,i,r),Us(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=zs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,i))&&(nc(t,e,i,r),Us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=zs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fs(e,i,r))&&(nc(t,e,r,n),Us(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function so(e,t,n){var r=!1,i=Ii,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(i=Di(t)?Ai:Ni.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ii),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=As(s):(s=Di(t)?Ai:Ni.current,i.context=Pi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=zs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$l||($l=!0,Hl=r),uo(0,t)},n}function po(e,t,n){(n=zs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zs(-1,1)).tag=2,Fs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vo=w.ReactCurrentOwner,bo=!1;function wo(e,t,n,r){t.child=null===e?ks(t,null,n,r):ws(t,e.child,n,r)}function ko(e,t,n,r,i){n=n.render;var s=t.ref;return Cs(t,i),r=ma(e,t,n,r,s,i),n=ga(),null===e||bo?(is&&n&&es(t),t.flags|=1,wo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$o(e,t,i))}function xo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Dc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=jc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,So(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return $o(e,t,i)}return t.flags|=1,(e=Rc(s,r)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,$o(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return To(e,t,n,r,i)}function Eo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Rl,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Rl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ti(Rl,Dl),Dl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ti(Rl,Dl),Dl|=r;return wo(e,t,i,n),t.child}function _o(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function To(e,t,n,r,i){var s=Di(n)?Ai:Ni.current;return s=Pi(t,s),Cs(t,i),n=ma(e,t,n,r,s,i),r=ga(),null===e||bo?(is&&r&&es(t),t.flags|=1,wo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$o(e,t,i))}function Io(e,t,n,r,i){if(Di(n)){var s=!0;Li(t)}else s=!1;if(Cs(t,i),null===t.stateNode)qo(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=As(c):c=Pi(t,c=Di(n)?Ai:Ni.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),Os=!1;var h=t.memoizedState;a.state=h,Bs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ci.current||Os?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Os||io(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ms(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=As(l):l=Pi(t,l=Di(n)?Ai:Ni.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ao(t,a,r,l),Os=!1,h=t.memoizedState,a.state=h,Bs(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Ci.current||Os?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=Os||io(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return No(e,t,n,r,s,i)}function No(e,t,n,r,i,s){_o(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),$o(e,t,s);r=t.stateNode,vo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):wo(e,t,o,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Co(e){var t=e.stateNode;t.pendingContext?ji(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ji(0,t.context,!1),Ys(e,t.containerInfo)}function Ao(e,t,n,r,i){return fs(),ps(i),t.flags|=256,wo(e,t,n,r),t.child}var Po,Do,Ro,jo,Oo={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var r,i=t.pendingProps,a=Zs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti(Zs,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,i,0,null),e=Oc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Oo,e):zo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Fo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(a=Oc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Oo,a);if(0===(1&t.mode))return Fo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Fo(e,t,o,r=co(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Cl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,js(e,i),nc(r,e,i,-1))}return mc(),Fo(e,t,o,r=co(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Wi[Gi++]=Qi,Wi[Gi++]=Xi,Wi[Gi++]=Yi,Qi=e.id,Xi=e.overflow,Yi=t),t=zo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Rc(r,o):(o=Oc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Oo,i}return e=(o=e.child).sibling,i=Rc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fo(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ns(e.return,t,n)}function Vo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Bo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vo(t,!0,n,null,s);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $o(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ho(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ko(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ko(t),null;case 1:case 17:return Di(t.type)&&Ri(),Ko(t),null;case 3:return r=t.stateNode,Qs(),_i(Ci),_i(Ni),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Do(e,t),Ko(t),null;case 5:Js(t);var i=Gs(Ws.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ko(t),null}if(e=Gs(Hs.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Q(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Po(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Q(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ko(t),null;case 6:if(e&&null!=t.stateNode)jo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Gs(Ws.current),Gs(Hs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ko(t),null;case 13:if(_i(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ko(t),a=!1}else null!==ss&&(ac(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===jl&&(jl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ko(t),null);case 4:return Qs(),Do(e,t),null===e&&Br(t.stateNode.containerInfo),Ko(t),null;case 10:return Is(t.type._context),Ko(t),null;case 19:if(_i(Zs),null===(a=t.memoizedState))return Ko(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ho(a,!1);else{if(0!==jl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Ho(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Bl&&(t.flags|=128,r=!0,Ho(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ho(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Ko(t),null}else 2*Xe()-a.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ho(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=Zs.current,Ti(Zs,r?1&n|2:1&n),t):(Ko(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ko(t),6&t.subtreeFlags&&(t.flags|=8192)):Ko(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Go(e,t){switch(ts(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qs(),_i(Ci),_i(Ni),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(_i(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(Zs),null;case 4:return Qs(),null;case 10:return Is(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Do=function(){},Ro=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gs(Hs.current);var s,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},jo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,Qo=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Jo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Qo||Zo(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ec(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qo=(r=Qo)||null!==n.memoizedState,hl(e,t,n),Qo=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xo),t.forEach(function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(a,o,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Ec(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Ec(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ec(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Xe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(u=Qo)||d,ml(t,e),Qo=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Jo=e,d=e.child;null!==d;){for(h=Jo=d;null!==Jo;){switch(p=(f=Jo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){kl(h);continue}}null!==p?(p.return=f,Jo=p):kl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Ec(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(s(161))}}catch(o){Ec(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Jo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Jo;){var i=Jo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Yo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Yo;var c=Qo;if(Yo=a,(Qo=l)&&!c)for(Jo=i;null!==Jo;)l=(a=Jo).child,22===a.tag&&null!==a.memoizedState?xl(i):null!==l?(l.return=a,Jo=l):xl(i);for(;null!==s;)Jo=s,bl(s,t,n),s=s.sibling;Jo=i,Yo=o,Qo=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Jo=s):wl(e)}}function wl(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&qs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}Qo||512&t.flags&&il(t)}catch(f){Ec(t,t.return,f)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function kl(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function xl(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var s=t.return;try{il(t)}catch(l){Ec(t,s,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Ec(t,a,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var Sl,El=Math.ceil,_l=w.ReactCurrentDispatcher,Tl=w.ReactCurrentOwner,Il=w.ReactCurrentBatchConfig,Nl=0,Cl=null,Al=null,Pl=0,Dl=0,Rl=Ei(0),jl=0,Ol=null,Ll=0,Ml=0,zl=0,Fl=null,Ul=null,Vl=0,Bl=1/0,ql=null,$l=!1,Hl=null,Kl=null,Wl=!1,Gl=null,Yl=0,Ql=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Nl)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Pl?Pl&-Pl:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Xl=null,Error(s(185));yt(e,n,r),0!==(2&Nl)&&e===Cl||(e===Cl&&(0===(2&Nl)&&(Ml|=n),4===jl&&oc(e,Pl)),rc(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(Bl=Xe()+500,Fi&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Cl?Pl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Fi=!0,Vi(e)}(lc.bind(null,e)):Vi(lc.bind(null,e)),ai(function(){0===(6&Nl)&&Bi()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Nl))throw Error(s(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Cl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Nl;Nl|=2;var a=pc();for(Cl===e&&Pl===t||(ql=null,Bl=Xe()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}Ts(),_l.current=a,Nl=i,null!==Al?t=0:(Cl=null,Pl=0,t=jl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ol,hc(e,0),oc(e,r),rc(e,Xe()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t))throw n=Ol,hc(e,0),oc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:kc(e,Ul,ql);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Vl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(kc.bind(null,e,Ul,ql),t);break}kc(e,Ul,ql);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(kc.bind(null,e,Ul,ql),r);break}kc(e,Ul,ql);break;default:throw Error(s(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&ac(t)),e}function ac(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function oc(e,t){for(t&=~zl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Nl))throw Error(s(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ol,hc(e,0),oc(e,t),rc(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Ul,ql),rc(e,Xe()),null}function cc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(Bl=Xe()+500,Fi&&Bi())}}function uc(e){null!==Gl&&0===Gl.tag&&0===(6&Nl)&&xc();var t=Nl;Nl|=1;var n=Il.transition,r=bt;try{if(Il.transition=null,bt=1,e)return e()}finally{bt=r,Il.transition=n,0===(6&(Nl=t))&&Bi()}}function dc(){Dl=Rl.current,_i(Rl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Qs(),_i(Ci),_i(Ni),na();break;case 5:Js(r);break;case 4:Qs();break;case 13:case 19:_i(Zs);break;case 10:Is(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Cl=e,Al=e=Rc(e.current,null),Pl=Dl=t,jl=0,Ol=null,zl=Ml=Ll=0,Ul=Fl=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(r=(n=Ps[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ps=null}return e}function fc(e,t){for(;;){var n=Al;try{if(Ts(),ra.current=Xa,ca){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(sa=0,la=oa=aa=null,ua=!1,da=0,Tl.current=null,null===n||null===n.return){jl=1,Ol=t,Al=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&mo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var y=go(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yo(y,o,l,0,t),ps(lo(c,l));break e}}a=c=lo(c,l),4!==jl&&(jl=2),null===Fl?Fl=[a]:Fl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Vs(a,fo(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Vs(a,po(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pc(){var e=_l.current;return _l.current=Xa,null===e?Xa:e}function mc(){0!==jl&&3!==jl&&2!==jl||(jl=4),null===Cl||0===(268435455&Ll)&&0===(268435455&Ml)||oc(Cl,Pl)}function gc(e,t){var n=Nl;Nl|=2;var r=pc();for(Cl===e&&Pl===t||(ql=null,hc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(Ts(),Nl=n,_l.current=r,null!==Al)throw Error(s(261));return Cl=null,Pl=0,jl}function yc(){for(;null!==Al;)bc(Al)}function vc(){for(;null!==Al&&!Ye();)bc(Al)}function bc(e){var t=Sl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wc(e):Al=t,Tl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wo(n,t,Dl)))return void(Al=n)}else{if(null!==(n=Go(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return jl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===jl&&(jl=5)}function kc(e,t,n){var r=bt,i=Il.transition;try{Il.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Gl);if(0!==(6&Nl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Cl&&(Al=Cl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wl||(Wl=!0,Cc(tt,function(){return xc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Il.transition,Il.transition=null;var o=bt;bt=1;var l=Nl;Nl|=4,Tl.current=null,function(e,t){if(ei=$t,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(k){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},$t=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(k){Ec(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),$t=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Qe(),Nl=l,bt=o,Il.transition=a}else e.current=n;if(Wl&&(Wl=!1,Gl=e,Yl=i),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($l)throw $l=!1,e=Hl,Hl=null,e;0!==(1&Yl)&&0!==e.tag&&xc(),a=e.pendingLanes,0!==(1&a)?e===Xl?Ql++:(Ql=0,Xl=e):Ql=0,Bi()}(e,t,n,r)}finally{Il.transition=i,bt=r}return null}function xc(){if(null!==Gl){var e=wt(Yl),t=Il.transition,n=bt;try{if(Il.transition=null,bt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Yl=0,0!==(6&Nl))throw Error(s(331));var i=Nl;for(Nl|=4,Jo=e.current;null!==Jo;){var a=Jo,o=a.child;if(0!==(16&Jo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Jo=u;null!==Jo;){var d=Jo;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Jo=h;else for(;null!==Jo;){var f=(d=Jo).sibling,p=d.return;if(sl(d),d===u){Jo=null;break}if(null!==f){f.return=p,Jo=f;break}Jo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Jo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(a=Jo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Jo=v;break e}Jo=a.return}}var b=e.current;for(Jo=b;null!==Jo;){var w=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Jo=w;else e:for(o=b;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){Ec(l,l.return,x)}if(l===o){Jo=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,Jo=k;break e}Jo=l.return}}if(Nl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Il.transition=t}}return!1}function Sc(e,t,n){e=Fs(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Fs(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cl===e&&(Pl&n)===n&&(4===jl||3===jl&&(130023424&Pl)===Pl&&500>Xe()-Vl?hc(e,0):zl|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=js(e,t))&&(yt(e,t,n),rc(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tc(e,n)}function Cc(e,t){return We(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Dc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case S:return Oc(n.children,i,a,t);case E:o=8,i|=8;break;case _:return(e=Pc(12,n,t,2|i)).elementType=_,e.lanes=a,e;case C:return(e=Pc(13,n,t,i)).elementType=C,e.lanes=a,e;case A:return(e=Pc(19,n,t,i)).elementType=A,e.lanes=a,e;case R:return Lc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:o=10;break e;case I:o=9;break e;case N:o=11;break e;case P:o=14;break e;case D:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Oc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,s,a,o,l){return e=new Fc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Vc(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Di(n))return Oi(e,n,t)}return t}function Bc(e,t,n,r,i,s,a,o,l){return(e=Uc(n,r,!0,e,0,s,0,o,l)).context=Vc(null),n=e.current,(s=zs(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Fs(n,s,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,s=ec(),a=tc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fs(i,t,a))&&(nc(e,i,a,s),Us(e,i,a)),a}function $c(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Co(t),fs();break;case 5:Xs(t);break;case 1:Di(t.type)&&Li(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(xs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(Ti(Zs,1&Zs.current),null!==(e=$o(e,t,n))?e.sibling:null);Ti(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Eo(e,t,n)}return $o(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qo(e,t),e=t.pendingProps;var i=Pi(t,Ni.current);Cs(t,n),i=ma(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=No(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),wo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(r),e=to(r,e),i){case 0:t=To(null,t,r,e,n);break e;case 1:t=Io(null,t,r,e,n);break e;case 11:t=ko(null,t,r,e,n);break e;case 14:t=xo(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,Io(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(Co(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ms(e,t),Bs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ao(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=Ao(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=ks(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=$o(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return Xs(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),_o(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Mo(e,t,n);case 4:return Ys(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ko(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ti(xs,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ci.current){t=$o(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=zs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ns(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ns(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Cs(t,n),r=r(i=As(i)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),xo(e,t,r,i=to(r.type,i),n);case 15:return So(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),qo(e,t),t.tag=1,Di(r)?(e=!0,Li(t)):e=!1,Cs(t,n),so(t,r,i),oo(t,r,i,n),No(null,t,r,!0,e,n);case 19:return Bo(e,t,n);case 22:return Eo(e,t,n)}throw Error(s(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=$c(a);o.call(e)}}qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=$c(a);s.call(e)}}var a=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=$c(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc(function(){qc(t,l,n,r)}),l}(n,t,e,i,r);return $c(a)}Yc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Yc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){qc(null,e,null,null)}),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Xe()),0===(6&Nl)&&(Bl=Xe()+500,Bi()))}break;case 13:uc(function(){var t=js(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=js(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=js(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},Et=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(s(90));W(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=cc,Ce=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,ki,Te,Ie,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var n=!1,r="",i=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{boolean:()=>np,booleanish:()=>rp,commaOrSpaceSeparated:()=>lp,commaSeparated:()=>op,number:()=>sp,overloadedBoolean:()=>ip,spaceSeparated:()=>ap});var t={};n.r(t),n.d(t,{attentionMarkers:()=>Lg,contentInitial:()=>Ag,disable:()=>Mg,document:()=>Cg,flow:()=>Dg,flowInitial:()=>Pg,insideSpan:()=>Og,string:()=>Rg,text:()=>jg});var r=n(43),i=n(391);const s=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==l)throw new o;const c=t<<2|s>>4;if(r.push(c),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==l){const e=a<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l=function(e){return function(e){const t=s(e);return a.encodeByteArray(t,!0)}(e).replace(/\./g,"")},c=function(e){try{return a.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const u=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,d=()=>{try{return u()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/YZTA-Bootcamp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAm8zrsQ82bx6a0lTEHy_CEnw73sHSGrO8",REACT_APP_FIREBASE_AUTH_DOMAIN:"yds-assistant.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"yds-assistant",REACT_APP_FIREBASE_STORAGE_BUCKET:"yds-assistant.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1082570080185",REACT_APP_FIREBASE_APP_ID:"1:1082570080185:web:d0d848f38c98cf2cfa8068",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-BCQ2KE55PR"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&c(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},h=e=>{var t,n;return null===(n=null===(t=d())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},f=()=>{var e;return null===(e=d())||void 0===e?void 0:e.config},p=e=>{var t;return null===(t=d())||void 0===t?void 0:t[`_${e}`]};class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function y(){return!function(){var e;const t=null===(e=d())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v(){try{return"object"===typeof indexedDB}catch(e){return!1}}class b extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,w.prototype.create)}}class w{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(k,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new b(n,s,t)}}const k=/\{\$([^}]+)}/g;function x(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(S(n)&&S(s)){if(!x(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function S(e){return null!==e&&"object"===typeof e}function E(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function _(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function T(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class I{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=N),void 0===r.error&&(r.error=N),void 0===r.complete&&(r.complete=N);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function N(){}function C(e){return e&&e._delegate?e._delegate:e}class A{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const P="[DEFAULT]";class D{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new m;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:P})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===P?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.component?this.component.multipleInstances?e:P:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class R{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new D(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const j=[];var O;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(O||(O={}));const L={debug:O.DEBUG,verbose:O.VERBOSE,info:O.INFO,warn:O.WARN,error:O.ERROR,silent:O.SILENT},M=O.INFO,z={[O.DEBUG]:"log",[O.VERBOSE]:"log",[O.INFO]:"info",[O.WARN]:"warn",[O.ERROR]:"error"},F=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=z[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class U{constructor(e){this.name=e,this._logLevel=M,this._logHandler=F,this._userLogHandler=null,j.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in O))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?L[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,O.DEBUG,...t),this._logHandler(this,O.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,O.VERBOSE,...t),this._logHandler(this,O.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,O.INFO,...t),this._logHandler(this,O.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,O.WARN,...t),this._logHandler(this,O.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,O.ERROR,...t),this._logHandler(this,O.ERROR,...t)}}let V,B;const q=new WeakMap,$=new WeakMap,H=new WeakMap,K=new WeakMap,W=new WeakMap;let G={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return $.get(e);if("objectStoreNames"===t)return e.objectStoreNames||H.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return X(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Y(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(B||(B=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(J(this),n),X(q.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return X(e.apply(J(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(J(this),t,...r);return H.set(s,t.sort?t.sort():[t]),X(s)}}function Q(e){return"function"===typeof e?Y(e):(e instanceof IDBTransaction&&function(e){if($.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});$.set(e,t)}(e),t=e,(V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,G):e);var t}function X(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(X(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&q.set(t,e)}).catch(()=>{}),W.set(t,e),t}(e);if(K.has(e))return K.get(e);const t=Q(e);return t!==e&&(K.set(e,t),W.set(t,e)),t}const J=e=>W.get(e);const Z=["get","getKey","getAll","getAllKeys","count"],ee=["put","add","delete","clear"],te=new Map;function ne(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(te.get(t))return te.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Z.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return te.set(t,s),s}G=(e=>({...e,get:(t,n,r)=>ne(t,n)||e.get(t,n,r),has:(t,n)=>!!ne(t,n)||e.has(t,n)}))(G);class re{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const ie="@firebase/app",se="0.10.13",ae=new U("@firebase/app"),oe="@firebase/app-compat",le="@firebase/analytics-compat",ce="@firebase/analytics",ue="@firebase/app-check-compat",de="@firebase/app-check",he="@firebase/auth",fe="@firebase/auth-compat",pe="@firebase/database",me="@firebase/data-connect",ge="@firebase/database-compat",ye="@firebase/functions",ve="@firebase/functions-compat",be="@firebase/installations",we="@firebase/installations-compat",ke="@firebase/messaging",xe="@firebase/messaging-compat",Se="@firebase/performance",Ee="@firebase/performance-compat",_e="@firebase/remote-config",Te="@firebase/remote-config-compat",Ie="@firebase/storage",Ne="@firebase/storage-compat",Ce="@firebase/firestore",Ae="@firebase/vertexai-preview",Pe="@firebase/firestore-compat",De="firebase",Re="[DEFAULT]",je={[ie]:"fire-core",[oe]:"fire-core-compat",[ce]:"fire-analytics",[le]:"fire-analytics-compat",[de]:"fire-app-check",[ue]:"fire-app-check-compat",[he]:"fire-auth",[fe]:"fire-auth-compat",[pe]:"fire-rtdb",[me]:"fire-data-connect",[ge]:"fire-rtdb-compat",[ye]:"fire-fn",[ve]:"fire-fn-compat",[be]:"fire-iid",[we]:"fire-iid-compat",[ke]:"fire-fcm",[xe]:"fire-fcm-compat",[Se]:"fire-perf",[Ee]:"fire-perf-compat",[_e]:"fire-rc",[Te]:"fire-rc-compat",[Ie]:"fire-gcs",[Ne]:"fire-gcs-compat",[Ce]:"fire-fst",[Pe]:"fire-fst-compat",[Ae]:"fire-vertex","fire-js":"fire-js",[De]:"fire-js-all"},Oe=new Map,Le=new Map,Me=new Map;function ze(e,t){try{e.container.addComponent(t)}catch(n){ae.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Fe(e){const t=e.name;if(Me.has(t))return ae.debug(`There were multiple attempts to register component ${t}.`),!1;Me.set(t,e);for(const n of Oe.values())ze(n,e);for(const n of Le.values())ze(n,e);return!0}function Ue(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ve(e){return void 0!==e.settings}const Be=new w("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class qe{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new A("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Be.create("app-deleted",{appName:this._name})}}const $e="10.14.1";function He(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Re,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Be.create("bad-app-name",{appName:String(i)});if(n||(n=f()),!n)throw Be.create("no-options");const s=Oe.get(i);if(s){if(x(n,s.options)&&x(r,s.config))return s;throw Be.create("duplicate-app",{appName:i})}const a=new R(i);for(const l of Me.values())a.addComponent(l);const o=new qe(n,r,a);return Oe.set(i,o),o}function Ke(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re;const t=Oe.get(e);if(!t&&e===Re&&f())return He();if(!t)throw Be.create("no-app",{appName:e});return t}function We(e,t,n){var r;let i=null!==(r=je[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void ae.warn(e.join(" "))}Fe(new A(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const Ge="firebase-heartbeat-store";let Ye=null;function Qe(){return Ye||(Ye=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=X(a);return r&&a.addEventListener("upgradeneeded",e=>{r(X(a.result),e.oldVersion,e.newVersion,X(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ge)}catch(n){console.warn(n)}}}).catch(e=>{throw Be.create("idb-open",{originalErrorMessage:e.message})})),Ye}async function Xe(e,t){try{const n=(await Qe()).transaction(Ge,"readwrite"),r=n.objectStore(Ge);await r.put(t,Je(e)),await n.done}catch(n){if(n instanceof b)ae.warn(n.message);else{const e=Be.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});ae.warn(e.message)}}}function Je(e){return`${e.name}!${e.options.appId}`}class Ze{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tt(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=et();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(n){ae.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=et(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),nt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=l(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return ae.warn(t),""}}}function et(){return(new Date).toISOString().substring(0,10)}class tt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!v()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Qe()).transaction(Ge),n=await t.objectStore(Ge).get(Je(e));return await t.done,n}catch(t){if(t instanceof b)ae.warn(t.message);else{const e=Be.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});ae.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Xe(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Xe(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function nt(e){return l(JSON.stringify({version:2,heartbeats:e})).length}var rt;rt="",Fe(new A("platform-logger",e=>new re(e),"PRIVATE")),Fe(new A("heartbeat",e=>new Ze(e),"PRIVATE")),We(ie,se,rt),We(ie,se,"esm2017"),We("fire-js","");function it(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function st(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const at=st,ot=new w("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),lt=new U("@firebase/auth");function ct(e){if(lt.logLevel<=O.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];lt.error(`Auth (${$e}): ${e}`,...n)}}function ut(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw mt(e,...n)}function dt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return mt(e,...n)}function ht(e,t,n){const r=Object.assign(Object.assign({},at()),{[t]:n});return new w("auth","Firebase",r).create(t,{appName:e.name})}function ft(e){return ht(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pt(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ut(e,"argument-error"),ht(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return ot.create(e,...n)}function gt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw mt(t,...r)}}function yt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ct(t),new Error(t)}function vt(e,t){e||yt(t)}function bt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function wt(){return"http:"===kt()||"https:"===kt()}function kt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function xt(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(wt()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class St{constructor(e,t){this.shortDelay=e,this.longDelay=t,vt(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return xt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Et(e,t){vt(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class _t{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void yt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void yt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void yt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},It=new St(3e4,6e4);function Nt(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ct(e,t,n,r){return At(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=E(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),_t.fetch()(Dt(e,e.config.apiHost,n,a),l)})}async function At(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Tt),t);try{const t=new jt(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Ot(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Ot(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Ot(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Ot(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw ht(e,o,a);ut(e,o)}}catch(i){if(i instanceof b)throw i;ut(e,"network-request-failed",{message:String(i)})}}async function Pt(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Ct(e,t,n,r,i);return"mfaPendingCredential"in s&&ut(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Dt(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Et(e.config,i):`${e.config.apiScheme}://${i}`}function Rt(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jt{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(dt(this.auth,"network-request-failed")),It.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ot(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=dt(e,t,r);return i.customData._tokenResponse=n,i}function Lt(e){return void 0!==e&&void 0!==e.enterprise}class Mt{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Rt(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function zt(e,t){return Ct(e,"GET","/v2/recaptchaConfig",Nt(e,t))}async function Ft(e,t){return Ct(e,"POST","/v1/accounts:lookup",t)}function Ut(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Vt(e){return 1e3*Number(e)}function Bt(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ct("JWT malformed, contained fewer than 3 sections"),null;try{const e=c(n);return e?JSON.parse(e):(ct("Failed to decode base64 JWT payload"),null)}catch(i){return ct("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function qt(e){const t=Bt(e);return gt(t,"internal-error"),gt("undefined"!==typeof t.exp,"internal-error"),gt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function $t(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof b&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Ht{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class Kt{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ut(this.lastLoginAt),this.creationTime=Ut(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wt(e){var t;const n=e.auth,r=await e.getIdToken(),i=await $t(e,Ft(n,{idToken:r}));gt(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Gt(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Kt(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Gt(e){return e.map(e=>{var{providerId:t}=e,n=it(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Yt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){gt(e.idToken,"internal-error"),gt("undefined"!==typeof e.idToken,"internal-error"),gt("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):qt(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){gt(0!==e.length,"internal-error");const t=qt(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(gt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await At(e,{},async()=>{const n=E({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Dt(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_t.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Yt;return n&&(gt("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(gt("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(gt("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yt,this.toJSON())}_performRefresh(){return yt("not implemented")}}function Qt(e,t){gt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Xt{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=it(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ht(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Kt(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await $t(this,this.stsTokenManager.getToken(this.auth,e));return gt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=C(e),r=await n.getIdToken(t),i=Bt(r);gt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ut(Vt(i.auth_time)),issuedAtTime:Ut(Vt(i.iat)),expirationTime:Ut(Vt(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=C(e);await Wt(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(gt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Wt(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ve(this.auth.app))return Promise.reject(ft(this.auth));const e=await this.getIdToken();return await $t(this,async function(e,t){return Ct(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:k,stsTokenManager:x}=t;gt(v&&x,e,"internal-error");const S=Yt.fromJSON(this.name,x);gt("string"===typeof v,e,"internal-error"),Qt(u,e.name),Qt(d,e.name),gt("boolean"===typeof b,e,"internal-error"),gt("boolean"===typeof w,e,"internal-error"),Qt(h,e.name),Qt(f,e.name),Qt(p,e.name),Qt(m,e.name),Qt(g,e.name),Qt(y,e.name);const E=new Xt({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return k&&Array.isArray(k)&&(E.providerData=k.map(e=>Object.assign({},e))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Yt;r.updateFromServerResponse(t);const i=new Xt({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Wt(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];gt(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Gt(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Yt;a.updateFromIdToken(n);const o=new Xt({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Kt(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const Jt=new Map;function Zt(e){vt(e instanceof Function,"Expected a class definition");let t=Jt.get(e);return t?(vt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Jt.set(e,t),t)}class en{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}en.type="NONE";const tn=en;function nn(e,t,n){return`firebase:${e}:${t}:${n}`}class rn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=nn(this.userKey,r.apiKey,i),this.fullPersistenceKey=nn("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xt._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new rn(Zt(tn),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Zt(tn);const s=nn(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=Xt._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new rn(i,e,n)):new rn(i,e,n)}}function sn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(cn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(an(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(dn(t))return"Blackberry";if(hn(t))return"Webos";if(on(t))return"Safari";if((t.includes("chrome/")||ln(t))&&!t.includes("edge/"))return"Chrome";if(un(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function an(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g();return/firefox\//i.test(e)}function on(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:g()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ln(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g();return/crios\//i.test(e)}function cn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g();return/iemobile/i.test(e)}function un(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g();return/android/i.test(e)}function dn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g();return/blackberry/i.test(e)}function hn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g();return/webos/i.test(e)}function fn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function pn(){return function(){const e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function mn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g();return fn(e)||un(e)||hn(e)||dn(e)||/windows phone/i.test(e)||cn(e)}function gn(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=sn(g());break;case"Worker":t=`${sn(g())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${$e}/${r}`}class yn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class vn{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class bn{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kn(this),this.idTokenSubscription=new kn(this),this.beforeStateQueue=new yn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ot,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zt(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await rn.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Ft(this,{idToken:e}),n=await Xt._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ve(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Wt(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ve(this.app))return Promise.reject(ft(this));const t=e?C(e):null;return t&&gt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&gt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ve(this.app)?Promise.reject(ft(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ve(this.app)?Promise.reject(ft(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zt(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Ct(e,"GET","/v2/passwordPolicy",Nt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new vn(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new w("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Ct(e,"POST","/v2/accounts:revokeToken",Nt(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zt(e)||this._popupRedirectResolver;gt(t,this,"argument-error"),this.redirectPersistenceManager=await rn.create(this,[Zt(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(lt.logLevel<=O.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];lt.warn(`Auth (${$e}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function wn(e){return C(e)}class kn{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new I(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xn={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Sn(e){return xn.loadJS(e)}function En(e){return`__${e}${Math.floor(1e6*Math.random())}`}class _n{constructor(e){this.type="recaptcha-enterprise",this.auth=wn(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Lt(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{zt(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Mt(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Lt(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=xn.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Sn(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Tn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new _n(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function In(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Tn(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Tn(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}function Nn(e,t,n){const r=wn(e);gt(r._canInitEmulator,r,"emulator-config-failed"),gt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Cn(t),{host:a,port:o}=function(e){const t=Cn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:An(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:An(t)}}}(t),l=null===o?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Cn(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function An(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Pn{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return yt("not implemented")}_getIdTokenResponse(e){return yt("not implemented")}_linkToIdToken(e,t){return yt("not implemented")}_getReauthenticationResolver(e){return yt("not implemented")}}async function Dn(e,t){return Ct(e,"POST","/v1/accounts:signUp",t)}async function Rn(e,t){return Pt(e,"POST","/v1/accounts:signInWithPassword",Nt(e,t))}async function jn(e,t){return Ct(e,"POST","/v1/accounts:sendOobCode",Nt(e,t))}async function On(e,t){return jn(e,t)}class Ln extends Pn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ln(e,t,"password")}static _fromEmailAndCode(e,t){return new Ln(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return In(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Rn);case"emailLink":return async function(e,t){return Pt(e,"POST","/v1/accounts:signInWithEmailLink",Nt(e,t))}(e,{email:this._email,oobCode:this._password});default:ut(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return In(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Dn);case"emailLink":return async function(e,t){return Pt(e,"POST","/v1/accounts:signInWithEmailLink",Nt(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ut(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Mn(e,t){return Pt(e,"POST","/v1/accounts:signInWithIdp",Nt(e,t))}class zn extends Pn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ut("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=it(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new zn(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Mn(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Mn(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Mn(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=E(t)}return e}}const Fn={USER_NOT_FOUND:"user-not-found"};class Un extends Pn{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Un({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Un({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Pt(e,"POST","/v1/accounts:signInWithPhoneNumber",Nt(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Pt(e,"POST","/v1/accounts:signInWithPhoneNumber",Nt(e,t));if(n.temporaryProof)throw Ot(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Pt(e,"POST","/v1/accounts:signInWithPhoneNumber",Nt(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Fn)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Un({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Vn{constructor(e){var t,n,r,i,s,a;const o=_(T(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);gt(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=_(T(e)).link,n=t?_(T(t)).deep_link_id:null,r=_(T(e)).deep_link_id;return(r?_(T(r)).link:null)||r||n||t||e}(e);try{return new Vn(t)}catch(n){return null}}}class Bn{constructor(){this.providerId=Bn.PROVIDER_ID}static credential(e,t){return Ln._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Vn.parseLink(t);return gt(n,"argument-error"),Ln._fromEmailAndCode(e,n.code,n.tenantId)}}Bn.PROVIDER_ID="password",Bn.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Bn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class qn{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $n extends qn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Hn extends $n{constructor(){super("facebook.com")}static credential(e){return zn._fromParams({providerId:Hn.PROVIDER_ID,signInMethod:Hn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hn.credentialFromTaggedObject(e)}static credentialFromError(e){return Hn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Hn.credential(t.oauthAccessToken)}catch(n){return null}}}Hn.FACEBOOK_SIGN_IN_METHOD="facebook.com",Hn.PROVIDER_ID="facebook.com";class Kn extends $n{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zn._fromParams({providerId:Kn.PROVIDER_ID,signInMethod:Kn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Kn.credentialFromTaggedObject(e)}static credentialFromError(e){return Kn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Kn.credential(n,r)}catch(i){return null}}}Kn.GOOGLE_SIGN_IN_METHOD="google.com",Kn.PROVIDER_ID="google.com";class Wn extends $n{constructor(){super("github.com")}static credential(e){return zn._fromParams({providerId:Wn.PROVIDER_ID,signInMethod:Wn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wn.credentialFromTaggedObject(e)}static credentialFromError(e){return Wn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Wn.credential(t.oauthAccessToken)}catch(n){return null}}}Wn.GITHUB_SIGN_IN_METHOD="github.com",Wn.PROVIDER_ID="github.com";class Gn extends $n{constructor(){super("twitter.com")}static credential(e,t){return zn._fromParams({providerId:Gn.PROVIDER_ID,signInMethod:Gn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Gn.credentialFromTaggedObject(e)}static credentialFromError(e){return Gn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Gn.credential(n,r)}catch(i){return null}}}async function Yn(e,t){return Pt(e,"POST","/v1/accounts:signUp",Nt(e,t))}Gn.TWITTER_SIGN_IN_METHOD="twitter.com",Gn.PROVIDER_ID="twitter.com";class Qn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Xt._fromIdTokenResponse(e,n,r),s=Xn(n);return new Qn({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Xn(n);return new Qn({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Xn(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Jn extends b{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Jn.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Jn(e,t,n,r)}}function Zn(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Jn._fromErrorAndOperation(e,n,t,r);throw n})}async function er(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await $t(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Qn._forOperation(e,"link",r)}async function tr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Ve(r.app))return Promise.reject(ft(r));const i="reauthenticate";try{const s=await $t(e,Zn(r,i,t,e),n);gt(s.idToken,r,"internal-error");const a=Bt(s.idToken);gt(a,r,"internal-error");const{sub:o}=a;return gt(e.uid===o,r,"user-mismatch"),Qn._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null===s||void 0===s?void 0:s.code)&&ut(r,"user-mismatch"),s}}async function nr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ve(e.app))return Promise.reject(ft(e));const r="signIn",i=await Zn(e,r,t),s=await Qn._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function rr(e,t){return nr(wn(e),t)}function ir(e,t,n){var r;gt((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),gt("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(gt(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(gt(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function sr(e){const t=wn(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ar(e,t){const n={identifier:t,continueUri:wt()?bt():"http://localhost"},{signinMethods:r}=await async function(e,t){return Ct(e,"POST","/v1/accounts:createAuthUri",Nt(e,t))}(C(e),n);return r||[]}function or(e){return C(e).signOut()}new WeakMap;const lr="__sak";class cr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lr,"1"),this.storage.removeItem(lr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ur extends cr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);pn()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ur.type="LOCAL";const dr=ur;class hr extends cr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}hr.type="SESSION";const fr=hr;class pr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new pr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function mr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}pr.receivers=[];class gr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=mr("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function yr(){return window}function vr(){return"undefined"!==typeof yr().WorkerGlobalScope&&"function"===typeof yr().importScripts}const br="firebaseLocalStorageDb",wr="firebaseLocalStorage",kr="fbase_key";class xr{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Sr(e,t){return e.transaction([wr],t?"readwrite":"readonly").objectStore(wr)}function Er(){const e=indexedDB.open(br,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(wr,{keyPath:kr})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(wr)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(br);return new xr(e).toPromise()}(),t(await Er()))})})}async function _r(e,t,n){const r=Sr(e,!0).put({[kr]:t,value:n});return new xr(r).toPromise()}function Tr(e,t){const n=Sr(e,!0).delete(t);return new xr(n).toPromise()}class Ir{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Er()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pr._getInstance(vr()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new gr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Er();return await _r(e,lr,"1"),await Tr(e,lr),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>_r(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Sr(e,!1).get(t),r=await new xr(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Tr(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Sr(e,!1).getAll();return new xr(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ir.type="LOCAL";const Nr=Ir;En("rcb"),new St(3e4,6e4);const Cr="recaptcha";async function Ar(e,t,n){var r;const i=await n.verify();try{let s;if(gt("string"===typeof i,e,"argument-error"),gt(n.type===Cr,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){gt("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ct(e,"POST","/v2/accounts/mfaEnrollment:start",Nt(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{gt("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;gt(n,e,"missing-multi-factor-info");const a=await function(e,t){return Ct(e,"POST","/v2/accounts/mfaSignIn:start",Nt(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ct(e,"POST","/v1/accounts:sendVerificationCode",Nt(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Pr{constructor(e){this.providerId=Pr.PROVIDER_ID,this.auth=wn(e)}verifyPhoneNumber(e,t){return Ar(this.auth,e,C(t))}static credential(e,t){return Un._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Pr.credentialFromTaggedObject(t)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Un._fromTokenResponse(n,r):null}}function Dr(e,t){return t?Zt(t):(gt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Pr.PROVIDER_ID="phone",Pr.PHONE_SIGN_IN_METHOD="phone";class Rr extends Pn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Mn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Mn(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jr(e){return nr(e.auth,new Rr(e),e.bypassAuthState)}function Or(e){const{auth:t,user:n}=e;return gt(n,t,"internal-error"),tr(n,new Rr(e),e.bypassAuthState)}async function Lr(e){const{auth:t,user:n}=e;return gt(n,t,"internal-error"),er(n,new Rr(e),e.bypassAuthState)}class Mr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jr;case"linkViaPopup":case"linkViaRedirect":return Lr;case"reauthViaPopup":case"reauthViaRedirect":return Or;default:ut(this.auth,"internal-error")}}resolve(e){vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zr=new St(2e3,1e4);class Fr extends Mr{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Fr.currentPopupAction&&Fr.currentPopupAction.cancel(),Fr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return gt(e,this.auth,"internal-error"),e}async onExecution(){vt(1===this.filter.length,"Popup operations only handle one event");const e=mr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(dt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(dt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dt(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,zr.get())};e()}}Fr.currentPopupAction=null;const Ur=new Map;class Vr extends Mr{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ur.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=$r(t),r=qr(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Ur.set(this.auth._key(),e)}return this.bypassAuthState||Ur.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Br(e,t){Ur.set(e._key(),t)}function qr(e){return Zt(e._redirectPersistence)}function $r(e){return nn("pendingRedirect",e.config.apiKey,e.name)}async function Hr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ve(e.app))return Promise.reject(ft(e));const r=wn(e),i=Dr(r,t),s=new Vr(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Kr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Gr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(dt(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wr(e))}saveEventToCache(e){this.cachedEventUids.add(Wr(e)),this.lastProcessedEventTime=Date.now()}}function Wr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Gr(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Yr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qr=/^https?/;async function Xr(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Ct(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Jr(r))return}catch(n){}ut(e,"unauthorized-domain")}function Jr(e){const t=bt(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Qr.test(n))return!1;if(Yr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Zr=new St(3e4,6e4);function ei(){const e=yr().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ti(e){return new Promise((t,n)=>{var r,i,s;function a(){ei(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ei(),n(dt(e,"network-request-failed"))},timeout:Zr.get()})}if(null===(i=null===(r=yr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=yr().gapi)||void 0===s?void 0:s.load)){const t=En("iframefcb");return yr()[t]=()=>{gapi.load?a():n(dt(e,"network-request-failed"))},Sn(`${xn.gapiScript}?onload=${t}`).catch(e=>n(e))}a()}}).catch(e=>{throw ni=null,e})}let ni=null;const ri=new St(5e3,15e3),ii={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},si=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ai(e){const t=e.config;gt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Et(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:$e},i=si.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${E(r).slice(1)}`}async function oi(e){const t=await function(e){return ni=ni||ti(e),ni}(e),n=yr().gapi;return gt(n,e,"internal-error"),t.open({where:document.body,url:ai(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ii,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=dt(e,"network-request-failed"),s=yr().setTimeout(()=>{r(i)},ri.get());function a(){yr().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const li={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ci{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ui(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},li),{width:r.toString(),height:i.toString(),top:s,left:a}),c=g().toLowerCase();n&&(o=ln(c)?"_blank":n),an(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`},"");if(function(){var e;return fn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:g())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new ci(null);const d=window.open(t||"",o,u);gt(d,e,"popup-blocked");try{d.focus()}catch(h){}return new ci(d)}const di="__/auth/handler",hi="emulator/auth/handler",fi=encodeURIComponent("fac");async function pi(e,t,n,r,i,s){gt(e.config.authDomain,e,"auth-domain-config-required"),gt(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:$e,eventId:i};if(t instanceof qn){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof $n){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${fi}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${di}`;return Et(t,hi)}(e)}?${E(o).slice(1)}${c}`}const mi="webStorageSupport";const gi=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fr,this._completeRedirectFn=Hr,this._overrideRedirectResult=Br}async _openPopup(e,t,n,r){var i;vt(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ui(e,await pi(e,t,n,bt(),r),mr())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){yr().location.href=e}(await pi(e,t,n,bt(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(vt(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await oi(e),n=new Kr(e);return t.register("authEvent",t=>{gt(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(mi,{type:mi},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[mi];void 0!==i&&t(!!i),ut(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Xr(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return mn()||on()||fn()}};var yi="@firebase/auth",vi="1.7.9";class bi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const wi=p("authIdTokenMaxAge")||300;let ki=null;var xi;xn={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=dt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},xi="Browser",Fe(new A("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;gt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:xi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gn(xi)},c=new bn(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zt);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Fe(new A("auth-internal",e=>(e=>new bi(e))(wn(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),We(yi,vi,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(xi)),We(yi,vi,"esm2017");var Si,Ei,_i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ti={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Ei=Ti.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Si=Ti.Integer=r}).apply("undefined"!==typeof _i?_i:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ii,Ni,Ci,Ai,Pi,Di,Ri,ji,Oi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Li={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Oi&&Oi];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function x(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout(()=>{throw e},0)}function E(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new T,e=>e.reset());class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let I,N=!1,C=new class{constructor(){this.h=this.g=null}add(e,t){const n=_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=i.Promise.resolve(void 0);I=()=>{e.then(P)}};var P=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(n){S(n)}var t=_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}N=!1};function D(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function O(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}d(O,R);var L={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),z=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++z,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=q(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new F(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var $="closure_lm_"+(1e6*Math.random()|0),H={};function K(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):W(e,t,n,!1,r,i)}function W(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[$]=l=new V(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)j||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):W(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(s=e.g[t],n,r,i))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[$]=null)):U(e)}}}function X(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function Z(e){return(e=e[$])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){D.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;k(t=new R(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,D),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends D{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){D.call(this),this.h=e,this.g={}}d(le,D);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&Q(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){R.call(this,"d")}function be(){R.call(this,"c")}d(ve,R),d(be,R);var we={},ke=null;function xe(){return ke=ke||new ne}function Se(e){R.call(this,we.La,e)}function Ee(e){const t=xe();re(t,new Se(t))}function _e(e,t){R.call(this,we.STAT_EVENT,e),this.stat=t}function Te(e){const t=xe();re(t,new _e(t,e))}function Ie(e,t){R.call(this,we.Ma,e),this.size=t}function Ne(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ce(){this.g=!0}function Ae(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}we.La="serverreachability",d(Se,R),we.STAT_EVENT="statevent",d(_e,R),we.Ma="timingevent",d(Ie,R),Ce.prototype.xa=function(){this.g=!1},Ce.prototype.info=function(){};var Pe,De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function je(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(je,pe),je.prototype.g=function(){return new XMLHttpRequest},je.prototype.i=function(){return{}},Pe=new je;var Me={},ze={};function Fe(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),qe(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),_t(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=K(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ze:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?ze:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,$e(e,e.I)}function $e(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ne(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function We(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Qt(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ne(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(He(o),qe(o)),r.g=a}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(u){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=h||7==t||Ee(),He(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Kt(this.g);e="";var s=r.length,a=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){We(this),Ke(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),We(this),Ke(this);break e}Ae(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==ze){4==h&&(this.s=4,Te(14),n=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Te(15),Ae(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ae(this.i,this.l,e,null),Ge(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(d),d.M=!0,Te(11))}}else Ae(this.i,this.l,o,"[Invalid Chunked Response]"),We(this),Ke(this)}else Ae(this.i,this.l,o,null),Ge(this,o);4==h&&We(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=x(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),We(this),Ke(this)}}}catch(Mi){}},Oe.prototype.cancel=function(){this.J=!0,We(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ee(),Te(17)),We(this),this.s=2,Ke(this)):$e(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new kt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new kt(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof kt?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),_t(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new kt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function kt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function St(e,t){xt(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Et(e,t){return xt(e),t=Tt(e,t),e.g.has(t)}function _t(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),h(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function It(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Nt(){this.g=new fe}function Ct(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function At(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Dt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,jt(e)}function jt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=kt.prototype).add=function(e,t){xt(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"===typeof e)Et(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,Et(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(At,pe),At.prototype.g=function(){return new Pt(this.l,this.j)},At.prototype.i=(mt={},function(){return mt}),d(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,jt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,jt(this)),this.g&&(this.readyState=3,jt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):jt(this),3==this.readyState&&Dt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var zt=/^https?$/i,Ft=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Vt(e),qt(e)}function Vt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!zt.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Ht(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Vt(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){$t(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function $t(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ui){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new Nt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Xt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}dn(e)}function Qt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Xt(e){Qt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;I||A(),N||(I(),N=!0),C.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function en(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Ct(o,e,"req"+n+"_")}catch(Mi){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;I||A(),N||(I(),N=!0),C.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ne(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ue(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=xe(),new Ie(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ne(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new Ce;if(i.Image){const r=new Image;r.onload=u(It,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(It,n,"TestLoadImage: error",!1,t,r),r.onabort=u(It,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(It,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ce;const n=new AbortController,r=setTimeout(()=>{n.abort(),It(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?It(0,0,!0,t):It(0,0,!1,t)}).catch(()=>{clearTimeout(r),It(0,0,!1,t)})}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),dn(e),Xt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new At({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Ut(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Ut(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Oe(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),k(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ot(s)))+"&"+t:this.m&&Lt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Fe(i,n,null)):Fe(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ne(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Qt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Yt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,gn.aa.N.call(this)},d(yn,ve),d(vn,be),d(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new yn(e))},bn.prototype.sa=function(e){re(this.g,new vn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,ji=Li.createWebChannelTransport=function(){return new mn},Ri=Li.getStatEventTarget=function(){return xe()},Di=Li.Event=we,Pi=Li.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,Ai=Li.ErrorCode=De,Re.COMPLETE="complete",Ci=Li.EventType=Re,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Ni=Li.WebChannel=ge,Li.FetchXmlHttpFactory=At,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,Ii=Li.XhrIo=Mt}).apply("undefined"!==typeof Oi?Oi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Mi="@firebase/firestore";class zi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zi.UNAUTHENTICATED=new zi(null),zi.GOOGLE_CREDENTIALS=new zi("google-credentials-uid"),zi.FIRST_PARTY=new zi("first-party-uid"),zi.MOCK_USER=new zi("mock-user");let Fi="10.14.0";const Ui=new U("@firebase/firestore");function Vi(){return Ui.logLevel}function Bi(e){if(Ui.logLevel<=O.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Hi);Ui.debug(`Firestore (${Fi}): ${e}`,...i)}}function qi(e){if(Ui.logLevel<=O.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Hi);Ui.error(`Firestore (${Fi}): ${e}`,...i)}}function $i(e){if(Ui.logLevel<=O.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Hi);Ui.warn(`Firestore (${Fi}): ${e}`,...i)}}function Hi(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ki(){const e=`FIRESTORE (${Fi}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw qi(e),new Error(e)}function Wi(e,t){e||Ki()}function Gi(e,t){return e}const Yi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qi extends b{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ji{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zi.UNAUTHENTICATED))}shutdown(){}}class es{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ts{constructor(e){this.t=e,this.currentUser=zi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Wi(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Xi,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Bi("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Bi("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Xi)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Bi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Wi("string"==typeof t.accessToken),new Ji(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Wi(null===e||"string"==typeof e),new zi(e)}}class ns{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=zi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rs{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new ns(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(zi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class is{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ss{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Wi(void 0===this.o);const n=e=>{null!=e.error&&Bi("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Bi("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Bi("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Bi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Wi("string"==typeof e.token),this.R=e.token,new is(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function as(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class os{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=as(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function ls(e,t){return e<t?-1:e>t?1:0}function cs(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class us{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Qi(Yi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Qi(Yi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Qi(Yi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qi(Yi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return us.fromMillis(Date.now())}static fromDate(e){return us.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new us(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ls(this.nanoseconds,e.nanoseconds):ls(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ds{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ds(e)}static min(){return new ds(new us(0,0))}static max(){return new ds(new us(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class hs{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ki(),void 0===n?n=e.length-t:n>e.length-t&&Ki(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===hs.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hs?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fs extends hs{construct(e,t,n){return new fs(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Qi(Yi.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(e=>e.length>0))}return new fs(e)}static emptyPath(){return new fs([])}}const ps=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ms extends hs{construct(e,t,n){return new ms(e,t,n)}static isValidIdentifier(e){return ps.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ms.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ms(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Qi(Yi.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Qi(Yi.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Qi(Yi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Qi(Yi.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ms(t)}static emptyPath(){return new ms([])}}class gs{constructor(e){this.path=e}static fromPath(e){return new gs(fs.fromString(e))}static fromName(e){return new gs(fs.fromString(e).popFirst(5))}static empty(){return new gs(fs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fs.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fs.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gs(new fs(e.slice()))}}class ys{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ys.UNKNOWN_ID=-1;function vs(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ds.fromTimestamp(1e9===r?new us(n+1,0):new us(n,r));return new ws(i,gs.empty(),t)}function bs(e){return new ws(e.readTime,e.key,-1)}class ws{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ws(ds.min(),gs.empty(),-1)}static max(){return new ws(ds.max(),gs.empty(),-1)}}function ks(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=gs.comparator(e.documentKey,t.documentKey),0!==n?n:ls(e.largestBatchId,t.largestBatchId))}const xs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ss{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Es(e){if(e.code!==Yi.FAILED_PRECONDITION||e.message!==xs)throw e;Bi("LocalStore","Unexpectedly lost primary lease")}class _s{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ki(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _s((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _s?t:_s.resolve(t)}catch(e){return _s.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_s.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_s.reject(t)}static resolve(e){return new _s((t,n)=>{t(e)})}static reject(e){return new _s((t,n)=>{n(e)})}static waitFor(e){return new _s((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=_s.resolve(!1);for(const n of e)t=t.next(e=>e?_s.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new _s((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new _s((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Ts(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Is(e){return"IndexedDbTransactionError"===e.name}class Ns{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Cs(e){return null==e}function As(e){return 0===e&&1/e==-1/0}function Ps(e){return"number"==typeof e&&Number.isInteger(e)&&!As(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Ns.oe=-1;const Ds=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Rs=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],js=Rs,Os=[...js,"indexConfiguration","indexState","indexEntries"];function Ls(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ms(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function zs(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Fs{constructor(e,t){this.comparator=e,this.root=t||Vs.EMPTY}insert(e,t){return new Fs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vs.BLACK,null,null))}remove(e){return new Fs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Us(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Us(this.root,e,this.comparator,!1)}getReverseIterator(){return new Us(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Us(this.root,e,this.comparator,!0)}}class Us{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vs{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Vs.RED,this.left=null!=r?r:Vs.EMPTY,this.right=null!=i?i:Vs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Vs(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Vs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Vs.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ki();if(this.right.isRed())throw Ki();const e=this.left.check();if(e!==this.right.check())throw Ki();return e+(this.isRed()?0:1)}}Vs.EMPTY=null,Vs.RED=!0,Vs.BLACK=!1,Vs.EMPTY=new class{constructor(){this.size=0}get key(){throw Ki()}get value(){throw Ki()}get color(){throw Ki()}get left(){throw Ki()}get right(){throw Ki()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Vs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bs{constructor(e){this.comparator=e,this.data=new Fs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qs(this.data.getIterator())}getIteratorFrom(e){return new qs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Bs))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bs(this.comparator);return t.data=e,t}}class qs{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $s{constructor(e){this.fields=e,e.sort(ms.comparator)}static empty(){return new $s([])}unionWith(e){let t=new Bs(ms.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new $s(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cs(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Hs extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ks{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Hs("Invalid base64 string: "+e):e}}(e);return new Ks(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ks(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ls(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ks.EMPTY_BYTE_STRING=new Ks("");const Ws=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(e){if(Wi(!!e),"string"==typeof e){let t=0;const n=Ws.exec(e);if(Wi(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ys(e.seconds),nanos:Ys(e.nanos)}}function Ys(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Qs(e){return"string"==typeof e?Ks.fromBase64String(e):Ks.fromUint8Array(e)}function Xs(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Js(e){const t=e.mapValue.fields.__previous_value__;return Xs(t)?Js(t):t}function Zs(e){const t=Gs(e.mapValue.fields.__local_write_time__.timestampValue);return new us(t.seconds,t.nanos)}class ea{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class ta{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ta("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ta&&e.projectId===this.projectId&&e.database===this.database}}const na={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ra(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Xs(e)?4:ba(e)?9007199254740991:ya(e)?10:11:Ki()}function ia(e,t){if(e===t)return!0;const n=ra(e);if(n!==ra(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Zs(e).isEqual(Zs(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Gs(e.timestampValue),r=Gs(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Qs(e.bytesValue).isEqual(Qs(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ys(e.geoPointValue.latitude)===Ys(t.geoPointValue.latitude)&&Ys(e.geoPointValue.longitude)===Ys(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ys(e.integerValue)===Ys(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ys(e.doubleValue),r=Ys(t.doubleValue);return n===r?As(n)===As(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return cs(e.arrayValue.values||[],t.arrayValue.values||[],ia);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ls(n)!==Ls(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ia(n[i],r[i])))return!1;return!0}(e,t);default:return Ki()}}function sa(e,t){return void 0!==(e.values||[]).find(e=>ia(e,t))}function aa(e,t){if(e===t)return 0;const n=ra(e),r=ra(t);if(n!==r)return ls(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ls(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ys(e.integerValue||e.doubleValue),r=Ys(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return oa(e.timestampValue,t.timestampValue);case 4:return oa(Zs(e),Zs(t));case 5:return ls(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Qs(e),r=Qs(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ls(n[i],r[i]);if(0!==e)return e}return ls(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ls(Ys(e.latitude),Ys(t.latitude));return 0!==n?n:ls(Ys(e.longitude),Ys(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return la(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=o.value)||void 0===r?void 0:r.arrayValue,u=ls((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:la(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===na.mapValue&&t===na.mapValue)return 0;if(e===na.mapValue)return 1;if(t===na.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=ls(r[a],s[a]);if(0!==e)return e;const t=aa(n[r[a]],i[s[a]]);if(0!==t)return t}return ls(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Ki()}}function oa(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ls(e,t);const n=Gs(e),r=Gs(t),i=ls(n.seconds,r.seconds);return 0!==i?i:ls(n.nanos,r.nanos)}function la(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=aa(n[i],r[i]);if(e)return e}return ls(n.length,r.length)}function ca(e){return ua(e)}function ua(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Gs(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Qs(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return gs.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ua(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${ua(e.fields[i])}`;return n+"}"}(e.mapValue):Ki()}function da(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ha(e){return!!e&&"integerValue"in e}function fa(e){return!!e&&"arrayValue"in e}function pa(e){return!!e&&"nullValue"in e}function ma(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ga(e){return!!e&&"mapValue"in e}function ya(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function va(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ms(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=va(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=va(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ba(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class wa{constructor(e){this.value=e}static empty(){return new wa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ga(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=va(t)}setAll(e){let t=ms.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=va(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ga(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ia(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ga(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ms(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new wa(va(this.value))}}function ka(e){const t=[];return Ms(e.fields,(e,n)=>{const r=new ms([e]);if(ga(n)){const e=ka(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new $s(t)}class xa{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new xa(e,0,ds.min(),ds.min(),ds.min(),wa.empty(),0)}static newFoundDocument(e,t,n,r){return new xa(e,1,t,ds.min(),n,r,0)}static newNoDocument(e,t){return new xa(e,2,t,ds.min(),ds.min(),wa.empty(),0)}static newUnknownDocument(e,t){return new xa(e,3,t,ds.min(),ds.min(),wa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ds.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ds.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sa{constructor(e,t){this.position=e,this.inclusive=t}}function Ea(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?gs.comparator(gs.fromName(a.referenceValue),n.key):aa(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function _a(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ia(e.position[n],t.position[n]))return!1;return!0}class Ta{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ia(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Na{}class Ca extends Na{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ma(e,t,n):"array-contains"===t?new Va(e,n):"in"===t?new Ba(e,n):"not-in"===t?new qa(e,n):"array-contains-any"===t?new $a(e,n):new Ca(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new za(e,n):new Fa(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(aa(t,this.value)):null!==t&&ra(this.value)===ra(t)&&this.matchesComparison(aa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ki()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Aa extends Na{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Aa(e,t)}matches(e){return Pa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Pa(e){return"and"===e.op}function Da(e){return Ra(e)&&Pa(e)}function Ra(e){for(const t of e.filters)if(t instanceof Aa)return!1;return!0}function ja(e){if(e instanceof Ca)return e.field.canonicalString()+e.op.toString()+ca(e.value);if(Da(e))return e.filters.map(e=>ja(e)).join(",");{const t=e.filters.map(e=>ja(e)).join(",");return`${e.op}(${t})`}}function Oa(e,t){return e instanceof Ca?function(e,t){return t instanceof Ca&&e.op===t.op&&e.field.isEqual(t.field)&&ia(e.value,t.value)}(e,t):e instanceof Aa?function(e,t){return t instanceof Aa&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Oa(n,t.filters[r]),!0)}(e,t):void Ki()}function La(e){return e instanceof Ca?function(e){return`${e.field.canonicalString()} ${e.op} ${ca(e.value)}`}(e):e instanceof Aa?function(e){return e.op.toString()+" {"+e.getFilters().map(La).join(" ,")+"}"}(e):"Filter"}class Ma extends Ca{constructor(e,t,n){super(e,t,n),this.key=gs.fromName(n.referenceValue)}matches(e){const t=gs.comparator(e.key,this.key);return this.matchesComparison(t)}}class za extends Ca{constructor(e,t){super(e,"in",t),this.keys=Ua("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Fa extends Ca{constructor(e,t){super(e,"not-in",t),this.keys=Ua("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ua(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>gs.fromName(e.referenceValue))}class Va extends Ca{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fa(t)&&sa(t.arrayValue,this.value)}}class Ba extends Ca{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&sa(this.value.arrayValue,t)}}class qa extends Ca{constructor(e,t){super(e,"not-in",t)}matches(e){if(sa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!sa(this.value.arrayValue,t)}}class $a extends Ca{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fa(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>sa(this.value.arrayValue,e))}}class Ha{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function Ka(e){return new Ha(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Wa(e){const t=Gi(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>ja(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Cs(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>ca(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>ca(e)).join(",")),t.ue=e}return t.ue}function Ga(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ia(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Oa(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!_a(e.startAt,t.startAt)&&_a(e.endAt,t.endAt)}function Ya(e){return gs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Qa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Xa(e,t,n,r,i,s,a,o){return new Qa(e,t,n,r,i,s,a,o)}function Ja(e){return new Qa(e)}function Za(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function eo(e){return null!==e.collectionGroup}function to(e){const t=Gi(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Bs(ms.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Ta(r,n))}),e.has(ms.keyField().canonicalString())||t.ce.push(new Ta(ms.keyField(),n))}return t.ce}function no(e){const t=Gi(e);return t.le||(t.le=ro(t,to(e))),t.le}function ro(e,t){if("F"===e.limitType)return Ka(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Ta(e.field,t)});const n=e.endAt?new Sa(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Sa(e.startAt.position,e.startAt.inclusive):null;return Ka(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function io(e,t){const n=e.filters.concat([t]);return new Qa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function so(e,t,n){return new Qa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ao(e,t){return Ga(no(e),no(t))&&e.limitType===t.limitType}function oo(e){return`${Wa(no(e))}|lt:${e.limitType}`}function lo(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>La(e)).join(", ")}]`),Cs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>ca(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>ca(e)).join(",")),`Target(${t})`}(no(e))}; limitType=${e.limitType})`}function co(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):gs.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of to(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ea(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,to(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ea(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,to(e),t))}(e,t)}function uo(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ho(e){return(t,n)=>{let r=!1;for(const i of to(e)){const e=fo(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function fo(e,t,n){const r=e.field.isKeyField()?gs.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?aa(r,i):Ki()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ki()}}class po{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return zs(this.inner)}size(){return this.innerSize}}const mo=new Fs(gs.comparator);function go(){return mo}const yo=new Fs(gs.comparator);function vo(){let e=yo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function bo(e){let t=yo;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function wo(){return xo()}function ko(){return xo()}function xo(){return new po(e=>e.toString(),(e,t)=>e.isEqual(t))}const So=new Fs(gs.comparator),Eo=new Bs(gs.comparator);function _o(){let e=Eo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const To=new Bs(ls);function Io(){return To}function No(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:As(t)?"-0":t}}function Co(e){return{integerValue:""+e}}function Ao(e,t){return Ps(t)?Co(t):No(e,t)}class Po{constructor(){this._=void 0}}function Do(e,t,n){return e instanceof Oo?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Xs(t)&&(t=Js(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Lo?Mo(e,t):e instanceof zo?Fo(e,t):function(e,t){const n=jo(e,t),r=Vo(n)+Vo(e.Pe);return ha(n)&&ha(e.Pe)?Co(r):No(e.serializer,r)}(e,t)}function Ro(e,t,n){return e instanceof Lo?Mo(e,t):e instanceof zo?Fo(e,t):n}function jo(e,t){return e instanceof Uo?function(e){return ha(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Oo extends Po{}class Lo extends Po{constructor(e){super(),this.elements=e}}function Mo(e,t){const n=Bo(t);for(const r of e.elements)n.some(e=>ia(e,r))||n.push(r);return{arrayValue:{values:n}}}class zo extends Po{constructor(e){super(),this.elements=e}}function Fo(e,t){let n=Bo(t);for(const r of e.elements)n=n.filter(e=>!ia(e,r));return{arrayValue:{values:n}}}class Uo extends Po{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Vo(e){return Ys(e.integerValue||e.doubleValue)}function Bo(e){return fa(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class qo{constructor(e,t){this.field=e,this.transform=t}}class $o{constructor(e,t){this.version=e,this.transformResults=t}}class Ho{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ho}static exists(e){return new Ho(void 0,e)}static updateTime(e){return new Ho(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ko(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Wo{}function Go(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new il(e.key,Ho.none()):new Zo(e.key,e.data,Ho.none());{const n=e.data,r=wa.empty();let i=new Bs(ms.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new el(e.key,r,new $s(i.toArray()),Ho.none())}}function Yo(e,t,n){e instanceof Zo?function(e,t,n){const r=e.value.clone(),i=nl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof el?function(e,t,n){if(!Ko(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=nl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(tl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Qo(e,t,n,r){return e instanceof Zo?function(e,t,n,r){if(!Ko(e.precondition,t))return n;const i=e.value.clone(),s=rl(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof el?function(e,t,n,r){if(!Ko(e.precondition,t))return n;const i=rl(e.fieldTransforms,r,t),s=t.data;return s.setAll(tl(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Ko(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Xo(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=jo(r.transform,e||null);null!=i&&(null===n&&(n=wa.empty()),n.set(r.field,i))}return n||null}function Jo(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&cs(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Lo&&t instanceof Lo||e instanceof zo&&t instanceof zo?cs(e.elements,t.elements,ia):e instanceof Uo&&t instanceof Uo?ia(e.Pe,t.Pe):e instanceof Oo&&t instanceof Oo}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Zo extends Wo{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class el extends Wo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function tl(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function nl(e,t,n){const r=new Map;Wi(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Ro(a,o,n[i]))}return r}function rl(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Do(e,s,t))}return r}class il extends Wo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sl extends Wo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class al{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Yo(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Qo(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Qo(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ko();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Go(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(ds.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_o())}isEqual(e){return this.batchId===e.batchId&&cs(this.mutations,e.mutations,(e,t)=>Jo(e,t))&&cs(this.baseMutations,e.baseMutations,(e,t)=>Jo(e,t))}}class ol{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Wi(e.mutations.length===n.length);let r=So;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new ol(e,t,n,r)}}class ll{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class cl{constructor(e,t){this.count=e,this.unchangedNames=t}}var ul,dl;function hl(e){switch(e){default:return Ki();case Yi.CANCELLED:case Yi.UNKNOWN:case Yi.DEADLINE_EXCEEDED:case Yi.RESOURCE_EXHAUSTED:case Yi.INTERNAL:case Yi.UNAVAILABLE:case Yi.UNAUTHENTICATED:return!1;case Yi.INVALID_ARGUMENT:case Yi.NOT_FOUND:case Yi.ALREADY_EXISTS:case Yi.PERMISSION_DENIED:case Yi.FAILED_PRECONDITION:case Yi.ABORTED:case Yi.OUT_OF_RANGE:case Yi.UNIMPLEMENTED:case Yi.DATA_LOSS:return!0}}function fl(e){if(void 0===e)return qi("GRPC error has no .code"),Yi.UNKNOWN;switch(e){case ul.OK:return Yi.OK;case ul.CANCELLED:return Yi.CANCELLED;case ul.UNKNOWN:return Yi.UNKNOWN;case ul.DEADLINE_EXCEEDED:return Yi.DEADLINE_EXCEEDED;case ul.RESOURCE_EXHAUSTED:return Yi.RESOURCE_EXHAUSTED;case ul.INTERNAL:return Yi.INTERNAL;case ul.UNAVAILABLE:return Yi.UNAVAILABLE;case ul.UNAUTHENTICATED:return Yi.UNAUTHENTICATED;case ul.INVALID_ARGUMENT:return Yi.INVALID_ARGUMENT;case ul.NOT_FOUND:return Yi.NOT_FOUND;case ul.ALREADY_EXISTS:return Yi.ALREADY_EXISTS;case ul.PERMISSION_DENIED:return Yi.PERMISSION_DENIED;case ul.FAILED_PRECONDITION:return Yi.FAILED_PRECONDITION;case ul.ABORTED:return Yi.ABORTED;case ul.OUT_OF_RANGE:return Yi.OUT_OF_RANGE;case ul.UNIMPLEMENTED:return Yi.UNIMPLEMENTED;case ul.DATA_LOSS:return Yi.DATA_LOSS;default:return Ki()}}(dl=ul||(ul={}))[dl.OK=0]="OK",dl[dl.CANCELLED=1]="CANCELLED",dl[dl.UNKNOWN=2]="UNKNOWN",dl[dl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dl[dl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dl[dl.NOT_FOUND=5]="NOT_FOUND",dl[dl.ALREADY_EXISTS=6]="ALREADY_EXISTS",dl[dl.PERMISSION_DENIED=7]="PERMISSION_DENIED",dl[dl.UNAUTHENTICATED=16]="UNAUTHENTICATED",dl[dl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dl[dl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dl[dl.ABORTED=10]="ABORTED",dl[dl.OUT_OF_RANGE=11]="OUT_OF_RANGE",dl[dl.UNIMPLEMENTED=12]="UNIMPLEMENTED",dl[dl.INTERNAL=13]="INTERNAL",dl[dl.UNAVAILABLE=14]="UNAVAILABLE",dl[dl.DATA_LOSS=15]="DATA_LOSS";let pl=null;function ml(){return new TextEncoder}const gl=new Si([4294967295,4294967295],0);function yl(e){const t=ml().encode(e),n=new Ei;return n.update(t),new Uint8Array(n.digest())}function vl(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Si([n,r],0),new Si([i,s],0)]}class bl{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new wl(`Invalid padding: ${t}`);if(n<0)throw new wl(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new wl(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new wl(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Si.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Si.fromNumber(n)));return 1===r.compare(gl)&&(r=new Si([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=yl(e),[n,r]=vl(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new bl(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.Ie)return;const t=yl(e),[n,r]=vl(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kl{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,xl.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new kl(ds.min(),r,new Fs(ls),go(),_o())}}class xl{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new xl(n,t,_o(),_o(),_o())}}class Sl{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class El{constructor(e,t){this.targetId=e,this.me=t}}class _l{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ks.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Tl{constructor(){this.fe=0,this.ge=Cl(),this.pe=Ks.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_o(),t=_o(),n=_o();return this.ge.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ki()}}),new xl(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Cl()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Wi(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Il{constructor(e){this.Le=e,this.Be=new Map,this.ke=go(),this.qe=Nl(),this.Qe=new Fs(ls)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Ki()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Ya(i))if(0===n){const e=new gs(i.path);this.Ue(t,e,xa.newNoDocument(e,ds.min()))}else Wi(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==pl||pl.et(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=Qs(n).toUint8Array()}catch(e){if(e instanceof Hs)return $i("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new bl(s,r,i)}catch(e){return $i(e instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Le.tt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Ue(t,n,null),r++)}),r}rt(e){const t=new Map;this.Be.forEach((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Ya(i.target)){const t=new gs(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,xa.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=_o();this.qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));const r=new kl(e,t,this.Qe,this.ke,n);return this.ke=go(),this.qe=Nl(),this.Qe=new Fs(ls),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Tl,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Bs(ls),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Bi("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Tl),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Nl(){return new Fs(gs.comparator)}function Cl(){return new Fs(gs.comparator)}const Al={asc:"ASCENDING",desc:"DESCENDING"},Pl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dl={and:"AND",or:"OR"};class Rl{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jl(e,t){return e.useProto3Json||Cs(t)?t:{value:t}}function Ol(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ll(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ml(e,t){return Ol(e,t.toTimestamp())}function zl(e){return Wi(!!e),ds.fromTimestamp(function(e){const t=Gs(e);return new us(t.seconds,t.nanos)}(e))}function Fl(e,t){return Ul(e,t).canonicalString()}function Ul(e,t){const n=function(e){return new fs(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Vl(e){const t=fs.fromString(e);return Wi(oc(t)),t}function Bl(e,t){return Fl(e.databaseId,t.path)}function ql(e,t){const n=Vl(t);if(n.get(1)!==e.databaseId.projectId)throw new Qi(Yi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Qi(Yi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new gs(Wl(n))}function $l(e,t){return Fl(e.databaseId,t)}function Hl(e){const t=Vl(e);return 4===t.length?fs.emptyPath():Wl(t)}function Kl(e){return new fs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Wl(e){return Wi(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Gl(e,t,n){return{name:Bl(e,t),fields:n.value.mapValue.fields}}function Yl(e,t){let n;if(t instanceof Zo)n={update:Gl(e,t.key,t.value)};else if(t instanceof il)n={delete:Bl(e,t.key)};else if(t instanceof el)n={update:Gl(e,t.key,t.data),updateMask:ac(t.fieldMask)};else{if(!(t instanceof sl))return Ki();n={verify:Bl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Oo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Lo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof zo)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Uo)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Ki()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ml(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ki()}(e,t.precondition)),n}function Ql(e,t){return{documents:[$l(e,t.path)]}}function Xl(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$l(e,i);const s=function(e){if(0!==e.length)return sc(Aa.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:rc(e.field),direction:ec(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=jl(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Jl(e){let t=Hl(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Wi(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Zl(e);return t instanceof Aa&&Da(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new Ta(ic(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Cs(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Sa(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Sa(n,t)}(n.endAt)),Xa(t,i,a,s,o,"F",l,c)}function Zl(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ic(e.unaryFilter.field);return Ca.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=ic(e.unaryFilter.field);return Ca.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ic(e.unaryFilter.field);return Ca.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ic(e.unaryFilter.field);return Ca.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ki()}}(e):void 0!==e.fieldFilter?function(e){return Ca.create(ic(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ki()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Aa.create(e.compositeFilter.filters.map(e=>Zl(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ki()}}(e.compositeFilter.op))}(e):Ki()}function ec(e){return Al[e]}function tc(e){return Pl[e]}function nc(e){return Dl[e]}function rc(e){return{fieldPath:e.canonicalString()}}function ic(e){return ms.fromServerFormat(e.fieldPath)}function sc(e){return e instanceof Ca?function(e){if("=="===e.op){if(ma(e.value))return{unaryFilter:{field:rc(e.field),op:"IS_NAN"}};if(pa(e.value))return{unaryFilter:{field:rc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ma(e.value))return{unaryFilter:{field:rc(e.field),op:"IS_NOT_NAN"}};if(pa(e.value))return{unaryFilter:{field:rc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rc(e.field),op:tc(e.op),value:e.value}}}(e):e instanceof Aa?function(e){const t=e.getFilters().map(e=>sc(e));return 1===t.length?t[0]:{compositeFilter:{op:nc(e.op),filters:t}}}(e):Ki()}function ac(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function oc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class lc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ds.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ds.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ks.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new lc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class cc{constructor(e){this.ct=e}}function uc(e){const t=Jl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?so(t,t.limit,"L"):t}class dc{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ys(e.integerValue));else if("doubleValue"in e){const n=Ys(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),As(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=Gs(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Qs(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?ba(e)?this.dt(t,Number.MAX_SAFE_INTEGER):ya(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Ki()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const s="value",a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(Ys(a)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),gs.fromName(e).path.forEach(e=>{this.dt(t,60),this.Dt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}dc.vt=new dc;class hc{constructor(){this.un=new fc}addToCollectionParentIndex(e,t){return this.un.add(t),_s.resolve()}getCollectionParents(e,t){return _s.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return _s.resolve()}deleteFieldIndex(e,t){return _s.resolve()}deleteAllFieldIndexes(e){return _s.resolve()}createTargetIndexes(e,t){return _s.resolve()}getDocumentsMatchingTarget(e,t){return _s.resolve(null)}getIndexType(e,t){return _s.resolve(0)}getFieldIndexes(e,t){return _s.resolve([])}getNextCollectionGroupToUpdate(e){return _s.resolve(null)}getMinOffset(e,t){return _s.resolve(ws.min())}getMinOffsetFromCollectionGroup(e,t){return _s.resolve(ws.min())}updateCollectionGroup(e,t,n){return _s.resolve()}updateIndexEntries(e,t){return _s.resolve()}}class fc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Bs(fs.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Bs(fs.comparator)).toArray()}}new Uint8Array(0);class pc{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new pc(e,pc.DEFAULT_COLLECTION_PERCENTILE,pc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}pc.DEFAULT_COLLECTION_PERCENTILE=10,pc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pc.DEFAULT=new pc(41943040,pc.DEFAULT_COLLECTION_PERCENTILE,pc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pc.DISABLED=new pc(-1,0,0);class mc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new mc(0)}static kn(){return new mc(-1)}}class gc{constructor(){this.changes=new po(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xa.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?_s.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class vc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Qo(n.mutation,e,$s.empty(),us.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,_o()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_o();const r=wo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=vo();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=wo();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,_o()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=go();const s=xo(),a=xo();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof el)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Qo(a.mutation,t,a.mutation.getFieldMask(),us.now())):s.set(t.key,$s.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new yc(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=xo();let r=new Fs((e,t)=>e-t),i=_o();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||$s.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||_o()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=ko();l.forEach(e=>{if(!i.has(e)){const r=Go(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return _s.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return gs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):eo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):_s.resolve(wo());let a=-1,o=i;return s.next(t=>_s.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?_s.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,_o())).next(e=>({batchId:a,changes:bo(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new gs(t)).next(e=>{let t=vo();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=vo();return this.indexManager.getCollectionParents(e,i).next(a=>_s.forEach(a,a=>{const o=function(e,t){return new Qa(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,xa.newInvalidDocument(r)))});let n=vo();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&Qo(s.mutation,r,$s.empty(),us.now()),co(t,r)&&(n=n.insert(e,r))}),n})}}class bc{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return _s.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:zl(e.createTime)}}(t)),_s.resolve()}getNamedQuery(e,t){return _s.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:uc(e.bundledQuery),readTime:zl(e.readTime)}}(t)),_s.resolve()}}class wc{constructor(){this.overlays=new Fs(gs.comparator),this.Ir=new Map}getOverlay(e,t){return _s.resolve(this.overlays.get(t))}getOverlays(e,t){const n=wo();return _s.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),_s.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),_s.resolve()}getOverlaysForCollection(e,t,n){const r=wo(),i=t.length+1,s=new gs(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return _s.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Fs((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=wo(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=wo(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return _s.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ll(t,n));let i=this.Ir.get(t);void 0===i&&(i=_o(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class kc{constructor(){this.sessionToken=Ks.EMPTY_BYTE_STRING}getSessionToken(e){return _s.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,_s.resolve()}}class xc{constructor(){this.Tr=new Bs(Sc.Er),this.dr=new Bs(Sc.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Sc(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new Sc(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new gs(new fs([])),n=new Sc(t,e),r=new Sc(t,e+1),i=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),i.push(e.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new gs(new fs([])),n=new Sc(t,e),r=new Sc(t,e+1);let i=_o();return this.dr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Sc(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Sc{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return gs.comparator(e.key,t.key)||ls(e.wr,t.wr)}static Ar(e,t){return ls(e.wr,t.wr)||gs.comparator(e.key,t.key)}}class Ec{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Bs(Sc.Er)}checkEmpty(e){return _s.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new al(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.br=this.br.add(new Sc(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _s.resolve(s)}lookupMutationBatch(e,t){return _s.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return _s.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return _s.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return _s.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Sc(t,0),r=new Sc(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],e=>{const t=this.Dr(e.wr);i.push(t)}),_s.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Bs(ls);return t.forEach(e=>{const t=new Sc(e,0),r=new Sc(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),_s.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;gs.isDocumentKey(i)||(i=i.child(""));const s=new Sc(new gs(i),0);let a=new Bs(ls);return this.br.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)},s),_s.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(e=>{const n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Wi(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return _s.forEach(t.mutations,r=>{const i=new Sc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new Sc(t,0),r=this.br.firstAfterOrEqual(n);return _s.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,_s.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _c{constructor(e){this.Mr=e,this.docs=new Fs(gs.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return _s.resolve(n?n.document.mutableCopy():xa.newInvalidDocument(t))}getEntries(e,t){let n=go();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():xa.newInvalidDocument(e))}),_s.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=go();const s=t.path,a=new gs(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ks(bs(a),n)<=0||(r.has(a.key)||co(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return _s.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ki()}Or(e,t){return _s.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Tc(this)}getSize(e){return _s.resolve(this.size)}}class Tc extends gc{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),_s.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Ic{constructor(e){this.persistence=e,this.Nr=new po(e=>Wa(e),Ga),this.lastRemoteSnapshotVersion=ds.min(),this.highestTargetId=0,this.Lr=0,this.Br=new xc,this.targetCount=0,this.kr=mc.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),_s.resolve()}getLastRemoteSnapshotVersion(e){return _s.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _s.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),_s.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),_s.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new mc(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,_s.resolve()}updateTargetData(e,t){return this.Kn(t),_s.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,_s.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),_s.waitFor(i).next(()=>r)}getTargetCount(e){return _s.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return _s.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),_s.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),_s.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),_s.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return _s.resolve(n)}containsKey(e,t){return _s.resolve(this.Br.containsKey(t))}}class Nc{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Ns(0),this.Kr=!1,this.Kr=!0,this.$r=new kc,this.referenceDelegate=e(this),this.Ur=new Ic(this),this.indexManager=new hc,this.remoteDocumentCache=function(e){return new _c(e)}(e=>this.referenceDelegate.Wr(e)),this.serializer=new cc(t),this.Gr=new bc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Ec(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Bi("MemoryPersistence","Starting transaction:",e);const r=new Cc(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return _s.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class Cc extends Ss{constructor(e){super(),this.currentSequenceNumber=e}}class Ac{constructor(e){this.persistence=e,this.Jr=new xc,this.Yr=null}static Zr(e){return new Ac(e)}get Xr(){if(this.Yr)return this.Yr;throw Ki()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),_s.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),_s.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),_s.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _s.forEach(this.Xr,n=>{const r=gs.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,ds.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return _s.or([()=>_s.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Pc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=_o(),r=_o();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Pc(e,t.fromCache,n,r)}}class Dc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Rc{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=y()?8:Ts(g())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.Zi(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Dc;return this.Xi(e,t,n).next(r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>i.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(Vi()<=O.DEBUG&&Bi("QueryEngine","SDK will not create cache indexes for query:",lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),_s.resolve()):(Vi()<=O.DEBUG&&Bi("QueryEngine","Query:",lo(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(Vi()<=O.DEBUG&&Bi("QueryEngine","The SDK decides to create cache indexes for query:",lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,no(t))):_s.resolve())}Yi(e,t){if(Za(t))return _s.resolve(null);let n=no(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=so(t,null,"F"),n=no(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=_o(...r);return this.Ji.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,so(t,null,"F")):this.rs(e,s,t,n)}))})))}Zi(e,t,n,r){return Za(t)||r.isEqual(ds.min())?_s.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?_s.resolve(null):(Vi()<=O.DEBUG&&Bi("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lo(t)),this.rs(e,s,t,vs(r,-1)).next(e=>e))})}ts(e,t){let n=new Bs(ho(e));return t.forEach((t,r)=>{co(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return Vi()<=O.DEBUG&&Bi("QueryEngine","Using full collection scan to execute query:",lo(t)),this.Ji.getDocumentsMatchingQuery(e,t,ws.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class jc{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new Fs(ls),this._s=new po(e=>Wa(e),Ga),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vc(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function Oc(e,t,n,r){return new jc(e,t,n,r)}async function Lc(e,t){const n=Gi(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=_o();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({hs:e,removedBatchIds:i,addedBatchIds:s}))})})}function Mc(e){const t=Gi(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function zc(e,t,n){let r=_o(),i=_o();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=go();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(ds.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Bi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{Ps:r,Is:i}})}function Fc(e,t){const n=Gi(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Uc(e,t){const n=Gi(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ur.getTargetData(e,t).next(i=>i?(r=i,_s.resolve(r)):n.Ur.allocateTargetId(e).next(i=>(r=new lc(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e})}async function Vc(e,t,n){const r=Gi(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Is(e))throw e;Bi("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function Bc(e,t,n){const r=Gi(e);let i=ds.min(),s=_o();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Gi(e),i=r._s.get(n);return void 0!==i?_s.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,no(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:ds.min(),n?s:_o())).next(e=>(qc(r,uo(t),e),{documents:e,Ts:s})))}function qc(e,t,n){let r=e.us.get(t)||ds.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.us.set(t,r)}class $c{constructor(){this.activeTargetIds=Io()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hc{constructor(){this.so=new $c,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new $c,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Kc{_o(e){}shutdown(){}}class Wc{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Bi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Bi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Gc=null;function Yc(){return null===Gc?Gc=268435456+Math.round(2147483648*Math.random()):Gc++,"0x"+Gc.toString(16)}const Qc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xc{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Jc="WebChannelConnection";class Zc extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){const s=Yc(),a=this.xo(e,t.toUriEncodedString());Bi("RestConnection",`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,r,i),this.No(e,a,o,n).then(t=>(Bi("RestConnection",`Received RPC '${e}' ${s}: `,t),t),t=>{throw $i("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t})}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){const n=Qc[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=Yc();return new Promise((s,a)=>{const o=new Ii;o.setWithCredentials(!0),o.listenOnce(Ci.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Ai.NO_ERROR:const t=o.getResponseJson();Bi(Jc,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case Ai.TIMEOUT:Bi(Jc,`RPC '${e}' ${i} timed out`),a(new Qi(Yi.DEADLINE_EXCEEDED,"Request time out"));break;case Ai.HTTP_ERROR:const n=o.getStatus();if(Bi(Jc,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Yi).indexOf(t)>=0?t:Yi.UNKNOWN}(t.status);a(new Qi(e,t.message))}else a(new Qi(Yi.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Qi(Yi.UNAVAILABLE,"Connection failed."));break;default:Ki()}}finally{Bi(Jc,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);Bi(Jc,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)})}Bo(e,t,n){const r=Yc(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ji(),a=Ri(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Bi(Jc,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new Xc({Io:t=>{h?Bi(Jc,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Bi(Jc,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Bi(Jc,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Ni.EventType.OPEN,()=>{h||(Bi(Jc,`RPC '${e}' stream ${r} transport opened.`),f.yo())}),p(u,Ni.EventType.CLOSE,()=>{h||(h=!0,Bi(Jc,`RPC '${e}' stream ${r} transport closed`),f.So())}),p(u,Ni.EventType.ERROR,t=>{h||(h=!0,$i(Jc,`RPC '${e}' stream ${r} transport errored:`,t),f.So(new Qi(Yi.UNAVAILABLE,"The operation could not be completed")))}),p(u,Ni.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];Wi(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Bi(Jc,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=ul[e];if(void 0!==t)return fl(t)}(t),i=a.message;void 0===n&&(n=Yi.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new Qi(n,i)),u.close()}else Bi(Jc,`RPC '${e}' stream ${r} received:`,i),f.bo(i)}}),p(a,Di.STAT_EVENT,t=>{t.stat===Pi.PROXY?Bi(Jc,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Pi.NOPROXY&&Bi(Jc,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.wo()},0),f}}function eu(){return"undefined"!=typeof document?document:null}function tu(e){return new Rl(e,!0)}class nu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&Bi("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class ru{constructor(e,t,n,r,i,s,a,o){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new nu(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===Yi.RESOURCE_EXHAUSTED?(qi(t.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Yi.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)},t=>{e(()=>{const e=new Qi(Yi.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Bi("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Bi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iu extends ru{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ki()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Wi(void 0===t||"string"==typeof t),Ks.fromBase64String(t||"")):(Wi(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Ks.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Yi.UNKNOWN:fl(e.code);return new Qi(t,e.message||"")}(a);n=new _l(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=ql(e,r.document.name),s=zl(r.document.updateTime),a=r.document.createTime?zl(r.document.createTime):ds.min(),o=new wa({mapValue:{fields:r.document.fields}}),l=xa.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Sl(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=ql(e,r.document),s=r.readTime?zl(r.readTime):ds.min(),a=xa.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Sl([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=ql(e,r.document),s=r.removedTargetIds||[];n=new Sl([],s,i,null)}else{if(!("filter"in t))return Ki();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new cl(r,i),a=e.targetId;n=new El(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ds.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ds.min():t.readTime?zl(t.readTime):ds.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=Kl(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ya(r)?{documents:Ql(e,r)}:{query:Xl(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ll(e,t.resumeToken);const r=jl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ds.min())>0){n.readTime=Ol(e,t.snapshotVersion.toTimestamp());const r=jl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ki()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=Kl(this.serializer),t.removeTarget=e,this.a_(t)}}class su extends ru{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Wi(!!e.streamToken),this.lastStreamToken=e.streamToken,Wi(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Wi(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(Wi(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?zl(e.updateTime):zl(t);return n.isEqual(ds.min())&&(n=zl(t)),new $o(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=zl(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=Kl(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Yl(this.serializer,e))};this.a_(t)}}class au extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Qi(Yi.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Mo(e,Ul(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Yi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Qi(Yi.UNKNOWN,e.toString())})}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Lo(e,Ul(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Yi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Qi(Yi.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class ou{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(qi(t),this.D_=!1):Bi("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class lu{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(e=>{n.enqueueAndForget(async()=>{yu(this)&&(Bi("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Gi(e);t.L_.add(4),await uu(t),t.q_.set("Unknown"),t.L_.delete(4),await cu(t)}(this))})}),this.q_=new ou(n,r)}}async function cu(e){if(yu(e))for(const t of e.B_)await t(!0)}async function uu(e){for(const t of e.B_)await t(!1)}function du(e,t){const n=Gi(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),gu(n)?mu(n):Lu(n).r_()&&fu(n,t))}function hu(e,t){const n=Gi(e),r=Lu(n);n.N_.delete(t),r.r_()&&pu(n,t),0===n.N_.size&&(r.r_()?r.o_():yu(n)&&n.q_.set("Unknown"))}function fu(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ds.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Lu(e).A_(t)}function pu(e,t){e.Q_.xe(t),Lu(e).R_(t)}function mu(e){e.Q_=new Il({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Lu(e).start(),e.q_.v_()}function gu(e){return yu(e)&&!Lu(e).n_()&&e.N_.size>0}function yu(e){return 0===Gi(e).L_.size}function vu(e){e.Q_=void 0}async function bu(e){e.q_.set("Online")}async function wu(e){e.N_.forEach((t,n)=>{fu(e,t)})}async function ku(e,t){vu(e),gu(e)?(e.q_.M_(t),mu(e)):e.q_.set("Unknown")}async function xu(e,t,n){if(e.q_.set("Online"),t instanceof _l&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){Bi("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Su(e,n)}else if(t instanceof Sl?e.Q_.Ke(t):t instanceof El?e.Q_.He(t):e.Q_.We(t),!n.isEqual(ds.min()))try{const t=await Mc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(Ks.EMPTY_BYTE_STRING,r.snapshotVersion)),pu(e,t);const i=new lc(r.target,t,n,r.sequenceNumber);fu(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Bi("RemoteStore","Failed to raise snapshot:",t),await Su(e,t)}}async function Su(e,t,n){if(!Is(t))throw t;e.L_.add(1),await uu(e),e.q_.set("Offline"),n||(n=()=>Mc(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Bi("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await cu(e)})}function Eu(e,t){return t().catch(n=>Su(e,n,t))}async function _u(e){const t=Gi(e),n=Mu(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Tu(t);)try{const e=await Fc(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,Iu(t,e)}catch(e){await Su(t,e)}Nu(t)&&Cu(t)}function Tu(e){return yu(e)&&e.O_.length<10}function Iu(e,t){e.O_.push(t);const n=Mu(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Nu(e){return yu(e)&&!Mu(e).n_()&&e.O_.length>0}function Cu(e){Mu(e).start()}async function Au(e){Mu(e).p_()}async function Pu(e){const t=Mu(e);for(const n of e.O_)t.m_(n.mutations)}async function Du(e,t,n){const r=e.O_.shift(),i=ol.from(r,t,n);await Eu(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await _u(e)}async function Ru(e,t){t&&Mu(e).V_&&await async function(e,t){if(function(e){return hl(e)&&e!==Yi.ABORTED}(t.code)){const n=e.O_.shift();Mu(e).s_(),await Eu(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await _u(e)}}(e,t),Nu(e)&&Cu(e)}async function ju(e,t){const n=Gi(e);n.asyncQueue.verifyOperationInProgress(),Bi("RemoteStore","RemoteStore received new credentials");const r=yu(n);n.L_.add(3),await uu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await cu(n)}async function Ou(e,t){const n=Gi(e);t?(n.L_.delete(2),await cu(n)):t||(n.L_.add(2),await uu(n),n.q_.set("Unknown"))}function Lu(e){return e.K_||(e.K_=function(e,t,n){const r=Gi(e);return r.w_(),new iu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:bu.bind(null,e),Ro:wu.bind(null,e),mo:ku.bind(null,e),d_:xu.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),gu(e)?mu(e):e.q_.set("Unknown")):(await e.K_.stop(),vu(e))})),e.K_}function Mu(e){return e.U_||(e.U_=function(e,t,n){const r=Gi(e);return r.w_(),new su(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Au.bind(null,e),mo:Ru.bind(null,e),f_:Pu.bind(null,e),g_:Du.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await _u(e)):(await e.U_.stop(),e.O_.length>0&&(Bi("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}class zu{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new zu(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qi(Yi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fu(e,t){if(qi("AsyncQueue",`${t}: ${e}`),Is(e))return new Qi(Yi.UNAVAILABLE,`${t}: ${e}`);throw e}class Uu{constructor(e){this.comparator=e?(t,n)=>e(t,n)||gs.comparator(t.key,n.key):(e,t)=>gs.comparator(e.key,t.key),this.keyedMap=vo(),this.sortedSet=new Fs(this.comparator)}static emptySet(e){return new Uu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Uu))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Uu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Vu{constructor(){this.W_=new Fs(gs.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ki():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class Bu{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Bu(e,t,Uu.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ao(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class qu{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class $u{constructor(){this.queries=Hu(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=Gi(e),r=n.queries;n.queries=Hu(),r.forEach((e,n)=>{for(const r of n.j_)r.onError(t)})}(this,new Qi(Yi.ABORTED,"Firestore shutting down"))}}function Hu(){return new po(e=>oo(e),ao)}async function Ku(e,t){const n=Gi(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new qu,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Fu(e,`Initialization of query '${lo(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&Qu(n)}async function Wu(e,t){const n=Gi(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Gu(e,t){const n=Gi(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&Qu(n)}function Yu(e,t,n){const r=Gi(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function Qu(e){e.Y_.forEach(e=>{e.next()})}var Xu,Ju;(Ju=Xu||(Xu={})).ea="default",Ju.Cache="cache";class Zu{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Bu(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=Bu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Xu.Cache}}class ed{constructor(e){this.key=e}}class td{constructor(e){this.key=e}}class nd{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_o(),this.mutatedKeys=_o(),this.Aa=ho(e),this.Ra=new Uu(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new Vu,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=co(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Aa(u,o)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ki()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],o=0===this.da.size&&this.current&&!r?1:0,l=o!==this.Ea;return this.Ea=o,0!==s.length||l?{snapshot:new Bu(this.query,e.Ra,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Vu,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=_o(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});const t=[];return e.forEach(e=>{this.da.has(e)||t.push(new td(e))}),this.da.forEach(n=>{e.has(n)||t.push(new ed(n))}),t}ba(e){this.Ta=e.Ts,this.da=_o();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Bu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class rd{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class id{constructor(e){this.key=e,this.va=!1}}class sd{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new po(e=>oo(e),ao),this.Ma=new Map,this.xa=new Set,this.Oa=new Fs(gs.comparator),this.Na=new Map,this.La=new xc,this.Ba={},this.ka=new Map,this.qa=mc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function ad(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Id(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await ld(r,t,n,!0),i}async function od(e,t){const n=Id(e);await ld(n,t,!0,!1)}async function ld(e,t,n,r){const i=await Uc(e.localStore,no(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await cd(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&du(e.remoteStore,i),o}async function cd(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await Bc(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ma(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return kd(e,t.targetId,o.wa),o.snapshot}(e,t,n,r);const s=await Bc(e.localStore,t,!0),a=new nd(t,s.Ts),o=a.ma(s.documents),l=xl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);kd(e,n,c.wa);const u=new rd(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function ud(e,t,n){const r=Gi(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(e=>!ao(e,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Vc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&hu(r.remoteStore,i.targetId),bd(r,i.targetId)}).catch(Es)):(bd(r,i.targetId),await Vc(r.localStore,i.targetId,!0))}async function dd(e,t){const n=Gi(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hu(n.remoteStore,r.targetId))}async function hd(e,t){const n=Gi(e);try{const e=await function(e,t){const n=Gi(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Ur.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Ks.EMPTY_BYTE_STRING,ds.min()).withLastLimboFreeSnapshotVersion(ds.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Ur.updateTargetData(e,c))});let o=go(),l=_o();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(zc(e,s,t.documentUpdates).next(e=>{o=e.Ps,l=e.Is})),!r.isEqual(ds.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next(t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return _s.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.os=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Na.get(t);r&&(Wi(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?Wi(r.va):e.removedDocuments.size>0&&(Wi(r.va),r.va=!1))}),await Ed(n,e,t)}catch(e){await Es(e)}}function fd(e,t,n){const r=Gi(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Gi(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)}),r&&Qu(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function pd(e,t,n){const r=Gi(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new Fs(gs.comparator);e=e.insert(s,xa.newNoDocument(s,ds.min()));const n=_o().add(s),i=new kl(ds.min(),new Map,new Fs(ls),e,n);await hd(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),Sd(r)}else await Vc(r.localStore,t,!1).then(()=>bd(r,t,n)).catch(Es)}async function md(e,t){const n=Gi(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Gi(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=_s.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Wi(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=_o();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);vd(n,r,null),yd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ed(n,e)}catch(e){await Es(e)}}async function gd(e,t,n){const r=Gi(e);try{const e=await function(e,t){const n=Gi(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Wi(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);vd(r,t,n),yd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ed(r,e)}catch(n){await Es(n)}}function yd(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function vd(e,t,n){const r=Gi(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function bd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||wd(e,t)})}function wd(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(hu(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Sd(e))}function kd(e,t,n){for(const r of n)r instanceof ed?(e.La.addReference(r.key,t),xd(e,r)):r instanceof td?(Bi("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||wd(e,r.key)):Ki()}function xd(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(Bi("SyncEngine","New document in limbo: "+n),e.xa.add(r),Sd(e))}function Sd(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new gs(fs.fromString(t)),r=e.qa.next();e.Na.set(r,new id(n)),e.Oa=e.Oa.insert(n,r),du(e.remoteStore,new lc(no(Ja(n.path)),r,"TargetPurposeLimboResolution",Ns.oe))}}async function Ed(e,t,n){const r=Gi(e),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((e,o)=>{a.push(r.Ka(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Pc.Wi(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=Gi(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>_s.forEach(t,t=>_s.forEach(t.$i,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>_s.forEach(t.Ui,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Is(e))throw e;Bi("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function _d(e,t){const n=Gi(e);if(!n.currentUser.isEqual(t)){Bi("SyncEngine","User change. New user:",t.toKey());const e=await Lc(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach(e=>{e.forEach(e=>{e.reject(new Qi(Yi.CANCELLED,t))})}),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Ed(n,e.hs)}}function Td(e,t){const n=Gi(e),r=n.Na.get(t);if(r&&r.va)return _o().add(r.key);{let e=_o();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function Id(e){const t=Gi(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=hd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Td.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pd.bind(null,t),t.Ca.d_=Gu.bind(null,t.eventManager),t.Ca.$a=Yu.bind(null,t.eventManager),t}function Nd(e){const t=Gi(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=md.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gd.bind(null,t),t}class Cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return Oc(this.persistence,new Rc,e.initialUser,this.serializer)}Ga(e){return new Nc(Ac.Zr,this.serializer)}Wa(e){return new Hc}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cd.provider={build:()=>new Cd};class Ad{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>fd(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=_d.bind(null,this.syncEngine),await Ou(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new $u}createDatastore(e){const t=tu(e.databaseInfo.databaseId),n=function(e){return new Zc(e)}(e.databaseInfo);return function(e,t,n,r){return new au(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new lu(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>fd(this.syncEngine,e,0),Wc.D()?new Wc:new Kc)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new sd(e,t,n,r,i,s);return a&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Gi(e);Bi("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await uu(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Ad.provider={build:()=>new Ad};class Pd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):qi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class Dd{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=zi.UNAUTHENTICATED,this.clientId=os.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Bi("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Bi("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Fu(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Rd(e,t){e.asyncQueue.verifyOperationInProgress(),Bi("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Lc(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function jd(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Od(e);Bi("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>ju(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>ju(t.remoteStore,n)),e._onlineComponents=t}async function Od(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Bi("FirestoreClient","Using user provided OfflineComponentProvider");try{await Rd(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Yi.FAILED_PRECONDITION||e.code===Yi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;$i("Error using user provided cache. Falling back to memory cache: "+n),await Rd(e,new Cd)}}else Bi("FirestoreClient","Using default OfflineComponentProvider"),await Rd(e,new Cd);return e._offlineComponents}async function Ld(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Bi("FirestoreClient","Using user provided OnlineComponentProvider"),await jd(e,e._uninitializedComponentsProvider._online)):(Bi("FirestoreClient","Using default OnlineComponentProvider"),await jd(e,new Ad))),e._onlineComponents}function Md(e){return Ld(e).then(e=>e.syncEngine)}async function zd(e){const t=await Ld(e),n=t.eventManager;return n.onListen=ad.bind(null,t.syncEngine),n.onUnlisten=ud.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=od.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=dd.bind(null,t.syncEngine),n}function Fd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Xi;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Pd({next:n=>{s.Za(),t.enqueueAndForget(()=>Wu(e,a)),n.fromCache&&"server"===r.source?i.reject(new Qi(Yi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Zu(n,s,{includeMetadataChanges:!0,_a:!0});return Ku(e,a)}(await zd(e),e.asyncQueue,t,n,r)),r.promise}function Ud(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Vd=new Map;function Bd(e,t,n){if(!n)throw new Qi(Yi.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function qd(e){if(!gs.isDocumentKey(e))throw new Qi(Yi.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function $d(e){if(gs.isDocumentKey(e))throw new Qi(Yi.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Hd(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Ki()}function Kd(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Qi(Yi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hd(e);throw new Qi(Yi.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class Wd{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Qi(Yi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Qi(Yi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Qi(Yi.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ud(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Qi(Yi.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Qi(Yi.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Qi(Yi.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gd{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wd({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Qi(Yi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Qi(Yi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wd(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Zi;switch(e.type){case"firstParty":return new rs(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Qi(Yi.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Vd.get(e);t&&(Bi("ComponentProvider","Removing Datastore"),Vd.delete(e),t.terminate())}(this),Promise.resolve()}}function Yd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Kd(e,Gd))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&$i("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=zi.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Qi(Yi.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new zi(s)}e._authCredentials=new es(new Ji(t,n))}}class Qd{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Qd(this.firestore,e,this._query)}}class Xd{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xd(this.firestore,e,this._key)}}class Jd extends Qd{constructor(e,t,n){super(e,t,Ja(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xd(this.firestore,null,new gs(e))}withConverter(e){return new Jd(this.firestore,e,this._path)}}function Zd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=C(e),Bd("collection","path",t),e instanceof Gd){const n=fs.fromString(t,...r);return $d(n),new Jd(e,null,n)}{if(!(e instanceof Xd||e instanceof Jd))throw new Qi(Yi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(fs.fromString(t,...r));return $d(n),new Jd(e.firestore,null,n)}}function eh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=C(e),1===arguments.length&&(t=os.newId()),Bd("doc","path",t),e instanceof Gd){const n=fs.fromString(t,...r);return qd(n),new Xd(e,null,new gs(n))}{if(!(e instanceof Xd||e instanceof Jd))throw new Qi(Yi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(fs.fromString(t,...r));return qd(n),new Xd(e.firestore,e instanceof Jd?e.converter:null,new gs(n))}}class th{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new nu(this,"async_queue_retry"),this.Vu=()=>{const e=eu();e&&Bi("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=eu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=eu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Xi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Is(e))throw e;Bi("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw qi("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=zu.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&Ki()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function nh(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class rh extends Gd{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new th,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new th(e),this._firestoreClient=void 0,await e}}}function ih(e){if(e._terminated)throw new Qi(Yi.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||sh(e),e._firestoreClient}function sh(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new ea(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ud(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Dd(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class ah{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ah(Ks.fromBase64String(e))}catch(e){throw new Qi(Yi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ah(Ks.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class oh{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Qi(Yi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ms(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lh{constructor(e){this._methodName=e}}class ch{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Qi(Yi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Qi(Yi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ls(this._lat,e._lat)||ls(this._long,e._long)}}class uh{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const dh=/^__.*__$/;class hh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new el(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zo(e,this.data,t,this.fieldTransforms)}}class fh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new el(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ph(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ki()}}class mh{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new mh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return jh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(ph(this.Cu)&&dh.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class gh{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||tu(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new mh({Cu:e,methodName:t,qu:n,path:ms.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yh(e){const t=e._freezeSettings(),n=tu(e._databaseId);return new gh(e._databaseId,!!t.ignoreUndefinedProperties,n)}function vh(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);Ah("Data must be an object, but it was:",a,r);const o=Nh(r,a);let l,c;if(s.merge)l=new $s(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Ph(t,r,n);if(!a.contains(i))throw new Qi(Yi.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Oh(e,i)||e.push(i)}l=new $s(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new hh(new wa(o),l,c)}class bh extends lh{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bh}}function wh(e,t,n){return new mh({Cu:3,qu:t.settings.qu,methodName:e._methodName,xu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class kh extends lh{_toFieldTransform(e){return new qo(e.path,new Oo)}isEqual(e){return e instanceof kh}}class xh extends lh{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=wh(this,e,!0),n=this.Ku.map(e=>Ih(e,t)),r=new Lo(n);return new qo(e.path,r)}isEqual(e){return e instanceof xh&&x(this.Ku,e.Ku)}}class Sh extends lh{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=wh(this,e,!0),n=this.Ku.map(e=>Ih(e,t)),r=new zo(n);return new qo(e.path,r)}isEqual(e){return e instanceof Sh&&x(this.Ku,e.Ku)}}function Eh(e,t,n,r){const i=e.Qu(1,t,n);Ah("Data must be an object, but it was:",i,r);const s=[],a=wa.empty();Ms(r,(e,r)=>{const o=Rh(t,e,n);r=C(r);const l=i.Nu(o);if(r instanceof bh)s.push(o);else{const e=Ih(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new $s(s);return new fh(a,o,i.fieldTransforms)}function _h(e,t,n,r,i,s){const a=e.Qu(1,t,n),o=[Ph(t,r,n)],l=[i];if(s.length%2!=0)throw new Qi(Yi.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(Ph(t,s[h])),l.push(s[h+1]);const c=[],u=wa.empty();for(let h=o.length-1;h>=0;--h)if(!Oh(c,o[h])){const e=o[h];let t=l[h];t=C(t);const n=a.Nu(e);if(t instanceof bh)c.push(e);else{const r=Ih(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new $s(c);return new fh(u,d,a.fieldTransforms)}function Th(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ih(n,e.Qu(r?4:3,t))}function Ih(e,t){if(Ch(e=C(e)))return Ah("Unsupported field value:",t,e),Nh(e,t);if(e instanceof lh)return function(e,t){if(!ph(t.Cu))throw t.Bu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Bu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Ih(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=C(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ao(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=us.fromDate(e);return{timestampValue:Ol(t.serializer,n)}}if(e instanceof us){const n=new us(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ol(t.serializer,n)}}if(e instanceof ch)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ah)return{bytesValue:Ll(t.serializer,e._byteString)};if(e instanceof Xd){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Fl(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof uh)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return No(t.serializer,e)})}}}}}}(e,t);throw t.Bu(`Unsupported field value: ${Hd(e)}`)}(e,t)}function Nh(e,t){const n={};return zs(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ms(e,(e,r)=>{const i=Ih(r,t.Mu(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Ch(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof us||e instanceof ch||e instanceof ah||e instanceof Xd||e instanceof lh||e instanceof uh)}function Ah(e,t,n){if(!Ch(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Hd(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function Ph(e,t,n){if((t=C(t))instanceof oh)return t._internalPath;if("string"==typeof t)return Rh(e,t);throw jh("Field path arguments must be of type string or ",e,!1,void 0,n)}const Dh=new RegExp("[~\\*/\\[\\]]");function Rh(e,t,n){if(t.search(Dh)>=0)throw jh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new oh(...t.split("."))._internalPath}catch(r){throw jh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function jh(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Qi(Yi.INVALID_ARGUMENT,o+e+l)}function Oh(e,t){return e.some(e=>e.isEqual(t))}class Lh{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Xd(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Mh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Mh extends Lh{data(){return super.data()}}function zh(e,t){return"string"==typeof t?Rh(e,t):t instanceof oh?t._internalPath:t._delegate._internalPath}function Fh(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Qi(Yi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uh{}class Vh extends Uh{}class Bh extends Vh{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Bh(e,t,n)}_apply(e){const t=this._parse(e);return Wh(e._query,t),new Qd(e.firestore,e.converter,io(e._query,t))}_parse(e){const t=yh(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Qi(Yi.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Kh(a,s);const t=[];for(const n of a)t.push(Hh(r,e,n));o={arrayValue:{values:t}}}else o=Hh(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Kh(a,s),o=Th(n,t,a,"in"===s||"not-in"===s);return Ca.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class qh extends Uh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new qh(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Aa.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Wh(n,i),n=io(n,i)}(e._query,t),new Qd(e.firestore,e.converter,io(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class $h extends Vh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $h(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Qi(Yi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Qi(Yi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ta(t,n)}(e._query,this._field,this._direction);return new Qd(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Qa(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Hh(e,t,n){if("string"==typeof(n=C(n))){if(""===n)throw new Qi(Yi.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eo(t)&&-1!==n.indexOf("/"))throw new Qi(Yi.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(fs.fromString(n));if(!gs.isDocumentKey(r))throw new Qi(Yi.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return da(e,new gs(r))}if(n instanceof Xd)return da(e,n._key);throw new Qi(Yi.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hd(n)}.`)}function Kh(e,t){if(!Array.isArray(e)||0===e.length)throw new Qi(Yi.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Wh(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Qi(Yi.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Qi(Yi.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Gh{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ys(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ki()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ms(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Ys(e.doubleValue));return new uh(i)}convertGeoPoint(e){return new ch(Ys(e.latitude),Ys(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Js(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Zs(e));default:return null}}convertTimestamp(e){const t=Gs(e);return new us(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=fs.fromString(e);Wi(oc(n));const r=new ta(n.get(1),n.get(3)),i=new gs(n.popFirst(5));return r.isEqual(t)||qi(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Yh(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Qh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xh extends Lh{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(zh("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Jh extends Xh{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Zh{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Qh(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Jh(this._firestore,this._userDataWriter,n.key,n,new Qh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Qi(Yi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Jh(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Qh(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Jh(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Qh(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:ef(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ef(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ki()}}class tf extends Gh{constructor(e){super(),this.firestore=e}convertBytes(e){return new ah(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xd(this.firestore,null,t)}}function nf(e){e=Kd(e,Qd);const t=Kd(e.firestore,rh),n=ih(t),r=new tf(t);return Fh(e._query),Fd(n,e._query).then(n=>new Zh(t,r,e,n))}function rf(e,t,n){e=Kd(e,Xd);const r=Kd(e.firestore,rh),i=Yh(e.converter,t,n);return cf(r,[vh(yh(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ho.none())])}function sf(e,t,n){e=Kd(e,Xd);const r=Kd(e.firestore,rh),i=yh(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=C(t))||t instanceof oh?_h(i,"updateDoc",e._key,t,n,o):Eh(i,"updateDoc",e._key,t),cf(r,[s.toMutation(e._key,Ho.exists(!0))])}function af(e){return cf(Kd(e.firestore,rh),[new il(e._key,Ho.none())])}function of(e,t){const n=Kd(e.firestore,rh),r=eh(e),i=Yh(e.converter,t);return cf(n,[vh(yh(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ho.exists(!1))]).then(()=>r)}function lf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=C(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||nh(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(nh(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof Xd)d=Kd(e.firestore,rh),h=Ja(e._key.path),u={next:t=>{n[l]&&n[l](uf(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Kd(e,Qd);d=Kd(t.firestore,rh),h=t._query;const r=new tf(d);u={next:e=>{n[l]&&n[l](new Zh(d,r,t,e))},error:n[l+1],complete:n[l+2]},Fh(e._query)}return function(e,t,n,r){const i=new Pd(r),s=new Zu(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Ku(await zd(e),s)),()=>{i.Za(),e.asyncQueue.enqueueAndForget(async()=>Wu(await zd(e),s))}}(ih(d),h,c,u)}function cf(e,t){return function(e,t){const n=new Xi;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Nd(e);try{const e=await function(e,t){const n=Gi(e),r=us.now(),i=t.reduce((e,t)=>e.add(t.key),_o());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=go(),l=_o();return n.cs.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=Xo(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new el(e.key,t,ka(t.value.mapValue),Ho.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:bo(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new Fs(ls)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await Ed(r,e.changes),await _u(r.remoteStore)}catch(e){const t=Fu(e,"Failed to persist write");n.reject(t)}}(await Md(e),t,n)),n.promise}(ih(e),t)}function uf(e,t,n){const r=n.docs.get(t._key),i=new tf(e);return new Xh(e,i,t._key,r,new Qh(n.hasPendingWrites,n.fromCache),t.converter)}function df(){return new kh("serverTimestamp")}function hf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xh("arrayUnion",t)}function ff(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Sh("arrayRemove",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Fi=e}($e),Fe(new A("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new rh(new ts(e.getProvider("auth-internal")),new ss(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Qi(Yi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ta(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),We(Mi,"4.7.3",e),We(Mi,"4.7.3","esm2017")}();var pf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mf=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),gf=(e,t)=>{const n=(0,r.forwardRef)((n,i)=>{let{color:s="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:u,...d}=n;return(0,r.createElement)("svg",{ref:i,...pf,width:a,height:a,stroke:s,strokeWidth:l?24*Number(o)/Number(a):o,className:["lucide",`lucide-${mf(e)}`,c].join(" "),...d},[...t.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(u)?u:[u]])});return n.displayName=`${e}`,n},yf=gf("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),vf=gf("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),bf=gf("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),wf=gf("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),kf=gf("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),xf=gf("Component",[["path",{d:"M5.5 8.5 9 12l-3.5 3.5L2 12l3.5-3.5Z",key:"1kciei"}],["path",{d:"m12 2 3.5 3.5L12 9 8.5 5.5 12 2Z",key:"1ome0g"}],["path",{d:"M18.5 8.5 22 12l-3.5 3.5L15 12l3.5-3.5Z",key:"vbupec"}],["path",{d:"m12 15 3.5 3.5L12 22l-3.5-3.5L12 15Z",key:"16csic"}]]),Sf=gf("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Ef=gf("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]),_f=gf("BookText",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["path",{d:"M8 7h6",key:"1f0q6e"}],["path",{d:"M8 11h8",key:"vwpz6n"}]]),Tf=gf("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),If=gf("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);We("firebase","10.14.1","app");const Nf={apiKey:"AIzaSyAKSwjetkHMql81024nhoIj4Ka6W65AplM",authDomain:"yzta-akademi.firebaseapp.com",projectId:"yzta-akademi",storageBucket:"yzta-akademi.appspot.com",messagingSenderId:"1033195492342",appId:"1:1033195492342:web:8e7415ba995ba868d2edd7",measurementId:"G-SSZB5BX7LN"},Cf=He(Nf),Af=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();const t=Ue(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Ue(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(x(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;ut(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:gi,persistence:[Nr,dr,fr]}),r=p("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>wi)return;const r=null===t||void 0===t?void 0:t.token;ki!==r&&(ki=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){C(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){C(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=h("auth");return s&&Nn(n,`http://${s}`),n}(Cf),Pf=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Ue("object"==typeof e?e:Ke(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=h(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Yd(r,...e)}return r}(Cf),Df=gf("BrainCircuit",[["path",{d:"M12 4.5a2.5 2.5 0 0 0-4.96-.46 2.5 2.5 0 0 0-1.98 3 2.5 2.5 0 0 0-1.32 4.24 3 3 0 0 0 .34 5.58 2.5 2.5 0 0 0 2.96 3.08 2.5 2.5 0 0 0 4.91.05L12 20V4.5Z",key:"ixwj2a"}],["path",{d:"M16 8V5c0-1.1.9-2 2-2",key:"13dx7u"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M20.5 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1s25gz"}],["path",{d:"M16.5 13a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"127460"}],["path",{d:"M20.5 21a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"fys062"}],["path",{d:"M18.5 3a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1vib61"}]]),Rf=gf("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),jf=gf("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),Of=gf("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Lf=gf("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),Mf=gf("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),zf=gf("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var Ff=n(579);const Uf=e=>{let{userProgress:t,handleRemoveLearnedWord:n,WordCardDisplay:i,QuizComponent:s,MindMapper:a,saveProgress:o,userId:l,db:c,firebaseAppId:u}=e;const[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1);(0,r.useEffect)(()=>{console.log("Dashboard Bile\u015feni y\xfcklendi."),console.log("Dashboard useEffect: userProgress",t),t?(console.log("Dashboard useEffect: userProgress.reading",t.reading),console.log("Dashboard useEffect: userProgress.learnedWords",t.learnedWords),console.log("Dashboard useEffect: userProgress.activities",t.activities)):console.log("Dashboard useEffect: userProgress tan\u0131ms\u0131z veya bo\u015f.")},[t]);const y=t||{reading:{correct:0,total:0},learnedWords:[],activities:[],chatHistory:[]},{reading:v,learnedWords:b,activities:w}=y,k=v||{correct:0,total:0},x=w||[],S=b||[];(0,r.useEffect)(()=>{console.log("Dashboard: currentLearnedWords g\xfcncellendi:",S)},[S]);const E=(e=>{if(!e||!e.reading)return console.warn("calculateProficiencyLevel: 'progress' veya 'progress.reading' tan\u0131ms\u0131z. Varsay\u0131lan olarak 0 d\xf6nd\xfcr\xfcl\xfcyor."),0;const{correct:t,total:n}=e.reading,r="number"===typeof n?n:0;return 0===r?0:("number"===typeof t?t:0)/r*100})(y),_=S.length,T=x.length;return(0,Ff.jsxs)("div",{className:"p-8 animate-fade-in",children:[(0,Ff.jsxs)("h2",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center",children:[(0,Ff.jsxs)("svg",{className:"mr-3 text-violet-600",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Ff.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,Ff.jsx)("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),(0,Ff.jsx)("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]}),"\u0130lerleme Paneli"]}),(0,Ff.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,Ff.jsxs)("button",{onClick:()=>h(!d),className:"bg-blue-500 hover:bg-blue-600 text-white py-3 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2 shadow-lg",children:[(0,Ff.jsx)(xf,{size:20}),(0,Ff.jsx)("span",{children:d?"Kelime Kartlar\u0131n\u0131 Gizle":"Kelime Kartlar\u0131n\u0131 G\xf6ster"})]}),(0,Ff.jsxs)("button",{onClick:()=>p(!f),className:"bg-green-500 hover:bg-green-600 text-white py-3 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2 shadow-lg",children:[(0,Ff.jsx)(Df,{size:20}),(0,Ff.jsx)("span",{children:f?"Quiz'i Gizle":"Quiz'i Ba\u015flat"})]}),(0,Ff.jsxs)("button",{onClick:()=>g(!m),className:"bg-purple-500 hover:bg-purple-600 text-white py-3 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2 shadow-lg",children:[(0,Ff.jsx)(Rf,{size:20}),(0,Ff.jsx)("span",{children:m?"Ak\u0131l Haritas\u0131n\u0131 Gizle":"Ak\u0131l Haritas\u0131 Olu\u015ftur"})]})]}),(0,Ff.jsxs)("div",{className:"space-y-6 mb-8",children:[d&&i&&(0,Ff.jsxs)("div",{className:"p-6 bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-violet-100 dark:border-slate-700",children:[(0,Ff.jsxs)("h3",{className:"text-xl font-semibold text-slate-700 dark:text-white mb-4 flex items-center",children:[(0,Ff.jsx)(xf,{className:"mr-2 text-blue-500",size:24}),"Kelime Kartlar\u0131"]}),(0,Ff.jsx)(i,{userId:l,db:c,firebaseAppId:u,saveProgress:o})]}),f&&s&&(0,Ff.jsxs)("div",{className:"p-6 bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-violet-100 dark:border-slate-700",children:[(0,Ff.jsxs)("h3",{className:"text-xl font-semibold text-slate-700 dark:text-white mb-4 flex items-center",children:[(0,Ff.jsx)(Df,{className:"mr-2 text-green-500",size:24}),"Quiz"]}),(0,Ff.jsx)(s,{})]}),m&&a&&(0,Ff.jsxs)("div",{className:"p-6 bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-violet-100 dark:border-slate-700",children:[(0,Ff.jsxs)("h3",{className:"text-xl font-semibold text-slate-700 dark:text-white mb-4 flex items-center",children:[(0,Ff.jsx)(Rf,{className:"mr-2 text-purple-500",size:24}),"Ak\u0131l Haritas\u0131"]}),(0,Ff.jsx)(a,{saveProgress:o})]})]}),(0,Ff.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,Ff.jsx)("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border border-violet-100 dark:border-slate-700",children:(0,Ff.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ff.jsxs)("div",{children:[(0,Ff.jsx)("h3",{className:"text-lg font-semibold text-slate-700 dark:text-white mb-2",children:"Okuma Ba\u015far\u0131s\u0131"}),(0,Ff.jsxs)("p",{className:"text-3xl font-bold text-violet-600",children:[E.toFixed(1),"%"]}),(0,Ff.jsxs)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[k.correct,"/",k.total," do\u011fru"]})]}),(0,Ff.jsx)(jf,{className:"text-violet-500",size:48})]})}),(0,Ff.jsx)("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border border-violet-100 dark:border-slate-700",children:(0,Ff.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ff.jsxs)("div",{children:[(0,Ff.jsx)("h3",{className:"text-lg font-semibold text-slate-700 dark:text-white mb-2",children:"Toplam Etkinlik"}),(0,Ff.jsx)("p",{className:"text-3xl font-bold text-sky-600",children:T}),(0,Ff.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"etkinlik tamamland\u0131"})]}),(0,Ff.jsx)(Of,{className:"text-sky-500",size:48})]})}),(0,Ff.jsx)("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border border-violet-100 dark:border-slate-700",children:(0,Ff.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ff.jsxs)("div",{children:[(0,Ff.jsx)("h3",{className:"text-lg font-semibold text-slate-700 dark:text-white mb-2",children:"\xd6\u011frenilen Kelimeler"}),(0,Ff.jsx)("p",{className:"text-3xl font-bold text-amber-600",children:_}),(0,Ff.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"kelime \xf6\u011frenildi"})]}),(0,Ff.jsx)(Lf,{className:"text-amber-500",size:48})]})})]}),(0,Ff.jsxs)("div",{className:"mb-8",children:[(0,Ff.jsxs)("h3",{className:"text-2xl font-semibold text-slate-700 dark:text-white mb-4 flex items-center",children:[(0,Ff.jsx)(Mf,{className:"mr-2 text-amber-500",size:24}),"\xd6\u011frenilen Kelimeler (",S.length,")"]}),S.length>0?(0,Ff.jsx)("div",{className:"flex flex-wrap gap-3",children:S.map((e,t)=>(0,Ff.jsxs)("span",{className:"bg-violet-100 dark:bg-slate-700 text-violet-800 dark:text-white px-4 py-2 rounded-full text-sm font-medium flex items-center shadow-sm",children:[e,(0,Ff.jsx)("button",{onClick:()=>n(e),className:"ml-3 text-violet-400 hover:text-red-500 focus:outline-none transition-colors",children:(0,Ff.jsx)(Tf,{size:16})})]},t))}):(0,Ff.jsx)("p",{className:"text-slate-500 dark:text-slate-400",children:'Hen\xfcz \xf6\u011frenilen kelimeniz yok. Kelimeleri "\xd6\u011frenildi" olarak i\u015faretleyerek buraya ekleyebilirsiniz.'})]}),(0,Ff.jsxs)("div",{className:"mb-8",children:[(0,Ff.jsxs)("h3",{className:"text-2xl font-semibold text-slate-700 dark:text-white mb-4 flex items-center",children:[(0,Ff.jsx)(Of,{className:"mr-2 text-rose-500",size:24}),"Son Etkinlikler"]}),(0,Ff.jsxs)("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border border-violet-100 dark:border-slate-700",children:[(0,Ff.jsx)("ul",{className:"space-y-2 text-slate-600 dark:text-slate-300",children:x.length>0?x.slice().sort((e,t)=>{var n,r;const i=null!==(n=e.timestamp)&&void 0!==n&&n.toDate?e.timestamp.toDate().getTime():e.timestamp instanceof Date?e.timestamp.getTime():0;return(null!==(r=t.timestamp)&&void 0!==r&&r.toDate?t.timestamp.toDate().getTime():t.timestamp instanceof Date?t.timestamp.getTime():0)-i}).slice(0,10).map((e,t)=>(0,Ff.jsxs)("li",{className:"flex items-center",children:[(0,Ff.jsx)(zf,{className:"inline mr-3 text-slate-400",size:16}),e.text," -"," ",e.timestamp?new Date(e.timestamp.toDate?e.timestamp.toDate():e.timestamp).toLocaleString("tr-TR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Zaman Damgas\u0131 Yok"]},t)):(0,Ff.jsxs)("li",{className:"text-slate-400 flex items-center",children:[(0,Ff.jsx)(zf,{className:"inline mr-3 text-slate-400",size:16})," Hen\xfcz bir etkinlik yok."]})}),x.length>10&&(0,Ff.jsxs)("p",{className:"text-sm text-slate-400 mt-4 text-center",children:["... ve ",x.length-10," etkinlik daha"]})]})]}),(0,Ff.jsxs)("div",{children:[(0,Ff.jsxs)("h3",{className:"text-2xl font-semibold text-slate-700 dark:text-white mb-4 flex items-center",children:[(0,Ff.jsx)(Sf,{className:"mr-2 text-sky-500",size:24}),"G\xf6zden Ge\xe7irilecek Kelimeler"]}),(0,Ff.jsx)("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border border-violet-100 dark:border-slate-700",children:(0,Ff.jsx)("p",{className:"text-slate-500 dark:text-slate-400",children:"G\xf6zden ge\xe7irmeniz gereken kelimeler yak\u0131nda burada listelenecek."})})]})]})},Vf=gf("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Bf=gf("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);function qf(){}function $f(){}const Hf=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Kf=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Wf={};function Gf(e,t){return((t||Wf).jsx?Kf:Hf).test(e)}const Yf=/[ \t\n\f\r]/g;function Qf(e){return""===e.replace(Yf,"")}class Xf{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function Jf(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Xf(n,r,t)}function Zf(e){return e.toLowerCase()}Xf.prototype.normal={},Xf.prototype.property={},Xf.prototype.space=void 0;class ep{constructor(e,t){this.attribute=t,this.property=e}}ep.prototype.attribute="",ep.prototype.booleanish=!1,ep.prototype.boolean=!1,ep.prototype.commaOrSpaceSeparated=!1,ep.prototype.commaSeparated=!1,ep.prototype.defined=!1,ep.prototype.mustUseProperty=!1,ep.prototype.number=!1,ep.prototype.overloadedBoolean=!1,ep.prototype.property="",ep.prototype.spaceSeparated=!1,ep.prototype.space=void 0;let tp=0;const np=cp(),rp=cp(),ip=cp(),sp=cp(),ap=cp(),op=cp(),lp=cp();function cp(){return 2**++tp}const up=Object.keys(e);class dp extends ep{constructor(t,n,r,i){let s=-1;if(super(t,n),hp(this,"space",i),"number"===typeof r)for(;++s<up.length;){const t=up[s];hp(this,up[s],(r&e[t])===e[t])}}}function hp(e,t,n){n&&(e[t]=n)}function fp(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new dp(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Zf(r)]=r,n[Zf(s.attribute)]=r}return new Xf(t,n,e.space)}dp.prototype.defined=!0;const pp=fp({properties:{ariaActiveDescendant:null,ariaAtomic:rp,ariaAutoComplete:null,ariaBusy:rp,ariaChecked:rp,ariaColCount:sp,ariaColIndex:sp,ariaColSpan:sp,ariaControls:ap,ariaCurrent:null,ariaDescribedBy:ap,ariaDetails:null,ariaDisabled:rp,ariaDropEffect:ap,ariaErrorMessage:null,ariaExpanded:rp,ariaFlowTo:ap,ariaGrabbed:rp,ariaHasPopup:null,ariaHidden:rp,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ap,ariaLevel:sp,ariaLive:null,ariaModal:rp,ariaMultiLine:rp,ariaMultiSelectable:rp,ariaOrientation:null,ariaOwns:ap,ariaPlaceholder:null,ariaPosInSet:sp,ariaPressed:rp,ariaReadOnly:rp,ariaRelevant:null,ariaRequired:rp,ariaRoleDescription:ap,ariaRowCount:sp,ariaRowIndex:sp,ariaRowSpan:sp,ariaSelected:rp,ariaSetSize:sp,ariaSort:null,ariaValueMax:sp,ariaValueMin:sp,ariaValueNow:sp,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function mp(e,t){return t in e?e[t]:t}function gp(e,t){return mp(e,t.toLowerCase())}const yp=fp({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:op,acceptCharset:ap,accessKey:ap,action:null,allow:null,allowFullScreen:np,allowPaymentRequest:np,allowUserMedia:np,alt:null,as:null,async:np,autoCapitalize:null,autoComplete:ap,autoFocus:np,autoPlay:np,blocking:ap,capture:null,charSet:null,checked:np,cite:null,className:ap,cols:sp,colSpan:null,content:null,contentEditable:rp,controls:np,controlsList:ap,coords:sp|op,crossOrigin:null,data:null,dateTime:null,decoding:null,default:np,defer:np,dir:null,dirName:null,disabled:np,download:ip,draggable:rp,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:np,formTarget:null,headers:ap,height:sp,hidden:ip,high:sp,href:null,hrefLang:null,htmlFor:ap,httpEquiv:ap,id:null,imageSizes:null,imageSrcSet:null,inert:np,inputMode:null,integrity:null,is:null,isMap:np,itemId:null,itemProp:ap,itemRef:ap,itemScope:np,itemType:ap,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:np,low:sp,manifest:null,max:null,maxLength:sp,media:null,method:null,min:null,minLength:sp,multiple:np,muted:np,name:null,nonce:null,noModule:np,noValidate:np,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:np,optimum:sp,pattern:null,ping:ap,placeholder:null,playsInline:np,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:np,referrerPolicy:null,rel:ap,required:np,reversed:np,rows:sp,rowSpan:sp,sandbox:ap,scope:null,scoped:np,seamless:np,selected:np,shadowRootClonable:np,shadowRootDelegatesFocus:np,shadowRootMode:null,shape:null,size:sp,sizes:null,slot:null,span:sp,spellCheck:rp,src:null,srcDoc:null,srcLang:null,srcSet:null,start:sp,step:null,style:null,tabIndex:sp,target:null,title:null,translate:null,type:null,typeMustMatch:np,useMap:null,value:rp,width:sp,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ap,axis:null,background:null,bgColor:null,border:sp,borderColor:null,bottomMargin:sp,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:np,declare:np,event:null,face:null,frame:null,frameBorder:null,hSpace:sp,leftMargin:sp,link:null,longDesc:null,lowSrc:null,marginHeight:sp,marginWidth:sp,noResize:np,noHref:np,noShade:np,noWrap:np,object:null,profile:null,prompt:null,rev:null,rightMargin:sp,rules:null,scheme:null,scrolling:rp,standby:null,summary:null,text:null,topMargin:sp,valueType:null,version:null,vAlign:null,vLink:null,vSpace:sp,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:np,disableRemotePlayback:np,prefix:null,property:null,results:sp,security:null,unselectable:null},space:"html",transform:gp}),vp=fp({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:lp,accentHeight:sp,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:sp,amplitude:sp,arabicForm:null,ascent:sp,attributeName:null,attributeType:null,azimuth:sp,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:sp,by:null,calcMode:null,capHeight:sp,className:ap,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:sp,diffuseConstant:sp,direction:null,display:null,dur:null,divisor:sp,dominantBaseline:null,download:np,dx:null,dy:null,edgeMode:null,editable:null,elevation:sp,enableBackground:null,end:null,event:null,exponent:sp,externalResourcesRequired:null,fill:null,fillOpacity:sp,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:op,g2:op,glyphName:op,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:sp,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:sp,horizOriginX:sp,horizOriginY:sp,id:null,ideographic:sp,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:sp,k:sp,k1:sp,k2:sp,k3:sp,k4:sp,kernelMatrix:lp,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:sp,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:sp,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:sp,overlineThickness:sp,paintOrder:null,panose1:null,path:null,pathLength:sp,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ap,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:sp,pointsAtY:sp,pointsAtZ:sp,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:lp,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:lp,rev:lp,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:lp,requiredFeatures:lp,requiredFonts:lp,requiredFormats:lp,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:sp,specularExponent:sp,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:sp,strikethroughThickness:sp,string:null,stroke:null,strokeDashArray:lp,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:sp,strokeOpacity:sp,strokeWidth:null,style:null,surfaceScale:sp,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:lp,tabIndex:sp,tableValues:null,target:null,targetX:sp,targetY:sp,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:lp,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:sp,underlineThickness:sp,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:sp,values:null,vAlphabetic:sp,vMathematical:sp,vectorEffect:null,vHanging:sp,vIdeographic:sp,version:null,vertAdvY:sp,vertOriginX:sp,vertOriginY:sp,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:sp,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:mp}),bp=fp({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),wp=fp({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:gp}),kp=fp({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),xp=Jf([pp,yp,bp,wp,kp],"html"),Sp=Jf([pp,vp,bp,wp,kp],"svg"),Ep=/[A-Z]/g,_p=/-[a-z]/g,Tp=/^data[-\w.:]+$/i;function Ip(e){return"-"+e.toLowerCase()}function Np(e){return e.charAt(1).toUpperCase()}const Cp={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var Ap=n(294);const Pp=Rp("end"),Dp=Rp("start");function Rp(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"===typeof n.line&&n.line>0&&"number"===typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"===typeof n.offset&&n.offset>-1?n.offset:void 0}}}function jp(e){return e&&"object"===typeof e?"position"in e||"type"in e?Lp(e.position):"start"in e||"end"in e?Lp(e):"line"in e||"column"in e?Op(e):"":""}function Op(e){return Mp(e&&e.line)+":"+Mp(e&&e.column)}function Lp(e){return Op(e&&e.start)+"-"+Op(e&&e.end)}function Mp(e){return e&&"number"===typeof e?e:1}class zp extends Error{constructor(e,t,n){super(),"string"===typeof t&&(n=t,t=void 0);let r="",i={},s=!1;if(t&&(i="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"===typeof e?r=e:!i.cause&&e&&(s=!0,r=e.message,i.cause=e),!i.ruleId&&!i.source&&"string"===typeof n){const e=n.indexOf(":");-1===e?i.ruleId=n:(i.source=n.slice(0,e),i.ruleId=n.slice(e+1))}if(!i.place&&i.ancestors&&i.ancestors){const e=i.ancestors[i.ancestors.length-1];e&&(i.place=e.position)}const a=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=a?a.line:void 0,this.name=jp(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=s&&i.cause&&"string"===typeof i.cause.stack?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}zp.prototype.file="",zp.prototype.name="",zp.prototype.reason="",zp.prototype.message="",zp.prototype.stack="",zp.prototype.column=void 0,zp.prototype.line=void 0,zp.prototype.ancestors=void 0,zp.prototype.cause=void 0,zp.prototype.fatal=void 0,zp.prototype.place=void 0,zp.prototype.ruleId=void 0,zp.prototype.source=void 0;const Fp={}.hasOwnProperty,Up=new Map,Vp=/[A-Z]/g,Bp=new Set(["table","tbody","thead","tfoot","tr"]),qp=new Set(["td","th"]),$p="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Hp(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if("function"!==typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(e,t){return n;function n(n,r,i,s){const a=Array.isArray(i.children),o=Dp(n);return t(r,i,s,a,{columnNumber:o?o.column-1:void 0,fileName:e,lineNumber:o?o.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!==typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!==typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");r=function(e,t,n){return r;function r(e,r,i,s){const a=Array.isArray(i.children)?n:t;return s?a(r,i,s):a(r,i)}}(0,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?Sp:xp,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},s=Kp(i,e,void 0);return s&&"string"!==typeof s?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function Kp(e,t,n){return"element"===t.type?function(e,t,n){const r=e.schema;let i=r;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(i=Sp,e.schema=i);e.ancestors.push(t);const s=Xp(e,t.tagName,!1),a=function(e,t){const n={};let r,i;for(i in t.properties)if("children"!==i&&Fp.call(t.properties,i)){const s=Qp(e,i,t.properties[i]);if(s){const[i,a]=s;e.tableCellAlignToStyle&&"align"===i&&"string"===typeof a&&qp.has(t.tagName)?r=a:n[i]=a}}if(r){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r}return n}(e,t);let o=Yp(e,t);Bp.has(t.tagName)&&(o=o.filter(function(e){return"string"!==typeof e||!("object"===typeof(t=e)?"text"===t.type&&Qf(t.value):Qf(t));var t}));return Wp(e,a,s,t),Gp(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Jp(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const r=e.schema;let i=r;"svg"===t.name&&"html"===r.space&&(i=Sp,e.schema=i);e.ancestors.push(t);const s=null===t.name?e.Fragment:Xp(e,t.name,!0),a=function(e,t){const n={};for(const r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){const t=r.data.estree.body[0];qf(t.type);const i=t.expression;qf(i.type);const s=i.properties[0];qf(s.type),Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else Jp(e,t.position);else{const i=r.name;let s;if(r.value&&"object"===typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){const t=r.value.data.estree.body[0];qf(t.type),s=e.evaluater.evaluateExpression(t.expression)}else Jp(e,t.position);else s=null===r.value||r.value;n[i]=s}return n}(e,t),o=Yp(e,t);return Wp(e,a,s,t),Gp(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Jp(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const r={};return Gp(r,Yp(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function Wp(e,t,n,r){"string"!==typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Gp(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Yp(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Up;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const e="element"===s.type?s.tagName:"mdxJsxFlowElement"===s.type||"mdxJsxTextElement"===s.type?s.name:void 0;if(e){const t=i.get(e)||0;a=e+"-"+t,i.set(e,t+1)}}const o=Kp(e,s,a);void 0!==o&&n.push(o)}return n}function Qp(e,t,n){const r=function(e,t){const n=Zf(t);let r=t,i=ep;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&Tp.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(_p,Np);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!_p.test(e)){let n=e.replace(Ep,Ip);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}i=dp}return new i(r,t)}(e.schema,t);if(!(null===n||void 0===n||"number"===typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?function(e,t){const n=t||{};return(""===e[e.length-1]?[...e,""]:e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===r.property){let t="object"===typeof n?n:function(e,t){try{return Ap(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const t=n,r=new zp("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=$p+"#cannot-parse-style-attribute",r}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)Fp.call(e,n)&&(t[Zp(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?Cp[r.property]||r.property:r.attribute,n]}}function Xp(e,t,n){let r;if(n)if(t.includes(".")){const e=t.split(".");let n,i=-1;for(;++i<e.length;){const t=Gf(e[i])?{type:"Identifier",name:e[i]}:{type:"Literal",value:e[i]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(i&&"Literal"===t.type),optional:!1}:t}r=n}else r=Gf(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){const t=r.value;return Fp.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);Jp(e)}function Jp(e,t){const n=new zp("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=$p+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Zp(e){let t=e.replace(Vp,em);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function em(e){return"-"+e.toLowerCase()}const tm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},nm={};function rm(e,t,n){if(function(e){return Boolean(e&&"object"===typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return im(e.children,t,n)}return Array.isArray(e)?im(e,t,n):""}function im(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=rm(e[i],t,n);return r.join("")}function sm(e,t,n,r){const i=e.length;let s,a=0;if(t=t<0?-t>i?0:i+t:t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function am(e,t){return e.length>0?(sm(e,e.length,0,t),e):t}class om{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null===t||void 0===t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const i=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&lm(this.left,n),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),lm(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),lm(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);lm(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);lm(this.left,t.reverse())}}}function lm(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function cm(e){const t={};let n,r,i,s,a,o,l,c=-1;const u=new om(e);for(;++c<u.length;){for(;c in t;)c=t[c];if(n=u.get(c),c&&"chunkFlow"===n[1].type&&"listItemPrefix"===u.get(c-1)[1].type&&(o=n[1]._tokenizer.events,i=0,i<o.length&&"lineEndingBlank"===o[i][1].type&&(i+=2),i<o.length&&"content"===o[i][1].type))for(;++i<o.length&&"content"!==o[i][1].type;)"chunkText"===o[i][1].type&&(o[i][1]._isInFirstContentOfListItem=!0,i++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,um(u,c)),c=t[c],l=!0);else if(n[1]._container){for(i=c,r=void 0;i--;)if(s=u.get(i),"lineEnding"===s[1].type||"lineEndingBlank"===s[1].type)"enter"===s[0]&&(r&&(u.get(r)[1].type="lineEndingBlank"),s[1].type="lineEnding",r=i);else if("linePrefix"!==s[1].type&&"listItemIndent"!==s[1].type)break;r&&(n[1].end={...u.get(r)[1].start},a=u.slice(r,c),a.unshift(n),u.splice(r,c-r+1,a))}}return sm(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!l}function um(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],c={};let u,d,h=-1,f=n,p=0,m=0;const g=[m];for(;f;){for(;e.get(++i)[1]!==f;);s.push(i),f._tokenizer||(u=r.sliceStream(f),f.next||u.push(null),d&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=n;++h<o.length;)"exit"===o[h][0]&&"enter"===o[h-1][0]&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(m=h+1,g.push(m),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):g.pop(),h=g.length;h--;){const t=o.slice(g[h],g[h+1]),n=s.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),h=-1;++h<l.length;)c[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return c}const dm={}.hasOwnProperty;function hm(e,t){let n;for(n in t){const r=(dm.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let s;if(i)for(s in i){dm.call(r,s)||(r[s]=[]);const e=i[s];fm(r[s],Array.isArray(e)?e:e?[e]:[])}}}function fm(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);sm(e,0,0,r)}const pm=Tm(/[A-Za-z]/),mm=Tm(/[\dA-Za-z]/),gm=Tm(/[#-'*+\--9=?A-Z^-~]/);function ym(e){return null!==e&&(e<32||127===e)}const vm=Tm(/\d/),bm=Tm(/[\dA-Fa-f]/),wm=Tm(/[!-/:-@[-`{-~]/);function km(e){return null!==e&&e<-2}function xm(e){return null!==e&&(e<0||32===e)}function Sm(e){return-2===e||-1===e||32===e}const Em=Tm(/\p{P}|\p{S}/u),_m=Tm(/\s/);function Tm(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function Im(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return function(r){if(Sm(r))return e.enter(n),a(r);return t(r)};function a(r){return Sm(r)&&s++<i?(e.consume(r),a):(e.exit(n),t(r))}}const Nm={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Im(e,t,"linePrefix")},function(t){return e.enter("paragraph"),r(t)});let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,i(t)}function i(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):km(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),i)}}};const Cm={tokenize:function(e){const t=this,n=[];let r,i,s,a=0;return o;function o(r){if(a<n.length){const i=n[a];return t.containerState=i[1],e.attempt(i[0].continuation,l,c)(r)}return c(r)}function l(e){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&v();const n=t.events.length;let i,s=n;for(;s--;)if("exit"===t.events[s][0]&&"chunkFlow"===t.events[s][1].type){i=t.events[s][1].end;break}y(a);let o=n;for(;o<t.events.length;)t.events[o][1].end={...i},o++;return sm(t.events,s+1,0,t.events.slice(n)),t.events.length=o,c(e)}return o(e)}function c(i){if(a===n.length){if(!r)return h(i);if(r.currentConstruct&&r.currentConstruct.concrete)return p(i);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Am,u,d)(i)}function u(e){return r&&v(),y(a),h(e)}function d(e){return t.parser.lazy[t.now().line]=a!==n.length,s=t.now().offset,p(e)}function h(n){return t.containerState={},e.attempt(Am,f,p)(n)}function f(e){return a++,n.push([t.currentConstruct,t.containerState]),h(e)}function p(n){return null===n?(r&&v(),y(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:i}),m(n))}function m(n){return null===n?(g(e.exit("chunkFlow"),!0),y(0),void e.consume(n)):km(n)?(e.consume(n),g(e.exit("chunkFlow")),a=0,t.interrupt=void 0,o):(e.consume(n),m)}function g(e,n){const o=t.sliceStream(e);if(n&&o.push(null),e.previous=i,i&&(i.next=e),i=e,r.defineSkip(e.start),r.write(o),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<s&&(!r.events[e][1].end||r.events[e][1].end.offset>s))return;const n=t.events.length;let i,o,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(i){o=t.events[l][1].end;break}i=!0}for(y(a),e=n;e<t.events.length;)t.events[e][1].end={...o},e++;sm(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function y(r){let i=n.length;for(;i-- >r;){const r=n[i];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function v(){r.write([null]),i=void 0,r=void 0,t.containerState._closeFlow=void 0}}},Am={tokenize:function(e,t,n){return Im(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};const Pm={partial:!0,tokenize:function(e,t,n){return function(t){return Sm(t)?Im(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||km(e)?t(e):n(e)}}};const Dm={resolve:function(e){return cm(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?i(t):km(t)?e.check(Rm,s,i)(t):(e.consume(t),r)}function i(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function s(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}},Rm={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Im(e,i,"linePrefix")};function i(i){if(null===i||km(i))return n(i);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&"linePrefix"===s[1].type&&s[2].sliceSerialize(s[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}};const jm={tokenize:function(e){const t=this,n=e.attempt(Pm,function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n},e.attempt(this.parser.constructs.flowInitial,r,Im(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Dm,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const Om={resolveAll:Fm()},Lm=zm("string"),Mm=zm("text");function zm(e){return{resolveAll:Fm("text"===e?Um:void 0),tokenize:function(t){const n=this,r=this.parser.constructs[e],i=t.attempt(r,s,a);return s;function s(e){return l(e)?i(e):a(e)}function a(e){if(null!==e)return t.enter("data"),t.consume(e),o;t.consume(e)}function o(e){return l(e)?(t.exit("data"),i(e)):(t.consume(e),o)}function l(e){if(null===e)return!0;const t=r[e];let i=-1;if(t)for(;++i<t.length;){const e=t[i];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function Fm(e){return function(t,n){let r,i=-1;for(;++i<=t.length;)void 0===r?t[i]&&"data"===t[i][1].type&&(r=i,i++):t[i]&&"data"===t[i][1].type||(i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),i=r+2),r=void 0);return e?e(t,n):t}}function Um(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],i=t.sliceStream(r);let s,a=i.length,o=-1,l=0;for(;a--;){const e=i[a];if("string"===typeof e){for(o=e.length;32===e.charCodeAt(o-1);)l++,o--;if(o)break;o=-1}else if(-2===e)s=!0,l++;else if(-1!==e){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const i={type:n===e.length||s||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...i.start},r.start.offset===r.end.offset?Object.assign(r,i):(e.splice(n,0,["enter",i,t],["exit",i,t]),n+=2)}n++}return e}const Vm={name:"thematicBreak",tokenize:function(e,t,n){let r,i=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,s(e)}(t)};function s(s){return s===r?(e.enter("thematicBreakSequence"),a(s)):i>=3&&(null===s||km(s))?(e.exit("thematicBreak"),t(s)):n(s)}function a(t){return t===r?(e.consume(t),i++,a):(e.exit("thematicBreakSequence"),Sm(t)?Im(e,s,"whitespace")(t):s(t))}}};const Bm={continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Pm,i,s);function i(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Im(e,t,"listItemIndent",r.containerState.size+1)(n)}function s(n){return r.containerState.furtherBlankLines||!Sm(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt($m,t,a)(n))}function a(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,Im(e,e.attempt(Bm,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,a=0;return function(t){const i=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!r.containerState.marker||t===r.containerState.marker:vm(t)){if(r.containerState.type||(r.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(Vm,n,l)(t):l(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),o(t)}return n(t)};function o(t){return vm(t)&&++a<10?(e.consume(t),o):(!r.interrupt||a<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(Pm,r.interrupt?n:c,e.attempt(qm,d,u))}function c(e){return r.containerState.initialBlankLine=!0,s++,d(e)}function u(t){return Sm(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},qm={partial:!0,tokenize:function(e,t,n){const r=this;return Im(e,function(e){const i=r.events[r.events.length-1];return!Sm(e)&&i&&"listItemPrefixWhitespace"===i[1].type?t(e):n(e)},"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},$m={partial:!0,tokenize:function(e,t,n){const r=this;return Im(e,function(e){const i=r.events[r.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(e):n(e)},"listItemIndent",r.containerState.size+1)}};const Hm={continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(Sm(t))return Im(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return i(t)};function i(r){return e.attempt(Hm,t,n)(r)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),i}return n(t)};function i(n){return Sm(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}};function Km(e,t,n,r,i,s,a,o,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(t){if(60===t)return e.enter(r),e.enter(i),e.enter(s),e.consume(t),e.exit(s),d;if(null===t||32===t||41===t||ym(t))return n(t);return e.enter(r),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),p(t)};function d(n){return 62===n?(e.enter(s),e.consume(n),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(o),d(t)):null===t||60===t||km(t)?n(t):(e.consume(t),92===t?f:h)}function f(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function p(i){return u||null!==i&&41!==i&&!xm(i)?u<c&&40===i?(e.consume(i),u++,p):41===i?(e.consume(i),u--,p):null===i||32===i||40===i||ym(i)?n(i):(e.consume(i),92===i?m:p):(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(r),t(i))}function m(t){return 40===t||41===t||92===t?(e.consume(t),p):p(t)}}function Wm(e,t,n,r,i,s){const a=this;let o,l=0;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),e.enter(s),c};function c(d){return l>999||null===d||91===d||93===d&&!o||94===d&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(d):93===d?(e.exit(s),e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):km(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(d))}function u(t){return null===t||91===t||93===t||km(t)||l++>999?(e.exit("chunkString"),c(t)):(e.consume(t),o||(o=!Sm(t)),92===t?d:u)}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,u):u(t)}}function Gm(e,t,n,r,i,s){let a;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(i),e.consume(t),e.exit(i),a=40===t?41:t,o;return n(t)};function o(n){return n===a?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),t):(e.enter(s),l(n))}function l(t){return t===a?(e.exit(s),o(a)):null===t?n(t):km(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Im(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===a||null===t||km(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return t===a||92===t?(e.consume(t),c):c(t)}}function Ym(e,t){let n;return function r(i){if(km(i))return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r;if(Sm(i))return Im(e,r,n?"linePrefix":"lineSuffix")(i);return t(i)}}function Qm(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Xm={name:"definition",tokenize:function(e,t,n){const r=this;let i;return function(t){return e.enter("definition"),function(t){return Wm.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function s(t){return i=Qm(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),a):n(t)}function a(t){return xm(t)?Ym(e,o)(t):o(t)}function o(t){return Km(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(Jm,c,c)(t)}function c(t){return Sm(t)?Im(e,u,"whitespace")(t):u(t)}function u(s){return null===s||km(s)?(e.exit("definition"),r.parser.defined.push(i),t(s)):n(s)}}},Jm={partial:!0,tokenize:function(e,t,n){return function(t){return xm(t)?Ym(e,r)(t):n(t)};function r(t){return Gm(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function i(t){return Sm(t)?Im(e,s,"whitespace")(t):s(t)}function s(e){return null===e||km(e)?t(e):n(e)}}};const Zm={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),Im(e,i,"linePrefix",5)(t)};function i(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?s(e):n(e)}function s(t){return null===t?o(t):km(t)?e.attempt(eg,s,o)(t):(e.enter("codeFlowValue"),a(t))}function a(t){return null===t||km(t)?(e.exit("codeFlowValue"),s(t)):(e.consume(t),a)}function o(n){return e.exit("codeIndented"),t(n)}}},eg={partial:!0,tokenize:function(e,t,n){const r=this;return i;function i(t){return r.parser.lazy[r.now().line]?n(t):km(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):Im(e,s,"linePrefix",5)(t)}function s(e){const s=r.events[r.events.length-1];return s&&"linePrefix"===s[1].type&&s[2].sliceSerialize(s[1],!0).length>=4?t(e):km(e)?i(e):n(e)}}};const tg={name:"headingAtx",resolve:function(e,t){let n,r,i=e.length-2,s=3;"whitespace"===e[s][1].type&&(s+=2);i-2>s&&"whitespace"===e[i][1].type&&(i-=2);"atxHeadingSequence"===e[i][1].type&&(s===i-1||i-4>s&&"whitespace"===e[i-2][1].type)&&(i-=s+1===i?2:4);i>s&&(n={type:"atxHeadingText",start:e[s][1].start,end:e[i][1].end},r={type:"chunkText",start:e[s][1].start,end:e[i][1].end,contentType:"text"},sm(e,s,i-s+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e},tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),i(t)}(t)};function i(t){return 35===t&&r++<6?(e.consume(t),i):null===t||xm(t)?(e.exit("atxHeadingSequence"),s(t)):n(t)}function s(n){return 35===n?(e.enter("atxHeadingSequence"),a(n)):null===n||km(n)?(e.exit("atxHeading"),t(n)):Sm(n)?Im(e,s,"whitespace")(n):(e.enter("atxHeadingText"),o(n))}function a(t){return 35===t?(e.consume(t),a):(e.exit("atxHeadingSequence"),s(t))}function o(t){return null===t||35===t||xm(t)?(e.exit("atxHeadingText"),s(t)):(e.consume(t),o)}}};const ng={name:"setextUnderline",resolveTo:function(e,t){let n,r,i,s=e.length;for(;s--;)if("enter"===e[s][0]){if("content"===e[s][1].type){n=s;break}"paragraph"===e[s][1].type&&(r=s)}else"content"===e[s][1].type&&e.splice(s,1),i||"definition"!==e[s][1].type||(i=s);const a={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};e[r][1].type="setextHeadingText",i?(e.splice(r,0,["enter",a,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end={...e[i][1].end}):e[n][1]=a;return e.push(["exit",a,t]),e},tokenize:function(e,t,n){const r=this;let i;return function(t){let a,o=r.events.length;for(;o--;)if("lineEnding"!==r.events[o][1].type&&"linePrefix"!==r.events[o][1].type&&"content"!==r.events[o][1].type){a="paragraph"===r.events[o][1].type;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||a))return e.enter("setextHeadingLine"),i=t,function(t){return e.enter("setextHeadingLineSequence"),s(t)}(t);return n(t)};function s(t){return t===i?(e.consume(t),s):(e.exit("setextHeadingLineSequence"),Sm(t)?Im(e,a,"lineSuffix")(t):a(t))}function a(r){return null===r||km(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}}};const rg=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ig=["pre","script","style","textarea"],sg={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},tokenize:function(e,t,n){const r=this;let i,s,a,o,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c}(t)};function c(o){return 33===o?(e.consume(o),u):47===o?(e.consume(o),s=!0,f):63===o?(e.consume(o),i=3,r.interrupt?t:j):pm(o)?(e.consume(o),a=String.fromCharCode(o),p):n(o)}function u(s){return 45===s?(e.consume(s),i=2,d):91===s?(e.consume(s),i=5,o=0,h):pm(s)?(e.consume(s),i=4,r.interrupt?t:j):n(s)}function d(i){return 45===i?(e.consume(i),r.interrupt?t:j):n(i)}function h(i){const s="CDATA[";return i===s.charCodeAt(o++)?(e.consume(i),6===o?r.interrupt?t:T:h):n(i)}function f(t){return pm(t)?(e.consume(t),a=String.fromCharCode(t),p):n(t)}function p(o){if(null===o||47===o||62===o||xm(o)){const l=47===o,c=a.toLowerCase();return l||s||!ig.includes(c)?rg.includes(a.toLowerCase())?(i=6,l?(e.consume(o),m):r.interrupt?t(o):T(o)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(o):s?g(o):y(o)):(i=1,r.interrupt?t(o):T(o))}return 45===o||mm(o)?(e.consume(o),a+=String.fromCharCode(o),p):n(o)}function m(i){return 62===i?(e.consume(i),r.interrupt?t:T):n(i)}function g(t){return Sm(t)?(e.consume(t),g):E(t)}function y(t){return 47===t?(e.consume(t),E):58===t||95===t||pm(t)?(e.consume(t),v):Sm(t)?(e.consume(t),y):E(t)}function v(t){return 45===t||46===t||58===t||95===t||mm(t)?(e.consume(t),v):b(t)}function b(t){return 61===t?(e.consume(t),w):Sm(t)?(e.consume(t),b):y(t)}function w(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,k):Sm(t)?(e.consume(t),w):x(t)}function k(t){return t===l?(e.consume(t),l=null,S):null===t||km(t)?n(t):(e.consume(t),k)}function x(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||xm(t)?b(t):(e.consume(t),x)}function S(e){return 47===e||62===e||Sm(e)?y(e):n(e)}function E(t){return 62===t?(e.consume(t),_):n(t)}function _(t){return null===t||km(t)?T(t):Sm(t)?(e.consume(t),_):n(t)}function T(t){return 45===t&&2===i?(e.consume(t),A):60===t&&1===i?(e.consume(t),P):62===t&&4===i?(e.consume(t),O):63===t&&3===i?(e.consume(t),j):93===t&&5===i?(e.consume(t),R):!km(t)||6!==i&&7!==i?null===t||km(t)?(e.exit("htmlFlowData"),I(t)):(e.consume(t),T):(e.exit("htmlFlowData"),e.check(ag,L,I)(t))}function I(t){return e.check(og,N,L)(t)}function N(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),C}function C(t){return null===t||km(t)?I(t):(e.enter("htmlFlowData"),T(t))}function A(t){return 45===t?(e.consume(t),j):T(t)}function P(t){return 47===t?(e.consume(t),a="",D):T(t)}function D(t){if(62===t){const n=a.toLowerCase();return ig.includes(n)?(e.consume(t),O):T(t)}return pm(t)&&a.length<8?(e.consume(t),a+=String.fromCharCode(t),D):T(t)}function R(t){return 93===t?(e.consume(t),j):T(t)}function j(t){return 62===t?(e.consume(t),O):45===t&&2===i?(e.consume(t),j):T(t)}function O(t){return null===t||km(t)?(e.exit("htmlFlowData"),L(t)):(e.consume(t),O)}function L(n){return e.exit("htmlFlow"),t(n)}}},ag={partial:!0,tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(Pm,t,n)}}},og={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(km(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i;return n(t)};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}};const lg={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},cg={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const r=this,i={partial:!0,tokenize:function(e,t,n){let i=0;return a;function a(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),Sm(t)?Im(e,c,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):c(t)}function c(t){return t===s?(e.enter("codeFencedFenceSequence"),u(t)):n(t)}function u(t){return t===s?(i++,e.consume(t),u):i>=o?(e.exit("codeFencedFenceSequence"),Sm(t)?Im(e,d,"whitespace")(t):d(t)):n(t)}function d(r){return null===r||km(r)?(e.exit("codeFencedFence"),t(r)):n(r)}}};let s,a=0,o=0;return function(t){return function(t){const n=r.events[r.events.length-1];return a=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,s=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===s?(o++,e.consume(t),l):o<3?n(t):(e.exit("codeFencedFenceSequence"),Sm(t)?Im(e,c,"whitespace")(t):c(t))}function c(n){return null===n||km(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(lg,f,v)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),u(n))}function u(t){return null===t||km(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(t)):Sm(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Im(e,d,"whitespace")(t)):96===t&&t===s?n(t):(e.consume(t),u)}function d(t){return null===t||km(t)?c(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||km(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(t)):96===t&&t===s?n(t):(e.consume(t),h)}function f(t){return e.attempt(i,v,p)(t)}function p(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),m}function m(t){return a>0&&Sm(t)?Im(e,g,"linePrefix",a+1)(t):g(t)}function g(t){return null===t||km(t)?e.check(lg,f,v)(t):(e.enter("codeFlowValue"),y(t))}function y(t){return null===t||km(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),y)}function v(n){return e.exit("codeFenced"),t(n)}}};const ug=document.createElement("i");function dg(e){const t="&"+e+";";ug.innerHTML=t;const n=ug.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}const hg={name:"characterReference",tokenize:function(e,t,n){const r=this;let i,s,a=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),o};function o(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),i=31,s=mm,c(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,s=bm,c):(e.enter("characterReferenceValue"),i=7,s=vm,c(t))}function c(o){if(59===o&&a){const i=e.exit("characterReferenceValue");return s!==mm||dg(r.sliceSerialize(i))?(e.enter("characterReferenceMarker"),e.consume(o),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(o)}return s(o)&&a++<i?(e.consume(o),c):n(o)}}};const fg={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return wm(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const pg={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Im(e,t,"linePrefix")}}};function mg(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const gg={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),"labelImage"===r.type||"labelLink"===r.type||"labelEnd"===r.type){const e="labelImage"===r.type?4:2;r.type="data",t+=e}}e.length!==n.length&&sm(e,0,e.length,n);return e},resolveTo:function(e,t){let n,r,i,s,a=e.length,o=0;for(;a--;)if(n=e[a][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[a][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(i){if("enter"===e[a][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=a,"labelLink"!==n.type)){o=2;break}}else"labelEnd"===n.type&&(i=a);const l={type:"labelLink"===e[r][1].type?"link":"image",start:{...e[r][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[r][1].start},end:{...e[i][1].end}},u={type:"labelText",start:{...e[r+o+2][1].end},end:{...e[i-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=am(s,e.slice(r+1,r+o+3)),s=am(s,[["enter",u,t]]),s=am(s,mg(t.parser.constructs.insideSpan.null,e.slice(r+o+4,i-3),t)),s=am(s,[["exit",u,t],e[i-2],e[i-1],["exit",c,t]]),s=am(s,e.slice(i+1)),s=am(s,[["exit",l,t]]),sm(e,r,e.length,s),e},tokenize:function(e,t,n){const r=this;let i,s,a=r.events.length;for(;a--;)if(("labelImage"===r.events[a][1].type||"labelLink"===r.events[a][1].type)&&!r.events[a][1]._balanced){i=r.events[a][1];break}return function(t){if(!i)return n(t);if(i._inactive)return u(t);return s=r.parser.defined.includes(Qm(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),o};function o(t){return 40===t?e.attempt(yg,c,s?c:u)(t):91===t?e.attempt(vg,c,s?l:u)(t):s?c(t):u(t)}function l(t){return e.attempt(bg,c,u)(t)}function c(e){return t(e)}function u(e){return i._balanced=!0,n(e)}}},yg={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return xm(t)?Ym(e,i)(t):i(t)}function i(t){return 41===t?c(t):Km(e,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function s(t){return xm(t)?Ym(e,o)(t):c(t)}function a(e){return n(e)}function o(t){return 34===t||39===t||40===t?Gm(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):c(t)}function l(t){return xm(t)?Ym(e,c)(t):c(t)}function c(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},vg={tokenize:function(e,t,n){const r=this;return function(t){return Wm.call(r,e,i,s,"reference","referenceMarker","referenceString")(t)};function i(e){return r.parser.defined.includes(Qm(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function s(e){return n(e)}}},bg={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const wg={name:"labelStartImage",resolveAll:gg.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),i};function i(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),s):n(t)}function s(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};function kg(e){return null===e||xm(e)||_m(e)?1:Em(e)?2:void 0}const xg={name:"attention",resolveAll:function(e,t){let n,r,i,s,a,o,l,c,u=-1;for(;++u<e.length;)if("enter"===e[u][0]&&"attentionSequence"===e[u][1].type&&e[u][1]._close)for(n=u;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;o=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const d={...e[n][1].end},h={...e[u][1].start};Sg(d,-o),Sg(h,o),s={type:o>1?"strongSequence":"emphasisSequence",start:d,end:{...e[n][1].end}},a={type:o>1?"strongSequence":"emphasisSequence",start:{...e[u][1].start},end:h},i={type:o>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[u][1].start}},r={type:o>1?"strong":"emphasis",start:{...s.start},end:{...a.end}},e[n][1].end={...s.start},e[u][1].start={...a.end},l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=am(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=am(l,[["enter",r,t],["enter",s,t],["exit",s,t],["enter",i,t]]),l=am(l,mg(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=am(l,[["exit",i,t],["enter",a,t],["exit",a,t],["exit",r,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=am(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,sm(e,n-1,u-n+3,l),u=n+l.length-c-2;break}u=-1;for(;++u<e.length;)"attentionSequence"===e[u][1].type&&(e[u][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=kg(r);let s;return function(t){return s=t,e.enter("attentionSequence"),a(t)};function a(o){if(o===s)return e.consume(o),a;const l=e.exit("attentionSequence"),c=kg(o),u=!c||2===c&&i||n.includes(o),d=!i||2===i&&c||n.includes(r);return l._open=Boolean(42===s?u:u&&(i||!d)),l._close=Boolean(42===s?d:d&&(c||!u)),t(o)}}};function Sg(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Eg={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i};function i(t){return pm(t)?(e.consume(t),s):64===t?n(t):l(t)}function s(e){return 43===e||45===e||46===e||mm(e)?(r=1,a(e)):l(e)}function a(t){return 58===t?(e.consume(t),r=0,o):(43===t||45===t||46===t||mm(t))&&r++<32?(e.consume(t),a):(r=0,l(t))}function o(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||ym(r)?n(r):(e.consume(r),o)}function l(t){return 64===t?(e.consume(t),c):gm(t)?(e.consume(t),l):n(t)}function c(e){return mm(e)?u(e):n(e)}function u(n){return 46===n?(e.consume(n),r=0,c):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):d(n)}function d(t){if((45===t||mm(t))&&r++<63){const n=45===t?d:u;return e.consume(t),n}return n(t)}}};const _g={name:"htmlText",tokenize:function(e,t,n){const r=this;let i,s,a;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),o};function o(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),w):63===t?(e.consume(t),v):pm(t)?(e.consume(t),S):n(t)}function l(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),s=0,f):pm(t)?(e.consume(t),y):n(t)}function c(t){return 45===t?(e.consume(t),h):n(t)}function u(t){return null===t?n(t):45===t?(e.consume(t),d):km(t)?(a=u,D(t)):(e.consume(t),u)}function d(t){return 45===t?(e.consume(t),h):u(t)}function h(e){return 62===e?P(e):45===e?d(e):u(e)}function f(t){const r="CDATA[";return t===r.charCodeAt(s++)?(e.consume(t),6===s?p:f):n(t)}function p(t){return null===t?n(t):93===t?(e.consume(t),m):km(t)?(a=p,D(t)):(e.consume(t),p)}function m(t){return 93===t?(e.consume(t),g):p(t)}function g(t){return 62===t?P(t):93===t?(e.consume(t),g):p(t)}function y(t){return null===t||62===t?P(t):km(t)?(a=y,D(t)):(e.consume(t),y)}function v(t){return null===t?n(t):63===t?(e.consume(t),b):km(t)?(a=v,D(t)):(e.consume(t),v)}function b(e){return 62===e?P(e):v(e)}function w(t){return pm(t)?(e.consume(t),k):n(t)}function k(t){return 45===t||mm(t)?(e.consume(t),k):x(t)}function x(t){return km(t)?(a=x,D(t)):Sm(t)?(e.consume(t),x):P(t)}function S(t){return 45===t||mm(t)?(e.consume(t),S):47===t||62===t||xm(t)?E(t):n(t)}function E(t){return 47===t?(e.consume(t),P):58===t||95===t||pm(t)?(e.consume(t),_):km(t)?(a=E,D(t)):Sm(t)?(e.consume(t),E):P(t)}function _(t){return 45===t||46===t||58===t||95===t||mm(t)?(e.consume(t),_):T(t)}function T(t){return 61===t?(e.consume(t),I):km(t)?(a=T,D(t)):Sm(t)?(e.consume(t),T):E(t)}function I(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),i=t,N):km(t)?(a=I,D(t)):Sm(t)?(e.consume(t),I):(e.consume(t),C)}function N(t){return t===i?(e.consume(t),i=void 0,A):null===t?n(t):km(t)?(a=N,D(t)):(e.consume(t),N)}function C(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||xm(t)?E(t):(e.consume(t),C)}function A(e){return 47===e||62===e||xm(e)?E(e):n(e)}function P(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function D(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),R}function R(t){return Sm(t)?Im(e,j,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):j(t)}function j(t){return e.enter("htmlTextData"),a(t)}}};const Tg={name:"labelStartLink",resolveAll:gg.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),i};function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const Ig={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return km(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const Ng={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,r=e.length-4,i=3;if(("lineEnding"===e[i][1].type||"space"===e[i][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type))for(t=i;++t<r;)if("codeTextData"===e[t][1].type){e[i][1].type="codeTextPadding",e[r][1].type="codeTextPadding",i+=2,r-=2;break}t=i-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let r,i,s=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),a(t)};function a(t){return 96===t?(e.consume(t),s++,a):(e.exit("codeTextSequence"),o(t))}function o(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),o):96===t?(i=e.enter("codeTextSequence"),r=0,c(t)):km(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||km(t)?(e.exit("codeTextData"),o(t)):(e.consume(t),l)}function c(n){return 96===n?(e.consume(n),r++,c):r===s?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(i.type="codeTextData",l(n))}}};const Cg={42:Bm,43:Bm,45:Bm,48:Bm,49:Bm,50:Bm,51:Bm,52:Bm,53:Bm,54:Bm,55:Bm,56:Bm,57:Bm,62:Hm},Ag={91:Xm},Pg={[-2]:Zm,[-1]:Zm,32:Zm},Dg={35:tg,42:Vm,45:[ng,Vm],60:sg,61:ng,95:Vm,96:cg,126:cg},Rg={38:hg,92:fg},jg={[-5]:pg,[-4]:pg,[-3]:pg,33:wg,38:hg,42:xg,60:[Eg,_g],91:Tg,92:[Ig,fg],93:gg,95:xg,96:Ng},Og={null:[xg,Om]},Lg={null:[42,95]},Mg={null:[]};function zg(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[],l=!0;const c={attempt:v(function(e,t){b(e,t.from)}),check:v(y),consume:function(e){km(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,w()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++));u.previous=e,l=!0},enter:function(e,t){const n=t||{};return n.type=e,n.start=p(),u.events.push(["enter",n,u]),o.push(n),n},exit:function(e){const t=o.pop();return t.end=p(),u.events.push(["exit",t,u]),t},interrupt:v(y,{interrupt:!0})},u={code:null,containerState:{},defineSkip:function(e){i[e.line]=e.column,w()},events:[],now:p,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let a;if("string"===typeof s)a=s;else switch(s){case-5:a="\r";break;case-4:a="\n";break;case-3:a="\r\n";break;case-2:a=t?" ":"\t";break;case-1:if(!t&&i)continue;a=" ";break;default:a=String.fromCharCode(s)}i=-2===s,r.push(a)}return r.join("")}(f(e),t)},sliceStream:f,write:function(e){if(a=am(a,e),m(),null!==a[a.length-1])return[];return b(t,0),u.events=mg(s,u.events,u),u.events}};let d,h=t.tokenize.call(u,c);return t.resolveAll&&s.push(t),u;function f(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,s)];else{if(a=e.slice(n,i),r>-1){const e=a[0];"string"===typeof e?a[0]=e.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}(a,e)}function p(){const{_bufferIndex:e,_index:t,line:n,column:i,offset:s}=r;return{_bufferIndex:e,_index:t,line:n,column:i,offset:s}}function m(){let e;for(;r._index<a.length;){const t=a[r._index];if("string"===typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)g(t.charCodeAt(r._bufferIndex));else g(t)}}function g(e){l=void 0,d=e,h=h(e)}function y(e,t){t.restore()}function v(e,t){return function(n,i,s){let a,d,h,f;return Array.isArray(n)?m(n):"tokenize"in n?m([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return m([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function m(e){return a=e,d=0,0===e.length?s:g(e[d])}function g(e){return function(n){f=function(){const e=p(),t=u.previous,n=u.currentConstruct,i=u.events.length,s=Array.from(o);return{from:i,restore:a};function a(){r=e,u.previous=t,u.currentConstruct=n,u.events.length=i,o=s,w()}}(),h=e,e.partial||(u.currentConstruct=e);if(e.name&&u.parser.constructs.disable.null.includes(e.name))return v(n);return e.tokenize.call(t?Object.assign(Object.create(u),t):u,c,y,v)(n)}}function y(t){return l=!0,e(h,f),i}function v(e){return l=!0,f.restore(),++d<a.length?g(a[d]):s}}}function b(e,t){e.resolveAll&&!s.includes(e)&&s.push(e),e.resolve&&sm(u.events,t,u.events.length-t,e.resolve(u.events.slice(t),u)),e.resolveTo&&(u.events=e.resolveTo(u.events,u))}function w(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Fg(e){const n=function(e){const t={};let n=-1;for(;++n<e.length;)hm(t,e[n]);return t}([t,...(e||{}).extensions||[]]),r={constructs:n,content:i(Nm),defined:[],document:i(Cm),flow:i(jm),lazy:{},string:i(Lm),text:i(Mm)};return r;function i(e){return function(t){return zg(r,e,t)}}}const Ug=/[\0\t\n\r]/g;function Vg(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"\ufffd":String.fromCodePoint(n)}const Bg=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function qg(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return Vg(n.slice(t?2:1),t?16:10)}return dg(n)||e}const $g={}.hasOwnProperty;function Hg(e,t,n){return"string"!==typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(te),autolinkProtocol:_,autolinkEmail:_,atxHeading:s(X),blockQuote:s(K),characterEscape:_,characterReference:_,codeFenced:s(W),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(W,a),codeText:s(G,a),codeTextData:_,data:_,codeFlowValue:_,definition:s(Y),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Q),hardBreakEscape:s(J),hardBreakTrailing:s(J),htmlFlow:s(Z,a),htmlFlowData:_,htmlText:s(Z,a),htmlTextData:_,image:s(ee),label:a,link:s(te),listItem:s(re),listItemValue:h,listOrdered:s(ne,d),listUnordered:s(ne),paragraph:s(ie),reference:F,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(X),strong:s(se),thematicBreak:s(oe)},exit:{atxHeading:l(),atxHeadingSequence:k,autolink:l(),autolinkEmail:H,autolinkProtocol:$,blockQuote:l(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:V,characterReferenceMarkerNumeric:V,characterReferenceValue:B,characterReference:q,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:f,codeFencedFenceMeta:p,codeFlowValue:T,codeIndented:l(y),codeText:l(P),codeTextData:T,data:T,definition:l(),definitionDestinationString:w,definitionLabelString:v,definitionTitleString:b,emphasis:l(),hardBreakEscape:l(N),hardBreakTrailing:l(N),htmlFlow:l(C),htmlFlowData:T,htmlText:l(A),htmlTextData:T,image:l(R),label:O,labelText:j,lineEnding:I,link:l(D),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:U,resourceDestinationString:L,resourceTitleString:M,resource:z,setextHeading:l(E),setextHeadingLineSequence:S,setextHeadingText:x,strong:l(),thematicBreak:l()}};Wg(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let r={type:"root",children:[]};const s={stack:[r],tokenStack:[],config:t,enter:o,exit:c,buffer:a,resume:u,data:n},l=[];let d=-1;for(;++d<e.length;)if("listOrdered"===e[d][1].type||"listUnordered"===e[d][1].type)if("enter"===e[d][0])l.push(d);else{d=i(e,l.pop(),d)}for(d=-1;++d<e.length;){const n=t[e[d][0]];$g.call(n,e[d][1].type)&&n[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},s),e[d][1])}if(s.tokenStack.length>0){const e=s.tokenStack[s.tokenStack.length-1];(e[1]||Yg).call(s,void 0,e[0])}for(r.position={start:Kg(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:Kg(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;++d<t.transforms.length;)r=t.transforms[d](r)||r;return r}function i(e,t,n){let r,i,s,a,o=t-1,l=-1,c=!1;for(;++o<=n;){const t=e[o];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,a=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||a||l||s||(s=o),a=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:a=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let a=o;for(i=void 0;a--;){const t=e[a];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;i&&(e[i][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",i=a}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}s&&(!i||s<i)&&(r._spread=!0),r.end=Object.assign({},i?e[i][1].start:t[1].end),e.splice(i||o,0,["exit",r,t[2]]),o++,n++}if("listItemPrefix"===t[1].type){const i={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=i,e.splice(o,0,["enter",i,t[2]]),o++,n++,s=void 0,a=!0}}}return e[t][1]._spread=c,n}function s(e,t){return n;function n(n){o.call(this,e(n),n),t&&t.call(this,n)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:Kg(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),c.call(this,t)}}function c(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+jp({start:e.start,end:e.end})+"): it\u2019s not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||Yg).call(this,e,r[0])}n.position.end=Kg(e.end)}function u(){return function(e,t){const n=t||nm;return rm(e,"boolean"!==typeof n.includeImageAlt||n.includeImageAlt,"boolean"!==typeof n.includeHtml||n.includeHtml)}(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function f(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function p(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function v(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Qm(this.sliceSerialize(e)).toLowerCase()}function b(){const e=this.resume();this.stack[this.stack.length-1].title=e}function w(){const e=this.resume();this.stack[this.stack.length-1].url=e}function k(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function x(){this.data.setextHeadingSlurpLineEnding=!0}function S(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function E(){this.data.setextHeadingSlurpLineEnding=void 0}function _(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=ae(),n.position={start:Kg(e.start),end:void 0},t.push(n)),this.stack.push(n)}function T(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=Kg(e.end)}function I(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=Kg(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(_.call(this,e),T.call(this,e))}function N(){this.data.atHardBreak=!0}function C(){const e=this.resume();this.stack[this.stack.length-1].value=e}function A(){const e=this.resume();this.stack[this.stack.length-1].value=e}function P(){const e=this.resume();this.stack[this.stack.length-1].value=e}function D(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function R(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function j(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(Bg,qg)}(t),n.identifier=Qm(t).toLowerCase()}function O(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function L(){const e=this.resume();this.stack[this.stack.length-1].url=e}function M(){const e=this.resume();this.stack[this.stack.length-1].title=e}function z(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function U(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Qm(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function V(e){this.data.characterReferenceType=e.type}function B(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;if(n)r=Vg(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{r=dg(t)}this.stack[this.stack.length-1].value+=r}function q(e){this.stack.pop().position.end=Kg(e.end)}function $(e){T.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function H(e){T.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function K(){return{type:"blockquote",children:[]}}function W(){return{type:"code",lang:null,meta:null,value:""}}function G(){return{type:"inlineCode",value:""}}function Y(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Q(){return{type:"emphasis",children:[]}}function X(){return{type:"heading",depth:0,children:[]}}function J(){return{type:"break"}}function Z(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function re(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function ie(){return{type:"paragraph",children:[]}}function se(){return{type:"strong",children:[]}}function ae(){return{type:"text",value:""}}function oe(){return{type:"thematicBreak"}}}(n)(function(e){for(;!cm(e););return e}(Fg(n).document().write(function(){let e,t=1,n="",r=!0;return function(i,s,a){const o=[];let l,c,u,d,h;for(i=n+("string"===typeof i?i.toString():new TextDecoder(s||void 0).decode(i)),u=0,n="",r&&(65279===i.charCodeAt(0)&&u++,r=void 0);u<i.length;){if(Ug.lastIndex=u,l=Ug.exec(i),d=l&&void 0!==l.index?l.index:i.length,h=i.charCodeAt(d),!l){n=i.slice(u);break}if(10===h&&u===d&&e)o.push(-3),e=void 0;else switch(e&&(o.push(-5),e=void 0),u<d&&(o.push(i.slice(u,d)),t+=d-u),h){case 0:o.push(65533),t++;break;case 9:for(c=4*Math.ceil(t/4),o.push(-2);t++<c;)o.push(-1);break;case 10:o.push(-4),t=1;break;default:e=!0,t=1}u=d+1}return a&&(e&&o.push(-5),n&&o.push(n),o.push(null)),o}}()(e,t,!0))))}function Kg(e){return{line:e.line,column:e.column,offset:e.offset}}function Wg(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Wg(e,r):Gg(e,r)}}function Gg(e,t){let n;for(n in t)if($g.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Yg(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+jp({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+jp({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+jp({start:t.start,end:t.end})+") is still open")}function Qg(e){const t=this;t.parser=function(n){return Hg(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}const Xg="object"===typeof self?self:globalThis,Jg=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case 0:case-1:return n(a,i);case 1:{const e=n([],i);for(const t of a)e.push(r(t));return e}case 2:{const e=n({},i);for(const[t,n]of a)e[r(t)]=r(n);return e}case 3:return n(new Date(a),i);case 4:{const{source:e,flags:t}=a;return n(new RegExp(e,t),i)}case 5:{const e=n(new Map,i);for(const[t,n]of a)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,i);for(const t of a)e.add(r(t));return e}case 7:{const{name:e,message:t}=a;return n(new Xg[e](t),i)}case 8:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:e}=new Uint8Array(a);return n(new DataView(e),a)}}return n(new Xg[s](a),i)};return r})(new Map,e)(0),Zg="",{toString:ey}={},{keys:ty}=Object,ny=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=ey.call(e).slice(8,-1);switch(n){case"Array":return[1,Zg];case"Object":return[2,Zg];case"Date":return[3,Zg];case"RegExp":return[4,Zg];case"Map":return[5,Zg];case"Set":return[6,Zg];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},ry=e=>{let[t,n]=e;return 0===t&&("function"===n||"symbol"===n)},iy=function(e){let{json:t,lossy:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];return((e,t,n,r)=>{const i=(e,t)=>{const i=r.push(e)-1;return n.set(t,i),i},s=r=>{if(n.has(r))return n.get(r);let[a,o]=ny(r);switch(a){case 0:{let t=r;switch(o){case"bigint":a=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+o);t=null;break;case"undefined":return i([-1],r)}return i([a,t],r)}case 1:{if(o){let e=r;return"DataView"===o?e=new Uint8Array(r.buffer):"ArrayBuffer"===o&&(e=new Uint8Array(r)),i([o,[...e]],r)}const e=[],t=i([a,e],r);for(const n of r)e.push(s(n));return t}case 2:{if(o)switch(o){case"BigInt":return i([o,r.toString()],r);case"Boolean":case"Number":case"String":return i([o,r.valueOf()],r)}if(t&&"toJSON"in r)return s(r.toJSON());const n=[],l=i([a,n],r);for(const t of ty(r))!e&&ry(ny(r[t]))||n.push([s(t),s(r[t])]);return l}case 3:return i([a,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return i([a,{source:e,flags:t}],r)}case 5:{const t=[],n=i([a,t],r);for(const[i,a]of r)(e||!ry(ny(i))&&!ry(ny(a)))&&t.push([s(i),s(a)]);return n}case 6:{const t=[],n=i([a,t],r);for(const i of r)!e&&ry(ny(i))||t.push(s(i));return n}}const{message:l}=r;return i([a,{name:o,message:l}],r)};return s})(!(t||n),!!t,new Map,r)(e),r},sy="function"===typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?Jg(iy(e,t)):structuredClone(e):(e,t)=>Jg(iy(e,t));function ay(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(37===s&&mm(e.charCodeAt(n+1))&&mm(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const t=e.charCodeAt(n+1);s<56320&&t>56319&&t<57344?(a=String.fromCharCode(s,t),i=1):a="\ufffd"}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function oy(e,t){const n=[{type:"text",value:"\u21a9"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function ly(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const cy=function(e){if(null===e||void 0===e)return dy;if("function"===typeof e)return uy(e);if("object"===typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=cy(e[n]);return uy(r);function r(){let e=-1;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(;++e<t.length;)if(t[e].apply(this,r))return!0;return!1}}(e):function(e){const t=e;return uy(n);function n(n){const r=n;let i;for(i in e)if(r[i]!==t[i])return!1;return!0}}(e);if("string"===typeof e)return function(e){return uy(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function uy(e){return function(t,n,r){return Boolean(hy(t)&&e.call(this,t,"number"===typeof n?n:void 0,r||void 0))}}function dy(){return!0}function hy(e){return null!==e&&"object"===typeof e&&"type"in e}const fy=[],py=!0,my=!1;function gy(e,t,n,r){let i;"function"===typeof t&&"function"!==typeof n?(r=n,n=t):i=t;const s=cy(i),a=r?-1:1;!function e(i,o,l){const c=i&&"object"===typeof i?i:{};if("string"===typeof c.type){const e="string"===typeof c.tagName?c.tagName:"string"===typeof c.name?c.name:void 0;Object.defineProperty(u,"name",{value:"node ("+i.type+(e?"<"+e+">":"")+")"})}return u;function u(){let c,u,d,h=fy;if((!t||s(i,o,l[l.length-1]||void 0))&&(h=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[py,e];return null===e||void 0===e?fy:[e]}(n(i,l)),h[0]===my))return h;if("children"in i&&i.children){const t=i;if(t.children&&"skip"!==h[0])for(u=(r?t.children.length:-1)+a,d=l.concat(t);u>-1&&u<t.children.length;){const n=t.children[u];if(c=e(n,u,d)(),c[0]===my)return c;u="number"===typeof c[1]?c[1]:u+a}}return h}}(e,void 0,[])()}function yy(e,t,n,r){let i,s,a;"function"===typeof t&&"function"!==typeof n?(s=void 0,a=t,i=n):(s=t,a=n,i=r),gy(e,s,function(e,t){const n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return a(e,r,n)},i)}function vy(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&"text"===s.type?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&"text"===a.type?a.value+=r:i.push({type:"text",value:r}),i}function by(e){const t=e.spread;return null===t||void 0===t?e.children.length>1:t}function wy(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(ky(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(ky(t.slice(i),i>0,!1)),s.join("")}function ky(e,t,n){let r=0,i=e.length;if(t){let t=e.codePointAt(r);for(;9===t||32===t;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(i-1);for(;9===t||32===t;)i--,t=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}const xy={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=ay(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,o=e.footnoteCounts.get(r);void 0===o?(o=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return vy(e,t);const i={src:ay(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)},image:function(e,t){const n={src:ay(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return vy(e,t);const i={href:ay(r.url||"")};null!==r.title&&void 0!==r.title&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)},link:function(e,t){const n={href:ay(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),i=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=by(n[r])}return t}(n):by(t),s={},a=[];if("boolean"===typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const e=r[o];(i||0!==o||"element"!==e.type||"p"!==e.tagName)&&a.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||i?a.push(e):a.push(...e.children)}const l=r[r.length-1];l&&(i||"element"!==l.type||"p"!==l.tagName)&&a.push({type:"text",value:"\n"});const c={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},r=e.all(t);let i=-1;for("number"===typeof t.start&&1!==t.start&&(n.start=t.start);++i<r.length;){const e=r[i];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),i.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=Dp(t.children[1]),a=Pp(t.children[t.children.length-1]);s&&a&&(r.position={start:s,end:a}),i.push(r)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,i=0===(r?r.indexOf(t):1)?"th":"td",s=n&&"table"===n.type?n.align:void 0,a=s?s.length:t.children.length;let o=-1;const l=[];for(;++o<a;){const n=t.children[o],r={},a=s?s[o]:void 0;a&&(r.align=a);let c={type:"element",tagName:i,properties:r,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(n,c)),l.push(c)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:wy(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:Sy,yaml:Sy,definition:Sy,footnoteDefinition:Sy};function Sy(){}const Ey={}.hasOwnProperty,_y={};function Ty(e,t){e.position&&(t.position=function(e){const t=Dp(e),n=Pp(e);if(t&&n)return{start:t,end:n}}(e))}function Iy(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,i=e.data.hProperties;if("string"===typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&i&&Object.assign(n.properties,sy(i)),"children"in n&&n.children&&null!==r&&void 0!==r&&(n.children=r)}return n}function Ny(e,t){const n=t.data||{},r=!("value"in t)||Ey.call(n,"hProperties")||Ey.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function Cy(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function Ay(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function Py(e,t){const n=function(e,t){const n=t||_y,r=new Map,i=new Map,s=new Map,a={...xy,...n.handlers},o={all:function(e){const t=[];if("children"in e){const n=e.children;let r=-1;for(;++r<n.length;){const i=o.one(n[r],e);if(i){if(r&&"break"===n[r-1].type&&(Array.isArray(i)||"text"!==i.type||(i.value=Ay(i.value)),!Array.isArray(i)&&"element"===i.type)){const e=i.children[0];e&&"text"===e.type&&(e.value=Ay(e.value))}Array.isArray(i)?t.push(...i):t.push(i)}}}return t},applyData:Iy,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:function(e,t){const n=e.type,r=o.handlers[n];if(Ey.call(o.handlers,n)&&r)return r(o,e,t);if(o.options.passThrough&&o.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,r=sy(n);return r.children=o.all(e),r}return sy(e)}return(o.options.unknownHandler||Ny)(o,e,t)},options:n,patch:Ty,wrap:Cy};return yy(e,function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?r:i,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}}),o}(e,t),r=n.one(e,void 0),i=function(e){const t="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||oy,r=e.options.footnoteBackLabel||ly,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const i=e.footnoteById.get(e.footnoteOrder[l]);if(!i)continue;const s=e.all(i),a=String(i.identifier).toUpperCase(),c=ay(a.toLowerCase());let u=0;const d=[],h=e.footnoteCounts.get(a);for(;void 0!==h&&++u<=h;){d.length>0&&d.push({type:"text",value:" "});let e="string"===typeof n?n:n(l,u);"string"===typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+c+(u>1?"-"+u:""),dataFootnoteBackref:"",ariaLabel:"string"===typeof r?r:r(l,u),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const f=s[s.length-1];if(f&&"element"===f.type&&"p"===f.tagName){const e=f.children[f.children.length-1];e&&"text"===e.type?e.value+=" ":f.children.push({type:"text",value:" "}),f.children.push(...d)}else s.push(...d);const p={type:"element",tagName:"li",properties:{id:t+"fn-"+c},children:e.wrap(s,!0)};e.patch(i,p),o.push(p)}if(0!==o.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...sy(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:"\n"}]}}(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:"\n"},i),s}function Dy(e,t){return e&&"run"in e?async function(n,r){const i=Py(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Py(n,{file:r,...e||t})}}function Ry(e){if(e)throw e}var jy=n(240);function Oy(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Ly(){const e=[],t={run:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=-1;const s=n.pop();if("function"!==typeof s)throw new TypeError("Expected function as last argument, not "+s);!function t(r){const a=e[++i];let o=-1;if(r)s(r);else{for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];for(;++o<n.length;)null!==c[o]&&void 0!==c[o]||(c[o]=n[o]);n=c,a?function(e,t){let n;return i;function i(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];const l=e.length>i.length;let c;l&&i.push(s);try{c=e.apply(this,i)}catch(r){if(l&&n)throw r;return s(r)}l||(c&&c.then&&"function"===typeof c.then?c.then(a,s):c instanceof Error?s(c):a(c))}function s(e){if(!n){n=!0;for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];t(e,...i)}}function a(e){s(null,e)}}(a,t)(...c):s(null,...c)}}(null,...n)},use:function(n){if("function"!==typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const My={basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');zy(e);let n,r=0,i=-1,s=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;s--;)if(47===e.codePointAt(s)){if(n){r=s+1;break}}else i<0&&(n=!0,i=s+1);return i<0?"":e.slice(r,i)}if(t===e)return"";let a=-1,o=t.length-1;for(;s--;)if(47===e.codePointAt(s)){if(n){r=s+1;break}}else a<0&&(n=!0,a=s+1),o>-1&&(e.codePointAt(s)===t.codePointAt(o--)?o<0&&(i=s):(o=-1,i=a));r===i?i=a:i<0&&(i=e.length);return e.slice(r,i)},dirname:function(e){if(zy(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){zy(e);let t,n=e.length,r=-1,i=0,s=-1,a=0;for(;n--;){const o=e.codePointAt(n);if(47!==o)r<0&&(t=!0,r=n+1),46===o?s<0?s=n:1!==a&&(a=1):s>-1&&(a=-1);else if(t){i=n+1;break}}if(s<0||r<0||0===a||1===a&&s===r-1&&s===i+1)return"";return e.slice(s,r)},join:function(){let e,t=-1;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(;++t<r.length;)zy(r[t]),r[t]&&(e=void 0===e?r[t]:e+"/"+r[t]);return void 0===e?".":function(e){zy(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,r,i="",s=0,a=-1,o=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(a===l-1||1===o);else if(a!==l-1&&2===o){if(i.length<2||2!==s||46!==i.codePointAt(i.length-1)||46!==i.codePointAt(i.length-2))if(i.length>2){if(r=i.lastIndexOf("/"),r!==i.length-1){r<0?(i="",s=0):(i=i.slice(0,r),s=i.length-1-i.lastIndexOf("/")),a=l,o=0;continue}}else if(i.length>0){i="",s=0,a=l,o=0;continue}t&&(i=i.length>0?i+"/..":"..",s=2)}else i.length>0?i+="/"+e.slice(a+1,l):i=e.slice(a+1,l),s=l-a-1;a=l,o=0}else 46===n&&o>-1?o++:o=-1}return i}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(e)},sep:"/"};function zy(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Fy={cwd:function(){return"/"}};function Uy(e){return Boolean(null!==e&&"object"===typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function Vy(e){if("string"===typeof e)e=new URL(e);else if(!Uy(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const By=["history","path","basename","stem","extname","dirname"];class qy{constructor(e){let t;t=e?Uy(e)?{path:e}:"string"===typeof e||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":Fy.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,r=-1;for(;++r<By.length;){const e=By[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)By.includes(n)||(this[n]=t[n])}get basename(){return"string"===typeof this.path?My.basename(this.path):void 0}set basename(e){Hy(e,"basename"),$y(e,"basename"),this.path=My.join(this.dirname||"",e)}get dirname(){return"string"===typeof this.path?My.dirname(this.path):void 0}set dirname(e){Ky(this.basename,"dirname"),this.path=My.join(e||"",this.basename)}get extname(){return"string"===typeof this.path?My.extname(this.path):void 0}set extname(e){if($y(e,"extname"),Ky(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=My.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Uy(e)&&(e=Vy(e)),Hy(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"===typeof this.path?My.basename(this.path,this.extname):void 0}set stem(e){Hy(e,"stem"),$y(e,"stem"),this.path=My.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new zp(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){if(void 0===this.value)return"";if("string"===typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function $y(e,t){if(e&&e.includes(My.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+My.sep+"`")}function Hy(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Ky(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const Wy=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},Gy={}.hasOwnProperty;class Yy extends Wy{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Ly()}copy(){const e=new Yy;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(jy(!0,{},this.namespace)),e}data(e,t){return"string"===typeof e?2===arguments.length?(Zy("data",this.frozen),this.namespace[e]=t,this):Gy.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Zy("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const r=t.call(e,...n);"function"===typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=nv(e),n=this.parser||this.Parser;return Xy("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),Xy("process",this.parser||this.Parser),Jy("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,i){const s=nv(e),a=n.parse(s);function o(e,n){e||!n?i(e):r?r(n):t(void 0,n)}n.run(a,s,function(e,t,r){if(e||!t||!r)return o(e);const i=t,s=n.stringify(i,r);var a;"string"===typeof(a=s)||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(a)?r.value=s:r.result=s,o(e,r)})}}processSync(e){let t,n=!1;return this.freeze(),Xy("processSync",this.parser||this.Parser),Jy("processSync",this.compiler||this.Compiler),this.process(e,function(e,r){n=!0,Ry(e),t=r}),tv("processSync","process",n),t}run(e,t,n){ev(e),this.freeze();const r=this.transformers;return n||"function"!==typeof t||(n=t,t=void 0),n?i(void 0,n):new Promise(i);function i(i,s){const a=nv(t);r.run(e,a,function(t,r,a){const o=r||e;t?s(t):i?i(o):n(void 0,o,a)})}}runSync(e,t){let n,r=!1;return this.run(e,t,function(e,t){Ry(e),n=t,r=!0}),tv("runSync","run",r),n}stringify(e,t){this.freeze();const n=nv(t),r=this.compiler||this.Compiler;return Jy("stringify",r),ev(e),r(e,n)}use(e){const t=this.attachers,n=this.namespace;if(Zy("use",this.frozen),null===e||void 0===e);else if("function"===typeof e){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];c(e,i)}else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?l(e):o(e)}return this;function a(e){if("function"===typeof e)c(e,[]);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;c(t,n)}else o(e)}}function o(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(e.plugins),e.settings&&(n.settings=jy(!0,n.settings,e.settings))}function l(e){let t=-1;if(null===e||void 0===e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){a(e[t])}}}function c(e,n){let r=-1,i=-1;for(;++r<t.length;)if(t[r][0]===e){i=r;break}if(-1===i)t.push([e,...n]);else if(n.length>0){let[r,...s]=n;const a=t[i][1];Oy(a)&&Oy(r)&&(r=jy(!0,a,r)),t[i]=[e,r,...s]}}}}const Qy=(new Yy).freeze();function Xy(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function Jy(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function Zy(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ev(e){if(!Oy(e)||"string"!==typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function tv(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function nv(e){return function(e){return Boolean(e&&"object"===typeof e&&"message"in e&&"messages"in e)}(e)?e:new qy(e)}const rv=[],iv={allowDangerousHtml:!0},sv=/^(https?|ircs?|mailto|xmpp)$/i,av=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ov(e){const t=lv(e),n=cv(e);return uv(t.runSync(t.parse(n),n),e)}function lv(e){const t=e.rehypePlugins||rv,n=e.remarkPlugins||rv,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...iv}:iv;return Qy().use(Qg).use(n).use(Dy,r).use(t)}function cv(e){const t=e.children||"",n=new qy;return"string"===typeof t&&(n.value=t),n}function uv(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||dv;for(const c of av)Object.hasOwn(t,c.from)&&$f((c.from,c.to&&c.to,c.id));return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:"root"===e.type?e.children:[e]}),yy(e,function(e,t,i){if("raw"===e.type&&i&&"number"===typeof t)return a?i.children.splice(t,1):i.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in tm)if(Object.hasOwn(tm,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],r=tm[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=l(String(n||""),t,e))}}if("element"===e.type){let a=n?!n.includes(e.tagName):!!s&&s.includes(e.tagName);if(!a&&r&&"number"===typeof t&&(a=!r(e,t,i)),a&&i&&"number"===typeof t)return o&&e.children?i.children.splice(t,1,...e.children):i.children.splice(t,1),t}}),Hp(e,{Fragment:Ff.Fragment,components:i,ignoreInvalidStyle:!0,jsx:Ff.jsx,jsxs:Ff.jsxs,passKeys:!0,passNode:!0})}function dv(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return-1===t||-1!==i&&t>i||-1!==n&&t>n||-1!==r&&t>r||sv.test(e.slice(0,t))?e:""}const hv=e=>{let{userProgress:t,saveProgress:n}=e;const[i,s]=(0,r.useState)(""),[a,o]=(0,r.useState)(""),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)("");return(0,r.useEffect)(()=>{if(h){const e=setTimeout(()=>{f("")},3e3);return()=>clearTimeout(e)}},[h]),(0,Ff.jsxs)("div",{className:"p-8 animate-fade-in",children:[(0,Ff.jsxs)("h2",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center",children:[(0,Ff.jsxs)("svg",{className:"mr-3 text-violet-600",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Ff.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,Ff.jsx)("polyline",{points:"14 2 14 8 20 8"}),(0,Ff.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),(0,Ff.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),(0,Ff.jsx)("polyline",{points:"10 9 9 9 8 9"})]}),"Kelime Kar\u015f\u0131la\u015ft\u0131rma"]}),(0,Ff.jsxs)("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border border-violet-100 dark:border-slate-700 mb-8",children:[(0,Ff.jsx)("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:"YDS ve Y\xd6KD\u0130L gibi akademik s\u0131navlara y\xf6nelik kelimelerin e\u015f ve z\u0131t anlaml\u0131lar\u0131n\u0131, kullan\u0131m n\xfcanslar\u0131n\u0131 ve \xf6rnek c\xfcmlelerini \xf6\u011frenin."}),(0,Ff.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Ff.jsx)("input",{type:"text",placeholder:"Kar\u015f\u0131la\u015ft\u0131rmak istedi\u011finiz kelimeyi girin...",value:i,onChange:e=>s(e.target.value),className:"flex-1 p-3 rounded-lg border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-violet-500"}),(0,Ff.jsxs)("button",{onClick:async()=>{if(!i.trim())return void d("L\xfctfen kar\u015f\u0131la\u015ft\u0131rmak i\xe7in bir kelime girin.");c(!0),o(""),d("");const e=i.trim(),t=`YDS ve Y\xd6KD\u0130L s\u0131navlar\u0131na haz\u0131rlananlar i\xe7in, "${e}" kelimesinin akademik e\u015f anlaml\u0131lar\u0131n\u0131, z\u0131t anlaml\u0131lar\u0131n\u0131 ve aralar\u0131ndaki kullan\u0131m n\xfcanslar\u0131n\u0131 kar\u015f\u0131la\u015ft\u0131rmal\u0131 olarak a\xe7\u0131kla. \xd6rnek c\xfcmleler (\u0130ngilizce ve T\xfcrk\xe7e) ekle. Yan\u0131t T\xfcrk\xe7e ve madde madde olsun.`;try{const r={contents:[{role:"user",parts:[{text:t}]}]},i=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${"AIzaSyCSuzlRr7AmF59CsaNC9S5Asa-U9Rpx7Mo"}`,s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),a=await s.json();if(a.candidates&&a.candidates.length>0&&a.candidates[0].content&&a.candidates[0].content.parts&&a.candidates[0].content.parts.length>0){const t=a.candidates[0].content.parts[0].text;o(t),n&&await n({activities:hf({text:`"${e}" kelimesini kar\u015f\u0131la\u015ft\u0131rd\u0131n\u0131z.`,timestamp:new Date})})}else d("API'den beklenen yan\u0131t al\u0131namad\u0131. L\xfctfen tekrar deneyin."),console.error("API response structure unexpected:",a)}catch(r){console.error("Kelime kar\u015f\u0131la\u015ft\u0131rma hatas\u0131:",r),d("Kelime kar\u015f\u0131la\u015ft\u0131rma s\u0131ras\u0131nda bir hata olu\u015ftu: "+r.message)}finally{c(!1)}},disabled:l,className:"py-3 px-6 bg-violet-600 hover:bg-violet-700 disabled:bg-slate-400 disabled:cursor-not-allowed text-white font-semibold rounded-full shadow-md transition duration-300 ease-in-out flex items-center justify-center",children:[l?(0,Ff.jsx)(yf,{className:"animate-spin mr-2",size:20}):(0,Ff.jsx)(Vf,{size:20,className:"mr-2"}),l?"Kar\u015f\u0131la\u015ft\u0131r\u0131l\u0131yor...":"Kar\u015f\u0131la\u015ft\u0131r"]})]})]}),u&&(0,Ff.jsx)("div",{className:"bg-red-100 dark:bg-red-900 border border-red-200 dark:border-red-700 text-red-700 dark:text-red-400 px-4 py-3 rounded-lg mb-4",children:u}),a&&(0,Ff.jsxs)("div",{className:"mt-6 bg-violet-50/70 dark:bg-slate-700/70 border border-violet-200 dark:border-violet-700 rounded-lg p-6",children:[(0,Ff.jsx)("div",{className:"prose max-w-none text-slate-700 dark:text-slate-200 leading-relaxed",children:(0,Ff.jsx)(ov,{children:a})}),(0,Ff.jsx)("div",{className:"flex justify-end mt-4",children:(0,Ff.jsxs)("button",{onClick:async()=>{if(!i.trim())return void d("\xd6\u011frenildi olarak i\u015faretlemek i\xe7in \xf6nce bir kelime girin.");const e=i.trim().toLowerCase();if(t.learnedWords.includes(e))f(`"${e}" kelimesi zaten \xf6\u011frenilenler listenizde.`);else try{n&&(await n({learnedWords:hf(e),activities:hf({text:`"${e}" kelimesini \xf6\u011frenildi olarak i\u015faretlediniz.`,timestamp:new Date})}),f(`"${e}" ba\u015far\u0131yla \xf6\u011frenildi olarak i\u015faretlendi!`))}catch(r){console.error("\xd6\u011frenildi olarak i\u015faretleme hatas\u0131:",r),f("\xd6\u011frenildi olarak i\u015faretlenirken hata olu\u015ftu: "+r.message)}},disabled:!i.trim()||t.learnedWords.includes(i.trim().toLowerCase()),className:"bg-teal-500 hover:bg-teal-600 dark:bg-teal-600 dark:hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-full flex items-center transition-colors shadow hover:shadow-md disabled:bg-teal-200 disabled:cursor-not-allowed",children:[(0,Ff.jsx)(Bf,{className:"mr-2"})," \xd6\u011frenildi Olarak \u0130\u015faretle"]})})]}),h&&(0,Ff.jsx)("div",{className:"mt-4 p-3 text-sm rounded-lg bg-blue-100 text-blue-700 dark:bg-blue-800 dark:text-blue-200 text-center max-w-md mx-auto",children:h})]})},fv=gf("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),pv=gf("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),mv=gf("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),gv=gf("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),yv=gf("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),vv=gf("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),bv=gf("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),wv=gf("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),kv=e=>{let{userProgress:t,saveProgress:n}=e;const[i,s]=(0,r.useState)("examSelection"),[a,o]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(""),[g,y]=(0,r.useState)([]),[v,b]=(0,r.useState)({}),[w,k]=(0,r.useState)(!1),[x,S]=(0,r.useState)({}),[E,_]=(0,r.useState)(null),[T,I]=(0,r.useState)(null),N=[{id:"fen",name:"Fen Bilimleri",description:"Matematik, Fizik, Kimya, Biyoloji"},{id:"saglik",name:"Sa\u011fl\u0131k Bilimleri",description:"T\u0131p, Di\u015f Hekimli\u011fi, Eczac\u0131l\u0131k, Hem\u015firelik"},{id:"sosyal",name:"Sosyal Bilimler",description:"Tarih, Co\u011frafya, Felsefe, Sosyoloji"}],C=["Teknoloji ve \u0130novasyon","\xc7evre ve S\xfcrd\xfcr\xfclebilirlik","E\u011fitim ve \xd6\u011frenme","Sa\u011fl\u0131k ve Ya\u015fam Tarz\u0131","K\xfclt\xfcr ve Sanat","Ekonomi ve \u0130\u015f D\xfcnyas\u0131","Bilim ve Ara\u015ft\u0131rma","Sosyal Medya ve \u0130leti\u015fim"],A=e=>e.replace(/\*\*(.*?)\*\*/g,"$1").trim(),P=e=>{console.log("Full AI response:",e);const t=[],n=e.split("\n").filter(e=>e.trim());let r=null,i=0,s=!1;const a={};for(let o=0;o<n.length;o++){const e=n[o].trim();if(e.includes("Answer Key")||e.includes("Cevap Anahtar\u0131")){s=!0;continue}if(s){const t=e.match(/(\d+)\.\s*([A-E])/);t&&(a[parseInt(t[1])]=t[2]);continue}const l=e.match(/^(\d+)\.\s*(.*)/);if(!l||e.includes("A)")||e.includes("B)")){if(e.match(/^[A-E]\)/)&&r){const t={letter:e.charAt(0),text:A(e.substring(2).trim())};r.options.push(t)}}else r&&t.push(r),i=parseInt(l[1]),r={number:i,question:A(l[2]),options:[]}}return r&&t.push(r),console.log("Parsed questions:",t),console.log("Parsed answers:",a),S(a),t},D=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];f(!0),_(new Date);let a="";if("YDS"===e)a=i?'YDS s\u0131nav\u0131na uygun, orta-ileri seviye \u0130ngilizce bir okuma par\xe7as\u0131 olu\u015ftur. Paragraf 200-250 kelime olmal\u0131 ve akademik/genel konulardan biri hakk\u0131nda olmal\u0131. \n\nArd\u0131ndan 5 adet \xe7oktan se\xe7meli soru (A, B, C, D, E se\xe7enekleri ile) ekle. Sorular paragraf\u0131n ana fikrini, detaylar\u0131 ve \xe7\u0131kar\u0131mlar\u0131 test etmeli. \n\nFormat \u015fu \u015fekilde olmal\u0131:\n1. Soru metni\nA) Se\xe7enek 1\nB) Se\xe7enek 2\nC) Se\xe7enek 3\nD) Se\xe7enek 4\nE) Se\xe7enek 5\n\nSonunda cevap anahtar\u0131n\u0131 "Answer Key:" ba\u015fl\u0131\u011f\u0131 alt\u0131nda ver:\n1. C\n2. A\n3. B\n4. D\n5. E':`YDS s\u0131nav\u0131na uygun, "${r}" konusunda orta-ileri seviye \u0130ngilizce bir okuma par\xe7as\u0131 olu\u015ftur. Paragraf 200-250 kelime olmal\u0131. \n\nArd\u0131ndan 5 adet \xe7oktan se\xe7meli soru (A, B, C, D, E se\xe7enekleri ile) ekle. Sorular paragraf\u0131n ana fikrini, detaylar\u0131 ve \xe7\u0131kar\u0131mlar\u0131 test etmeli. \n\nFormat \u015fu \u015fekilde olmal\u0131:\n1. Soru metni\nA) Se\xe7enek 1\nB) Se\xe7enek 2\nC) Se\xe7enek 3\nD) Se\xe7enek 4\nE) Se\xe7enek 5\n\nSonunda cevap anahtar\u0131n\u0131 "Answer Key:" ba\u015fl\u0131\u011f\u0131 alt\u0131nda ver:\n1. C\n2. A\n3. B\n4. D\n5. E`;else if("Y\xd6KD\u0130L"===e){const e={fen:"Fen Bilimleri (Matematik, Fizik, Kimya, Biyoloji)",saglik:"Sa\u011fl\u0131k Bilimleri (T\u0131p, Di\u015f Hekimli\u011fi, Eczac\u0131l\u0131k)",sosyal:"Sosyal Bilimler (Tarih, Co\u011frafya, Felsefe, Sosyoloji)"};a=i?`Y\xd6KD\u0130L s\u0131nav\u0131na uygun, ${e[t]} alan\u0131nda akademik seviye \u0130ngilizce bir okuma par\xe7as\u0131 olu\u015ftur. Paragraf 250-300 kelime olmal\u0131 ve bu alan\u0131n g\xfcncel konular\u0131ndan biri hakk\u0131nda olmal\u0131. \n\nArd\u0131ndan 5 adet \xe7oktan se\xe7meli soru (A, B, C, D, E se\xe7enekleri ile) ekle. Sorular akademik okuma becerisini test etmeli. \n\nFormat \u015fu \u015fekilde olmal\u0131:\n1. Soru metni\nA) Se\xe7enek 1\nB) Se\xe7enek 2\nC) Se\xe7enek 3\nD) Se\xe7enek 4\nE) Se\xe7enek 5\n\nSonunda cevap anahtar\u0131n\u0131 "Answer Key:" ba\u015fl\u0131\u011f\u0131 alt\u0131nda ver:\n1. C\n2. A\n3. B\n4. D\n5. E`:`Y\xd6KD\u0130L s\u0131nav\u0131na uygun, ${e[t]} alan\u0131nda "${r}" konusunda akademik seviye \u0130ngilizce bir okuma par\xe7as\u0131 olu\u015ftur. Paragraf 250-300 kelime olmal\u0131. \n\nArd\u0131ndan 5 adet \xe7oktan se\xe7meli soru (A, B, C, D, E se\xe7enekleri ile) ekle. Sorular akademik okuma becerisini test etmeli. \n\nFormat \u015fu \u015fekilde olmal\u0131:\n1. Soru metni\nA) Se\xe7enek 1\nB) Se\xe7enek 2\nC) Se\xe7enek 3\nD) Se\xe7enek 4\nE) Se\xe7enek 5\n\nSonunda cevap anahtar\u0131n\u0131 "Answer Key:" ba\u015fl\u0131\u011f\u0131 alt\u0131nda ver:\n1. C\n2. A\n3. B\n4. D\n5. E`}try{const i=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyCSuzlRr7AmF59CsaNC9S5Asa-U9Rpx7Mo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:a}]}]})}),o=(await i.json()).candidates[0].content.parts[0].text,l=o.search(/\n\s*1\.\s/);if(-1!==l){const e=A(o.substring(0,l)),t=o.substring(l);m(e);const n=P(t);y(n)}else{const e=o.split(/(?=Questions:|1\.)/),t=A(e[0]),n=e.slice(1).join("\n");m(t);const r=P(n);y(r)}b({}),k(!1),s("practiceMode"),n&&n({type:"reading_practice_started",exam:e,category:t,topic:r||"Rastgele",timestamp:(new Date).toISOString(),passageLength:o.length,questionCount:5})}catch(o){console.error("Error generating passage:",o),alert("Paragraf olu\u015fturulurken bir hata olu\u015ftu. L\xfctfen tekrar deneyin.")}finally{f(!1)}},R=()=>{I(new Date),k(!0);let e=0;const r=[];g.forEach(t=>{const n=v[t.number]===x[t.number];n&&e++,r.push({questionNumber:t.number,userAnswer:v[t.number]||"Bo\u015f",correctAnswer:x[t.number],isCorrect:n,question:t.question})});const i=e,s=g.length,o=i/s*100,c=E?Math.round((new Date-E)/1e3):0;if(n){const e=(null===t||void 0===t?void 0:t.reading)||{correct:0,total:0},d={correct:e.correct+i,total:e.total+s};n({type:"reading_practice_completed",exam:a,category:l,topic:u||"Rastgele",score:i,total:s,percentage:o,timeSpent:c,questionResults:r,timestamp:(new Date).toISOString(),reading:d}),n({type:"activity",text:`${a} okuma al\u0131\u015ft\u0131rmas\u0131 tamamland\u0131 (${i}/${s} do\u011fru)`,timestamp:new Date})}},j=()=>{s("examSelection"),o(""),c(""),d(""),m(""),y([]),b({}),k(!1),S({}),_(null),I(null)},O=()=>{"categorySelection"===i?(s("examSelection"),o("")):"topicSelection"===i?"Y\xd6KD\u0130L"===a?(s("categorySelection"),c("")):(s("examSelection"),o("")):"practiceMode"===i&&(s("topicSelection"),m(""),y([]),b({}),k(!1),S({}),_(null),I(null))};if("examSelection"===i){const e=(()=>{const e=(null===t||void 0===t?void 0:t.reading)||{correct:0,total:0},n=e.total>0?(e.correct/e.total*100).toFixed(1):0;return{...e,percentage:n}})(),n=null!==t&&void 0!==t&&t.activities?t.activities.filter(e=>"reading_practice_completed"===e.type).sort((e,t)=>{var n,r;const i=null!==(n=e.timestamp)&&void 0!==n&&n.toDate?e.timestamp.toDate().getTime():e.timestamp instanceof Date?e.timestamp.getTime():new Date(e.timestamp).getTime();return(null!==(r=t.timestamp)&&void 0!==r&&r.toDate?t.timestamp.toDate().getTime():t.timestamp instanceof Date?t.timestamp.getTime():new Date(t.timestamp).getTime())-i}).slice(0,5):[];return(0,Ff.jsxs)("div",{className:"p-8 animate-fade-in",children:[(0,Ff.jsxs)("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 mb-6 flex items-center",children:[(0,Ff.jsx)(Sf,{className:"mr-3 text-sky-600 dark:text-sky-400",size:32}),"Okudu\u011funu Anlama Al\u0131\u015ft\u0131rmas\u0131"]}),e.total>0&&(0,Ff.jsx)("div",{className:"bg-gradient-to-r from-sky-50 to-blue-50 dark:from-slate-800 dark:to-slate-700 p-6 rounded-lg mb-6 border border-sky-200 dark:border-slate-600",children:(0,Ff.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ff.jsxs)("div",{children:[(0,Ff.jsxs)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2 flex items-center",children:[(0,Ff.jsx)(fv,{className:"mr-2 text-sky-600 dark:text-sky-400",size:20}),"Okuma Ba\u015far\u0131n\u0131z"]}),(0,Ff.jsxs)("p",{className:"text-slate-600 dark:text-slate-300",children:["Toplam ",e.total," soruda ",e.correct," do\u011fru cevap"]})]}),(0,Ff.jsxs)("div",{className:"text-right",children:[(0,Ff.jsxs)("div",{className:"text-3xl font-bold text-sky-600 dark:text-sky-400",children:["%",e.percentage]}),(0,Ff.jsx)("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"ba\u015far\u0131 oran\u0131"})]})]})}),n.length>0&&(0,Ff.jsxs)("div",{className:"mb-8",children:[(0,Ff.jsxs)("h3",{className:"text-xl font-semibold text-slate-800 dark:text-slate-100 mb-4 flex items-center",children:[(0,Ff.jsx)(pv,{className:"mr-2 text-purple-600 dark:text-purple-400",size:24}),"Son Test Sonu\xe7lar\u0131n\u0131z"]}),(0,Ff.jsx)("div",{className:"grid gap-3",children:n.map((e,t)=>{var n,r;return(0,Ff.jsx)("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 rounded-lg p-4",children:(0,Ff.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ff.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ff.jsx)("div",{className:"w-3 h-3 rounded-full "+(e.percentage>=80?"bg-green-500":e.percentage>=60?"bg-yellow-500":"bg-red-500")}),(0,Ff.jsxs)("div",{children:[(0,Ff.jsxs)("div",{className:"font-medium text-slate-800 dark:text-slate-100",children:[e.exam," - ",e.topic||"Rastgele Konu"]}),(0,Ff.jsxs)("div",{className:"text-sm text-slate-600 dark:text-slate-300 flex items-center space-x-4",children:[(0,Ff.jsxs)("span",{className:"flex items-center",children:[(0,Ff.jsx)(mv,{className:"mr-1",size:14}),new Date(null!==(n=e.timestamp)&&void 0!==n&&n.toDate?e.timestamp.toDate():e.timestamp).toLocaleDateString("tr-TR",{day:"numeric",month:"short",year:"numeric"})]}),e.timeSpent&&(0,Ff.jsxs)("span",{className:"flex items-center",children:[(0,Ff.jsx)(zf,{className:"mr-1",size:14}),Math.floor(e.timeSpent/60),":",(e.timeSpent%60).toString().padStart(2,"0")]})]})]})]}),(0,Ff.jsxs)("div",{className:"text-right",children:[(0,Ff.jsxs)("div",{className:"font-bold text-slate-800 dark:text-slate-100",children:[e.score,"/",e.total]}),(0,Ff.jsxs)("div",{className:"text-sm font-medium "+(e.percentage>=80?"text-green-600 dark:text-green-400":e.percentage>=60?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"),children:["%",(null===(r=e.percentage)||void 0===r?void 0:r.toFixed(1))||(e.score/e.total*100).toFixed(1)]})]})]})},t)})})]}),(0,Ff.jsxs)("div",{className:"max-w-2xl",children:[(0,Ff.jsx)("p",{className:"text-slate-600 dark:text-slate-300 mb-8",children:"Hangi s\u0131nav t\xfcr\xfc i\xe7in al\u0131\u015ft\u0131rma yapmak istiyorsunuz?"}),(0,Ff.jsxs)("div",{className:"grid gap-4",children:[(0,Ff.jsx)("button",{onClick:()=>{o("YDS"),s("topicSelection")},className:"p-6 border-2 border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-800 rounded-lg hover:border-sky-500 dark:hover:border-sky-400 hover:bg-sky-50 dark:hover:bg-slate-700 transition-all duration-200 text-left group",children:(0,Ff.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ff.jsxs)("div",{children:[(0,Ff.jsx)("h3",{className:"text-xl font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"YDS (Yabanc\u0131 Dil S\u0131nav\u0131)"}),(0,Ff.jsx)("p",{className:"text-slate-600 dark:text-slate-300",children:"Genel \u0130ngilizce yeterlilik s\u0131nav\u0131 i\xe7in okuma al\u0131\u015ft\u0131rmalar\u0131"})]}),(0,Ff.jsx)(gv,{className:"text-slate-400 dark:text-slate-500 group-hover:text-sky-500 dark:group-hover:text-sky-400",size:24})]})}),(0,Ff.jsx)("button",{onClick:()=>{o("Y\xd6KD\u0130L"),s("categorySelection")},className:"p-6 border-2 border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-800 rounded-lg hover:border-sky-500 dark:hover:border-sky-400 hover:bg-sky-50 dark:hover:bg-slate-700 transition-all duration-200 text-left group",children:(0,Ff.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ff.jsxs)("div",{children:[(0,Ff.jsx)("h3",{className:"text-xl font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Y\xd6KD\u0130L"}),(0,Ff.jsx)("p",{className:"text-slate-600 dark:text-slate-300",children:"Akademik alan\u0131n\u0131za \xf6zel \u0130ngilizce okuma al\u0131\u015ft\u0131rmalar\u0131"})]}),(0,Ff.jsx)(gv,{className:"text-slate-400 dark:text-slate-500 group-hover:text-sky-500 dark:group-hover:text-sky-400",size:24})]})})]})]})]})}if("categorySelection"===i&&"Y\xd6KD\u0130L"===a)return(0,Ff.jsxs)("div",{className:"p-8 animate-fade-in",children:[(0,Ff.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Ff.jsx)("button",{onClick:O,className:"mr-4 p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:(0,Ff.jsx)(yv,{className:"text-slate-600 dark:text-slate-300",size:20})}),(0,Ff.jsxs)("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 flex items-center",children:[(0,Ff.jsx)(Sf,{className:"mr-3 text-sky-600 dark:text-sky-400",size:32}),"Y\xd6KD\u0130L - Kategori Se\xe7imi"]})]}),(0,Ff.jsxs)("div",{className:"max-w-2xl",children:[(0,Ff.jsx)("p",{className:"text-slate-600 dark:text-slate-300 mb-8",children:"Hangi alan i\xe7in al\u0131\u015ft\u0131rma yapmak istiyorsunuz?"}),(0,Ff.jsx)("div",{className:"grid gap-4",children:N.map(e=>(0,Ff.jsx)("button",{onClick:()=>{c(e.id),s("topicSelection")},className:"p-6 border-2 border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-800 rounded-lg hover:border-sky-500 dark:hover:border-sky-400 hover:bg-sky-50 dark:hover:bg-slate-700 transition-all duration-200 text-left group",children:(0,Ff.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ff.jsxs)("div",{children:[(0,Ff.jsx)("h3",{className:"text-xl font-semibold text-slate-800 dark:text-slate-100 mb-2",children:e.name}),(0,Ff.jsx)("p",{className:"text-slate-600 dark:text-slate-300",children:e.description})]}),(0,Ff.jsx)(gv,{className:"text-slate-400 dark:text-slate-500 group-hover:text-sky-500 dark:group-hover:text-sky-400",size:24})]})},e.id))})]})]});var L;if("topicSelection"===i)return(0,Ff.jsxs)("div",{className:"p-8 animate-fade-in",children:[(0,Ff.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Ff.jsx)("button",{onClick:O,className:"mr-4 p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:(0,Ff.jsx)(yv,{className:"text-slate-600 dark:text-slate-300",size:20})}),(0,Ff.jsxs)("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 flex items-center",children:[(0,Ff.jsx)(Sf,{className:"mr-3 text-sky-600 dark:text-sky-400",size:32}),a," - Konu Se\xe7imi"]})]}),(0,Ff.jsxs)("div",{className:"max-w-2xl",children:[(0,Ff.jsx)("p",{className:"text-slate-600 dark:text-slate-300 mb-8",children:"Y\xd6KD\u0130L"===a?`${null===(L=N.find(e=>e.id===l))||void 0===L?void 0:L.name} alan\u0131nda nas\u0131l bir al\u0131\u015ft\u0131rma istiyorsunuz?`:"YDS i\xe7in nas\u0131l bir al\u0131\u015ft\u0131rma istiyorsunuz?"}),(0,Ff.jsxs)("div",{className:"grid gap-4 mb-6",children:[(0,Ff.jsx)("button",{onClick:()=>D(a,l,"",!0),disabled:h,className:"p-6 border-2 border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-800 rounded-lg hover:border-sky-500 dark:hover:border-sky-400 hover:bg-sky-50 dark:hover:bg-slate-700 transition-all duration-200 text-left group disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Ff.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ff.jsxs)("div",{className:"flex items-center",children:[(0,Ff.jsx)(vv,{className:"mr-4 text-sky-600 dark:text-sky-400",size:24}),(0,Ff.jsxs)("div",{children:[(0,Ff.jsx)("h3",{className:"text-xl font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Rastgele Konu"}),(0,Ff.jsx)("p",{className:"text-slate-600 dark:text-slate-300",children:"AI taraf\u0131ndan otomatik olarak se\xe7ilen konu"})]})]}),(0,Ff.jsx)(gv,{className:"text-slate-400 dark:text-slate-500 group-hover:text-sky-500 dark:group-hover:text-sky-400",size:24})]})}),(0,Ff.jsxs)("div",{className:"p-6 border-2 border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-800 rounded-lg",children:[(0,Ff.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Ff.jsx)(bv,{className:"mr-4 text-sky-600 dark:text-sky-400",size:24}),(0,Ff.jsx)("h3",{className:"text-xl font-semibold text-slate-800 dark:text-slate-100",children:"Kendi Konunu Belirle"})]}),"YDS"===a&&(0,Ff.jsxs)("div",{className:"mb-4",children:[(0,Ff.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:"Pop\xfcler konular:"}),(0,Ff.jsx)("div",{className:"flex flex-wrap gap-2",children:C.map(e=>(0,Ff.jsx)("button",{onClick:()=>d(e),className:"px-3 py-1 text-sm rounded-full border transition-all "+(u===e?"bg-sky-500 text-white border-sky-500 dark:bg-sky-600 dark:border-sky-600":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 border-slate-300 dark:border-slate-600 hover:border-sky-500 dark:hover:border-sky-400"),children:e},e))})]}),(0,Ff.jsx)("input",{type:"text",placeholder:"YDS"===a?"\xd6rn: Yapay Zeka ve Gelecek":"\xd6rn: Kanser Tedavisinde Yeni Yakla\u015f\u0131mlar",value:u,onChange:e=>d(e.target.value),className:"w-full p-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-lg focus:outline-none focus:border-sky-500 dark:focus:border-sky-400 mb-4"}),(0,Ff.jsx)("button",{onClick:()=>D(a,l,u,!1),disabled:!u.trim()||h,className:"w-full bg-sky-500 dark:bg-sky-600 text-white py-3 rounded-lg hover:bg-sky-600 dark:hover:bg-sky-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Olu\u015fturuluyor...":"Al\u0131\u015ft\u0131rma Olu\u015ftur"})]})]})]})]});if("practiceMode"===i){const e=E?Math.round((new Date-E)/1e3):0;return(0,Ff.jsxs)("div",{className:"p-8 animate-fade-in",children:[(0,Ff.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ff.jsxs)("div",{className:"flex items-center",children:[(0,Ff.jsx)("button",{onClick:O,className:"mr-4 p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:(0,Ff.jsx)(yv,{className:"text-slate-600 dark:text-slate-300",size:20})}),(0,Ff.jsxs)("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 flex items-center",children:[(0,Ff.jsx)(Sf,{className:"mr-3 text-sky-600 dark:text-sky-400",size:32}),a," Al\u0131\u015ft\u0131rmas\u0131"]})]}),(0,Ff.jsxs)("div",{className:"flex items-center space-x-4",children:[!w&&E&&(0,Ff.jsxs)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Ge\xe7en s\xfcre: ",Math.floor(e/60),":",(e%60).toString().padStart(2,"0")]}),(0,Ff.jsx)("button",{onClick:j,className:"px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:"Yeni Al\u0131\u015ft\u0131rma"})]})]}),(0,Ff.jsxs)("div",{className:"max-w-4xl",children:[(0,Ff.jsxs)("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 rounded-lg p-6 mb-6",children:[(0,Ff.jsx)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"Okuma Par\xe7as\u0131"}),(0,Ff.jsx)("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:(0,Ff.jsx)("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed whitespace-pre-line",children:p})})]}),g.length>0&&(0,Ff.jsxs)("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 rounded-lg p-6",children:[(0,Ff.jsx)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-6",children:"Sorular"}),(0,Ff.jsx)("div",{className:"space-y-6",children:g.map(e=>(0,Ff.jsxs)("div",{className:"border-b border-slate-200 dark:border-slate-600 pb-6 last:border-b-0",children:[(0,Ff.jsxs)("h4",{className:"text-base font-medium text-slate-800 dark:text-slate-100 mb-4",children:[e.number,". ",e.question]}),(0,Ff.jsx)("div",{className:"space-y-3",children:e.options.map(t=>(0,Ff.jsxs)("label",{className:"flex items-start p-4 rounded-lg border-2 cursor-pointer transition-all "+(w?x[e.number]===t.letter?"border-green-500 bg-green-50 dark:bg-green-900/20":v[e.number]===t.letter&&v[e.number]!==x[e.number]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-slate-200 dark:border-slate-600":v[e.number]===t.letter?"border-sky-500 bg-sky-50 dark:bg-sky-900/20":"border-slate-200 dark:border-slate-600 hover:border-slate-300 dark:hover:border-slate-500"),children:[(0,Ff.jsx)("input",{type:"radio",name:`question-${e.number}`,value:t.letter,checked:v[e.number]===t.letter,onChange:()=>{return n=e.number,r=t.letter,void b(e=>({...e,[n]:r}));var n,r},disabled:w,className:"mt-1 mr-3 text-sky-600"}),(0,Ff.jsxs)("div",{className:"flex-1",children:[(0,Ff.jsxs)("span",{className:"font-medium text-slate-700 dark:text-slate-300 mr-2",children:[t.letter,")"]}),(0,Ff.jsx)("span",{className:"text-slate-700 dark:text-slate-300",children:t.text})]}),w&&(0,Ff.jsxs)("div",{className:"ml-2",children:[x[e.number]===t.letter&&(0,Ff.jsx)(wv,{className:"w-5 h-5 text-green-500"}),v[e.number]===t.letter&&v[e.number]!==x[e.number]&&(0,Ff.jsx)(Tf,{className:"w-5 h-5 text-red-500"})]})]},t.letter))})]},e.number))}),!w&&(0,Ff.jsx)("div",{className:"mt-6 flex justify-center",children:(0,Ff.jsx)("button",{onClick:R,disabled:Object.keys(v).length!==g.length,className:"px-6 py-3 bg-sky-500 dark:bg-sky-600 text-white rounded-lg hover:bg-sky-600 dark:hover:bg-sky-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cevaplar\u0131 Kontrol Et"})}),w&&(0,Ff.jsxs)("div",{className:"mt-6 p-6 bg-gradient-to-r from-slate-50 to-blue-50 dark:from-slate-700 dark:to-slate-600 rounded-lg",children:[(0,Ff.jsxs)("h4",{className:"text-xl font-semibold text-slate-800 dark:text-slate-100 mb-4 flex items-center",children:[(0,Ff.jsx)(fv,{className:"mr-2 text-sky-600 dark:text-sky-400",size:24}),"Sonu\xe7lar"]}),(0,Ff.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,Ff.jsxs)("div",{className:"text-center",children:[(0,Ff.jsxs)("div",{className:"text-2xl font-bold text-sky-600 dark:text-sky-400",children:[Object.values(v).filter((e,t)=>e===x[g[t].number]).length,"/",g.length]}),(0,Ff.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Do\u011fru Cevap"})]}),(0,Ff.jsxs)("div",{className:"text-center",children:[(0,Ff.jsxs)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["%",(Object.values(v).filter((e,t)=>e===x[g[t].number]).length/g.length*100).toFixed(1)]}),(0,Ff.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Ba\u015far\u0131 Oran\u0131"})]}),(0,Ff.jsxs)("div",{className:"text-center",children:[(0,Ff.jsxs)("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[Math.floor(e/60),":",(e%60).toString().padStart(2,"0")]}),(0,Ff.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:"S\xfcre"})]})]}),(0,Ff.jsx)("div",{className:"flex justify-center",children:(0,Ff.jsx)("button",{onClick:j,className:"px-6 py-3 bg-sky-500 dark:bg-sky-600 text-white rounded-lg hover:bg-sky-600 dark:hover:bg-sky-700 transition-colors",children:"Yeni Al\u0131\u015ft\u0131rma Yap"})})]})]})]})]})}return null},xv=e=>{let{saveProgress:t,userProgress:n}=e;const[i,s]=(0,r.useState)(""),[a,o]=(0,r.useState)(""),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),p=(null===n||void 0===n?void 0:n.learnedWords)||[];return(0,Ff.jsxs)("div",{className:"p-8 animate-fade-in",children:[(0,Ff.jsxs)("h2",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-6 flex items-center",children:[(0,Ff.jsx)(Rf,{className:"mr-3 text-rose-600",size:32}),"Ak\u0131l Haritas\u0131 Olu\u015fturucu"]}),(0,Ff.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[(0,Ff.jsx)("input",{type:"text",value:i,onChange:e=>s(e.target.value),placeholder:"Ak\u0131l haritas\u0131 konusu",className:"flex-grow bg-white border border-violet-200 rounded-lg p-3 text-slate-700 focus:ring-2 focus:ring-rose-400 focus:outline-none transition-all shadow-sm"}),(0,Ff.jsxs)("button",{onClick:async()=>{if(!i.trim())return void d("L\xfctfen bir konu girin.");c(!0),o(""),d("");const e=`"${i}" konusu hakk\u0131nda hiyerar\u015fik bir ak\u0131l haritas\u0131 metni olu\u015ftur. Format: Ana Konu: ... - Ba\u015fl\u0131k 1...`;try{var n,r,s,a,l;const c={contents:[{role:"user",parts:[{text:e}]}]},u=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${"AIzaSyCSuzlRr7AmF59CsaNC9S5Asa-U9Rpx7Mo"}`,d=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!d.ok)throw new Error(`API Hatas\u0131: ${d.status} - ${d.statusText}`);const h=(null===(n=(await d.json()).candidates)||void 0===n||null===(r=n[0])||void 0===r||null===(s=r.content)||void 0===s||null===(a=s.parts)||void 0===a||null===(l=a[0])||void 0===l?void 0:l.text)||"Metin olu\u015fturulamad\u0131.";o(h),await t({activities:hf({text:`"${i}" konusunda ak\u0131l haritas\u0131 metni olu\u015fturdunuz.`,timestamp:new Date})})}catch(u){d(`Bir hata olu\u015ftu: ${u.message}`)}finally{c(!1)}},disabled:l,className:"bg-rose-500 hover:bg-rose-600 text-white font-bold py-3 px-6 rounded-lg flex items-center justify-center transition-all shadow-md hover:shadow-lg disabled:bg-rose-300",children:[l?(0,Ff.jsx)(yf,{className:"animate-spin mr-2"}):(0,Ff.jsx)(Rf,{className:"mr-2"})," Harita Metni Olu\u015ftur"]})]}),u&&(0,Ff.jsx)("div",{className:"bg-red-100 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4",children:u}),h&&(0,Ff.jsx)("div",{className:"bg-green-100 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-4",children:h}),a&&(0,Ff.jsxs)("div",{className:"mt-6 bg-white border border-violet-200 rounded-xl p-6 shadow-lg",children:[(0,Ff.jsx)("h3",{className:"text-xl font-semibold text-slate-800 mb-2",children:"Olu\u015fturulan Metin"}),(0,Ff.jsx)("div",{className:"prose max-w-none text-slate-600 leading-relaxed whitespace-pre-wrap mb-4",children:(0,Ff.jsx)(ov,{children:a})}),(0,Ff.jsx)("div",{className:"flex justify-end mt-4",children:(0,Ff.jsxs)("button",{onClick:async()=>{const e=i.trim().toLowerCase();if(console.log("handleMarkAsLearned \xe7a\u011fr\u0131ld\u0131. Konu:",e),console.log("Mevcut \xf6\u011frenilen kelimeler:",p),console.log("userProgress:",n),console.log("saveProgress fonksiyonu:",t),e.includes(",")||e.includes(" "))d("L\xfctfen ayn\u0131 anda sadece bir kelime girin (bo\u015fluk ve virg\xfcl kullanmay\u0131n).");else if(e){if(!t)return d("saveProgress fonksiyonu tan\u0131ml\u0131 de\u011fil."),void console.error("saveProgress fonksiyonu undefined!");if(n||console.log("userProgress undefined, bo\u015f obje ile devam ediliyor..."),p.includes(e))d(`"${e}" konusu zaten \xf6\u011frenilenler listenizde.`);else try{console.log("Firestore'a kaydediliyor:",e);const n={learnedWords:hf(e),activities:hf({text:`"${e}" konusunu \xf6\u011frenilenlere eklediniz.`,timestamp:new Date})};console.log("Kaydetme verisi:",n);const r=await t(n);console.log("saveProgress sonucu:",r),d(""),console.log("Ba\u015far\u0131yla kaydedildi:",e),f(`"${e}" ba\u015far\u0131yla \xf6\u011frenilenlere eklendi!`),d(""),setTimeout(()=>{f("")},3e3)}catch(r){console.error("Kelime kaydedilirken hata:",r),console.error("Hata detaylar\u0131:",r.stack),d(`Konu kaydedilirken hata olu\u015ftu: ${r.message}`)}}else d("L\xfctfen \xf6\u011frenildi olarak i\u015faretlemek i\xe7in bir konu girin.")},disabled:!i.trim()||p.includes(i.trim().toLowerCase()),className:"bg-teal-500 hover:bg-teal-600 active:scale-95 text-white font-bold py-2 px-4 rounded-full flex items-center transition-all shadow hover:shadow-md disabled:bg-teal-200 disabled:cursor-not-allowed",children:[(0,Ff.jsx)(Bf,{className:"mr-2"})," \xd6\u011frenildi Olarak \u0130\u015faretle"]})})]}),p.length>0&&(0,Ff.jsxs)("div",{className:"mt-6",children:[(0,Ff.jsx)("h3",{className:"text-xl font-semibold text-slate-800 mb-4 text-center",children:"\xd6\u011frenilen Konular"}),(0,Ff.jsx)("div",{className:"flex flex-wrap gap-3 justify-center",children:p.map((e,t)=>(0,Ff.jsx)("span",{className:"bg-violet-100 text-violet-800 px-4 py-2 rounded-full text-sm font-medium shadow-sm",children:e},t))})]})]})},Sv=e=>{if(!e)return"";return(e instanceof Date?e:e.toDate?e.toDate():new Date(e)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},Ev=()=>(0,Ff.jsxs)("span",{className:"flex items-center gap-1",children:["Yan\u0131t yaz\u0131yor",(0,Ff.jsxs)("span",{className:"flex space-x-1",children:[(0,Ff.jsx)("span",{className:"w-1 h-1 bg-slate-600 dark:bg-slate-300 rounded-full animate-bounce [animation-delay:.0s]"}),(0,Ff.jsx)("span",{className:"w-1 h-1 bg-slate-600 dark:bg-slate-300 rounded-full animate-bounce [animation-delay:.2s]"}),(0,Ff.jsx)("span",{className:"w-1 h-1 bg-slate-600 dark:bg-slate-300 rounded-full animate-bounce [animation-delay:.4s]"})]})]}),_v=e=>{let{saveProgress:t}=e;const[n,i]=(0,r.useState)(""),[s,a]=(0,r.useState)([]),[o,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(!1),f=async()=>{if(!n.trim())return;const e=n.trim(),r=[...s,{role:"user",text:e,timestamp:new Date}];a(r),i(""),u(""),l(!0),h(!0);try{var o,c,d,f,p;const n={contents:[{role:"user",parts:[{text:e}]}]},r=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${"AIzaSyCSuzlRr7AmF59CsaNC9S5Asa-U9Rpx7Mo"}`,i=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok)throw new Error(`API Hatas\u0131: Sunucu ${i.status} koduyla yan\u0131t verdi.`);const s=(null===(o=(await i.json()).candidates)||void 0===o||null===(c=o[0])||void 0===c||null===(d=c.content)||void 0===d||null===(f=d.parts)||void 0===f||null===(p=f[0])||void 0===p?void 0:p.text)||"\xdczg\xfcn\xfcm, bir yan\u0131t olu\u015fturulamad\u0131.";a(e=>[...e,{role:"ai",text:s,timestamp:new Date}]);const l={text:`AI Asistan\u0131na bir soru sordunuz: "${e.substring(0,50)}${e.length>50?"...":""}"`,timestamp:df()};await t(l)}catch(m){u(`Bir hata olu\u015ftu: ${m.message}`),a(e=>[...e,{role:"ai",text:`Hata: ${m.message}`,timestamp:new Date}])}finally{l(!1),h(!1)}};return(0,Ff.jsxs)("div",{className:"p-6 animate-fade-in flex flex-col h-full",children:[(0,Ff.jsxs)("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4 flex items-center",children:[(0,Ff.jsxs)("svg",{className:"mr-3 text-sky-600 dark:text-sky-400",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Ff.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}),(0,Ff.jsx)("path",{d:"M13 8H7"}),(0,Ff.jsx)("path",{d:"M17 12H7"})]}),"PrepMate Sohbet Asistan\u0131"]}),(0,Ff.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,Ff.jsx)("div",{className:"flex gap-2 w-max min-w-full",children:["YDS nas\u0131l haz\u0131rlan\u0131r\u0131m?","\u0130ngilizce kaynak \xf6nerisi","Dil \xf6\u011frenme tavsiyeleri","Motivasyon i\xe7in \xf6neriler"].map((e,t)=>(0,Ff.jsx)("button",{onClick:()=>(e=>{i(e)})(e),className:"whitespace-nowrap bg-violet-200 dark:bg-violet-700 text-violet-900 dark:text-violet-200 rounded-full px-4 py-1 text-sm hover:bg-violet-300 dark:hover:bg-violet-600 transition",children:e},t))})}),(0,Ff.jsxs)("div",{className:"flex-1 bg-white dark:bg-slate-800 border border-violet-200 dark:border-violet-700 rounded-xl shadow-inner p-4 mb-4 overflow-y-auto flex flex-col-reverse custom-scrollbar",children:[s.slice().reverse().map((e,t)=>(0,Ff.jsxs)("div",{className:"mb-4 flex items-end gap-3 "+("user"===e.role?"justify-end":"justify-start"),children:["ai"===e.role&&(0,Ff.jsx)("img",{src:"https://raw.githubusercontent.com/KadirEfeYazili/YZTA-Bootcamp/refs/heads/main/public/images/avatar.png",alt:"AI asistan\u0131 avatar\u0131",className:"w-10 h-10 rounded-full flex-shrink-0 object-cover"}),(0,Ff.jsxs)("div",{className:"inline-block p-3 rounded-lg max-w-[80%] prose "+("user"===e.role?"bg-violet-600 text-white rounded-br-none dark:bg-violet-700":"bg-violet-100 text-slate-800 rounded-bl-none dark:bg-violet-900 dark:text-violet-300"),children:[(0,Ff.jsx)(ov,{children:e.text}),(0,Ff.jsx)("div",{className:"text-xs mt-1 text-right text-gray-900 dark:text-gray-100 select-none",children:Sv(e.timestamp)})]})]},t)),d&&(0,Ff.jsxs)("div",{className:"mb-4 flex items-end gap-3 justify-start",children:[(0,Ff.jsx)("img",{src:"/images/avatar.png",alt:"AI avatar",className:"w-10 h-10 rounded-full flex-shrink-0 object-cover"}),(0,Ff.jsx)("div",{className:"inline-block px-4 py-3 rounded-lg max-w-[80%] bg-violet-100 text-slate-600 dark:bg-violet-900 dark:text-violet-300 select-none",children:(0,Ff.jsx)(Ev,{})})]}),c&&(0,Ff.jsx)("div",{className:"bg-red-100 dark:bg-red-900 border border-red-200 dark:border-red-700 text-red-700 dark:text-red-400 px-4 py-3 rounded-lg my-2",children:c})]}),(0,Ff.jsxs)("div",{className:"flex gap-2",children:[(0,Ff.jsx)("textarea",{value:n,onChange:e=>i(e.target.value),placeholder:"AI Asistan\u0131na bir \u015feyler sorun...",className:"flex-grow bg-white dark:bg-slate-800 border border-violet-200 dark:border-violet-700 rounded-lg px-3 py-2 text-slate-700 dark:text-slate-200 focus:ring-2 focus:ring-sky-400 focus:outline-none transition-all resize-none shadow-sm text-sm",rows:"1",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),f())}}),(0,Ff.jsx)("button",{onClick:f,disabled:o,className:"bg-sky-500 hover:bg-sky-600 dark:bg-sky-600 dark:hover:bg-sky-700 text-white font-bold py-3 px-6 rounded-lg flex items-center justify-center transition-all shadow-md hover:shadow-lg disabled:bg-sky-300",children:o?(0,Ff.jsx)(yf,{className:"animate-spin"}):(0,Ff.jsx)(Vf,{})})]})]})},Tv=e=>{let{tabName:t,icon:n,children:r,activeTab:i,setActiveTab:s,isSidebarOpen:a}=e;return(0,Ff.jsxs)("button",{onClick:()=>s(t),className:"w-full flex items-center px-4 py-3 text-left text-sm font-medium rounded-lg transition-all "+(i===t?"bg-violet-100 text-violet-800 shadow-inner dark:bg-slate-700 dark:text-slate-100":"text-slate-500 hover:bg-violet-50 hover:text-violet-700 dark:text-slate-300 dark:hover:bg-slate-700 dark:hover:text-slate-100"),children:[n," ",a&&r]})},Iv=gf("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Nv=gf("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Cv=gf("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Av=JSON.parse('[{"id":1,"category":"Vocabulary","question":"The rapid spread of misinformation on social media platforms has become a significant ---- to informed public discourse.","options":["obstacle","enhancement","incentive","alignment","promotion"],"answer":"obstacle","explanationPrompt":"Explain that \'obstacle\' means something that hinders or prevents progress, fitting the context of misinformation impeding informed public discourse."},{"id":2,"category":"Vocabulary","question":"To address climate change, governments must ---- policies that promote renewable energy and reduce carbon emissions.","options":["neglect","implement","postpone","undermine","restrict"],"answer":"implement","explanationPrompt":"Explain that \'implement\' means to put into action, which is appropriate for enacting policies to combat climate change."},{"id":3,"category":"Vocabulary","question":"The scientist\u2019s discovery was so ---- that it reshaped the entire field of genetic research.","options":["trivial","controversial","profound","temporary","ambiguous"],"answer":"profound","explanationPrompt":"Explain that \'profound\' means having a deep or significant impact, suitable for describing a discovery that reshaped a field."},{"id":4,"category":"Vocabulary","question":"Urban planners are working to ---- the negative effects of overpopulation in densely populated cities.","options":["exacerbate","mitigate","accelerate","overlook","intensify"],"answer":"mitigate","explanationPrompt":"Explain that \'mitigate\' means to reduce or alleviate, fitting the context of addressing negative effects of overpopulation."},{"id":5,"category":"Grammar","question":"Recent research ---- that a balanced diet ---- the risk of chronic illnesses significantly.","options":["has shown / reduces","showed / will reduce","shows / reduced","had shown / has reduced","is showing / is reducing"],"answer":"has shown / reduces","explanationPrompt":"Explain that \'has shown\' (present perfect) indicates a completed study with ongoing relevance, and \'reduces\' (simple present) states a general fact."},{"id":6,"category":"Grammar","question":"If the company ---- more in employee training last year, it ---- more efficient operations today.","options":["invested / will have","had invested / would have","has invested / has","would invest / had","was investing / could have"],"answer":"had invested / would have","explanationPrompt":"Explain that \'had invested\' (past perfect) is used for a hypothetical past action, and \'would have\' (conditional perfect) describes the resulting hypothetical present outcome."},{"id":7,"category":"Grammar","question":"The ancient artifact, ---- in a remote cave, ---- evidence of early human creativity.","options":["discovered / provides","discovering / provided","to discover / has provided","being discovered / proves","discover / is providing"],"answer":"discovered / provides","explanationPrompt":"Explain that \'discovered\' (past participle) acts as an adjective describing the artifact, and \'provides\' (simple present) states a current fact based on the discovery."},{"id":8,"category":"Grammar","question":"By the time the project ----, the team ---- all necessary resources to complete it.","options":["is approved / will have gathered","was approved / had gathered","has been approved / gathers","will be approved / gathered","had been approved / will gather"],"answer":"was approved / had gathered","explanationPrompt":"Explain that \'was approved\' (simple past) sets the timeline, and \'had gathered\' (past perfect) indicates an action completed before that point."},{"id":9,"category":"Prepositions","question":"The success of the conservation program depends ---- the cooperation ---- local communities.","options":["on / of","for / with","at / among","by / between","to / from"],"answer":"on / of","explanationPrompt":"Explain that \'depends on\' is the correct preposition for reliance, and \'of\' indicates possession or association with local communities."},{"id":10,"category":"Prepositions","question":"Many species are at risk ---- extinction due to habitat destruction ---- human activities.","options":["of / from","for / by","with / through","to / with","at / for"],"answer":"of / from","explanationPrompt":"Explain that \'at risk of\' is the correct phrase for indicating danger, and \'from\' shows the cause of the threat, i.e., human activities."},{"id":11,"category":"Conjunctions","question":"---- renewable energy sources are becoming more affordable, fossil fuels still dominate global energy production.","options":["Since","Although","Unless","Because","Once"],"answer":"Although","explanationPrompt":"Explain that \'Although\' introduces a contrast between the affordability of renewable energy and the continued dominance of fossil fuels."},{"id":12,"category":"Conjunctions","question":"---- governments take immediate action to reduce emissions, the effects of climate change will become irreversible.","options":["If","Unless","While","As long as","Provided that"],"answer":"Unless","explanationPrompt":"Explain that \'Unless\' indicates a condition that must be met to avoid a negative outcome, fitting the context of needing action to prevent irreversible climate change."},{"id":13,"category":"Reading Comprehension","question":"Without proper infrastructure, ----.","options":["urban areas can still thrive economically","cities struggle to provide essential services like water and electricity","rural communities benefit from increased tourism","governments can focus on industrial development","public transportation systems operate efficiently"],"answer":"cities struggle to provide essential services like water and electricity","explanationPrompt":"Explain that this option logically completes the conditional sentence, as lack of infrastructure directly impacts cities\u2019 ability to provide essential services."},{"id":14,"category":"Reading Comprehension","question":"While overfishing has depleted marine ecosystems, ----.","options":["coastal communities rely heavily on fishing for their livelihood","new technologies have made fishing more sustainable","marine biodiversity has increased in some regions","sustainable fishing practices can help restore fish populations","governments have banned all fishing activities"],"answer":"sustainable fishing practices can help restore fish populations","explanationPrompt":"Explain that \'While\' introduces a contrast between the problem of overfishing and the potential solution of sustainable practices."},{"id":15,"category":"Translation","question":"The development of artificial intelligence has revolutionized industries, but it also raises ethical concerns about privacy and job displacement.","options":["Yapay zekan\u0131n geli\u015fimi end\xfcstrileri devrimle\u015ftirdi, ancak gizlilik ve i\u015f kayb\u0131 konusunda etik kayg\u0131lar da do\u011furuyor.","Yapay zekan\u0131n ilerlemesi, end\xfcstrilerde devrim yaratt\u0131 fakat gizlilik ve i\u015ften \xe7\u0131karmalarla ilgili etik sorunlar da ortaya \xe7\u0131kard\u0131.","Yapay zekan\u0131n geli\u015fimi, end\xfcstrileri d\xf6n\xfc\u015ft\xfcrd\xfc ama ayn\u0131 zamanda gizlilik ve i\u015f kayb\u0131 \xfczerine etik tart\u0131\u015fmalara yol a\xe7t\u0131.","Yapay zekan\u0131n ilerlemesi end\xfcstrileri de\u011fi\u015ftirdi, ancak bu, gizlilik ve i\u015ften \xe7\u0131karmalarla ilgili etik problemler de yaratt\u0131.","Yapay zeka geli\u015fimi end\xfcstrilerde yenilikler getirdi, fakat gizlilik ve i\u015f kayb\u0131 konusunda etik endi\u015felere de sebep oldu."],"answer":"Yapay zekan\u0131n geli\u015fimi end\xfcstrileri devrimle\u015ftirdi, ancak gizlilik ve i\u015f kayb\u0131 konusunda etik kayg\u0131lar da do\u011furuyor.","explanationPrompt":"Explain that this option accurately translates \'revolutionized\' as \'devrimle\u015ftirdi\' and maintains the original sentence\u2019s structure with \'ancak\' for the contrast."},{"id":16,"category":"Translation","question":"K\xfcresel \u0131s\u0131nma, tar\u0131m verimlili\u011fini tehdit ediyor ve bu da d\xfcnya \xe7ap\u0131nda g\u0131da g\xfcvenli\u011fi sorunlar\u0131na yol a\xe7\u0131yor.","options":["Global warming threatens agricultural productivity, leading to food security issues worldwide.","Global warming is endangering agriculture, causing problems with global food security.","Climate change affects farming output, resulting in worldwide food safety concerns.","Global warming poses a threat to agricultural yields, contributing to global food security challenges.","Rising temperatures harm agriculture, which leads to food security issues across the globe."],"answer":"Global warming threatens agricultural productivity, leading to food security issues worldwide.","explanationPrompt":"Explain that this option precisely translates \'tehdit ediyor\' as \'threatens\' and \'g\u0131da g\xfcvenli\u011fi\' as \'food security,\' maintaining the original meaning and structure."},{"id":17,"category":"Paragraph Completion","question":"Urbanization has led to significant economic growth in many regions. ---- However, it has also caused challenges such as housing shortages and traffic congestion.","options":["Cities have become hubs for innovation and commerce.","Rural areas are experiencing population decline.","Public transportation systems need improvement.","Governments are investing in sustainable energy.","Air pollution has decreased in urban centers."],"answer":"Cities have become hubs for innovation and commerce.","explanationPrompt":"Explain that this option logically connects urbanization\u2019s role in economic growth with the subsequent challenges, providing a coherent transition."},{"id":18,"category":"Sentence Rephrasing","question":"Although technological advancements have improved healthcare, they have also increased the cost of medical services.","options":["Technological progress has enhanced healthcare but has also raised the cost of medical services.","Despite improvements in healthcare due to technology, medical service costs have decreased.","Technology has advanced healthcare, yet it has reduced the affordability of medical services.","While technology has improved healthcare, it has also made medical services less accessible.","Healthcare has benefited from technology, but medical costs have remained stable."],"answer":"Technological progress has enhanced healthcare but has also raised the cost of medical services.","explanationPrompt":"Explain that this option accurately rephrases the original, using \'enhanced\' for \'improved\' and maintaining the contrast with \'but.\'"},{"id":19,"category":"Irrelevant Sentence","question":"Which sentence is irrelevant in the following passage? (I) Renewable energy sources are critical for reducing carbon emissions. (II) Solar and wind power are increasingly cost-competitive. (III) Many countries rely on coal for electricity generation. (IV) Innovations in battery storage are improving energy efficiency. (V) Electric vehicles are gaining popularity due to lower emissions.","options":["I","II","III","IV","V"],"answer":"III","explanationPrompt":"Explain that sentence III about coal reliance is irrelevant to the focus on renewable energy and its benefits."},{"id":20,"category":"Phrasal Verbs","question":"The project was delayed because the team ---- unexpected technical issues during development.","options":["ran into","gave up","looked after","turned down","brought up"],"answer":"ran into","explanationPrompt":"Explain that \'ran into\' means to encounter unexpectedly, fitting the context of facing unforeseen technical problems."},{"id":21,"category":"Vocabulary","question":"The government\u2019s decision to ignore the economic data was widely criticized as ---- by analysts.","options":["prudent","reckless","beneficial","neutral","strategic"],"answer":"reckless","explanationPrompt":"Explain that \'reckless\' means careless or irresponsible, suitable for describing a criticized decision to ignore data."},{"id":22,"category":"Vocabulary","question":"Efforts to preserve endangered species are often ---- by insufficient funding and lack of public awareness.","options":["facilitated","hindered","accelerated","supported","amplified"],"answer":"hindered","explanationPrompt":"Explain that \'hindered\' means obstructed or delayed, fitting the context of challenges to conservation efforts."},{"id":23,"category":"Vocabulary","question":"The new policy aims to ---- equal opportunities for all employees, regardless of their background.","options":["undermine","restrict","promote","neglect","complicate"],"answer":"promote","explanationPrompt":"Explain that \'promote\' means to encourage or advance, aligning with the goal of ensuring equal opportunities."},{"id":24,"category":"Vocabulary","question":"The documentary provided a ---- account of the environmental impact of industrialization.","options":["biased","superficial","comprehensive","irrelevant","ambiguous"],"answer":"comprehensive","explanationPrompt":"Explain that \'comprehensive\' means thorough and complete, fitting a detailed account of environmental impact."},{"id":25,"category":"Grammar","question":"If the experiment ---- successful, it ---- a breakthrough in cancer treatment.","options":["is / could represent","was / will represent","has been / represents","will be / represented","had been / has represented"],"answer":"is / could represent","explanationPrompt":"Explain that \'is\' (simple present) indicates a hypothetical current situation, and \'could represent\' (conditional) shows a potential outcome."},{"id":26,"category":"Grammar","question":"The technology, ---- rapidly over the past decade, ---- now integral to modern communication systems.","options":["evolving / is","evolved / was","having evolved / has been","to evolve / will be","being evolved / becomes"],"answer":"evolving / is","explanationPrompt":"Explain that \'evolving\' (present participle) describes ongoing development, and \'is\' (simple present) states a current fact."},{"id":27,"category":"Grammar","question":"By the end of this year, the company ---- its new product line, which ---- significant market interest.","options":["will launch / generates","has launched / generated","will have launched / has generated","launched / is generating","had launched / was generating"],"answer":"will have launched / has generated","explanationPrompt":"Explain that \'will have launched\' (future perfect) indicates a completed action by a future point, and \'has generated\' (present perfect) shows ongoing interest."},{"id":28,"category":"Grammar","question":"I wish I ---- the opportunity to study abroad last year; it ---- my perspective significantly.","options":["took / will broaden","had taken / would have broadened","have taken / broadens","would take / had broadened","was taking / could broaden"],"answer":"had taken / would have broadened","explanationPrompt":"Explain that \'had taken\' (past perfect) expresses regret for a missed past opportunity, and \'would have broadened\' describes the hypothetical result."},{"id":29,"category":"Prepositions","question":"The rise in renewable energy adoption is largely driven ---- technological advancements ---- the energy sector.","options":["by / in","for / with","to / among","at / between","with / from"],"answer":"by / in","explanationPrompt":"Explain that \'driven by\' indicates the cause of the rise, and \'in\' specifies the sector where advancements occur."},{"id":30,"category":"Prepositions","question":"The policy was developed ---- consultation ---- experts in environmental science.","options":["with / of","for / with","by / among","in / with","to / from"],"answer":"in / with","explanationPrompt":"Explain that \'in consultation\' is the correct phrase for collaborative development, and \'with\' indicates the group involved."},{"id":31,"category":"Conjunctions","question":"---- deforestation continues at the current rate, many tropical forests will disappear within decades.","options":["Unless","Although","Since","Because","Once"],"answer":"Unless","explanationPrompt":"Explain that \'Unless\' indicates a condition that must change to avoid a negative outcome, fitting the context of preventing forest loss."},{"id":32,"category":"Conjunctions","question":"---- technology has advanced communication, it has also created challenges related to data privacy.","options":["While","If","Unless","As long as","Provided that"],"answer":"While","explanationPrompt":"Explain that \'While\' introduces a contrast between the benefits of technology and the privacy challenges it creates."},{"id":33,"category":"Reading Comprehension","question":"If governments fail to address income inequality, ----.","options":["economic growth will accelerate rapidly","social unrest may increase in many regions","public infrastructure will improve significantly","educational opportunities will expand","tax revenues will stabilize"],"answer":"social unrest may increase in many regions","explanationPrompt":"Explain that this option logically completes the conditional sentence, as income inequality often leads to social unrest."},{"id":34,"category":"Reading Comprehension","question":"Although automation increases productivity, ----.","options":["it requires significant investment in infrastructure","workers need more training to operate new systems","it can lead to job losses in certain industries","factories become more environmentally friendly","production costs remain unchanged"],"answer":"it can lead to job losses in certain industries","explanationPrompt":"Explain that \'Although\' introduces a contrast between automation\u2019s productivity benefits and its potential to cause job losses."},{"id":35,"category":"Translation","question":"The decline in biodiversity is a global concern, as it threatens ecosystems that humans rely on for survival.","options":["Biyo\xe7e\u015fitlilikteki azalma k\xfcresel bir sorundur, \xe7\xfcnk\xfc bu, insanlar\u0131n hayatta kalmas\u0131 i\xe7in ihtiya\xe7 duydu\u011fu ekosistemleri tehdit eder.","Biyo\xe7e\u015fitlili\u011fin azalmas\u0131 d\xfcnya \xe7ap\u0131nda bir endi\u015fedir, zira insanlar\u0131n ya\u015famas\u0131 i\xe7in ba\u011fl\u0131 oldu\u011fu ekosistemleri tehlikeye atar.","Biyo\xe7e\u015fitlilikteki d\xfc\u015f\xfc\u015f k\xfcresel bir meseledir, \xe7\xfcnk\xfc bu, insanlar\u0131n hayatta kalmak i\xe7in ihtiya\xe7 duydu\u011fu ekosistemleri etkiler.","Biyo\xe7e\u015fitlili\u011fin kayb\u0131 d\xfcnya i\xe7in bir sorundur, zira bu, insanlar\u0131n ya\u015fam i\xe7in ba\u011fl\u0131 oldu\u011fu ekosistemleri tehdit eder.","Biyo\xe7e\u015fitlilikteki azalma k\xfcresel bir tehdit olu\u015fturur, \xe7\xfcnk\xfc bu, insanlar\u0131n hayatta kalmas\u0131 i\xe7in gerekli ekosistemleri tehlikeye sokar."],"answer":"Biyo\xe7e\u015fitlilikteki azalma k\xfcresel bir sorundur, \xe7\xfcnk\xfc bu, insanlar\u0131n hayatta kalmas\u0131 i\xe7in ihtiya\xe7 duydu\u011fu ekosistemleri tehdit eder.","explanationPrompt":"Explain that this option accurately translates \'global concern\' as \'k\xfcresel bir sorun\' and uses \'\xe7\xfcnk\xfc\' to reflect the causal relationship."},{"id":36,"category":"Translation","question":"E\u011fitim, bireylerin potansiyellerini ger\xe7ekle\u015ftirmelerine olanak tan\u0131r ve toplumlar\u0131n ekonomik kalk\u0131nmas\u0131na katk\u0131da bulunur.","options":["Education enables individuals to realize their potential and contributes to the economic development of societies.","Education allows people to achieve their goals and supports societal growth economically.","Education helps individuals fulfill their potential and aids in the financial progress of communities.","Education provides opportunities for individuals to succeed and promotes economic growth in societies.","Education empowers people to reach their potential and enhances the economic advancement of nations."],"answer":"Education enables individuals to realize their potential and contributes to the economic development of societies.","explanationPrompt":"Explain that this option precisely translates \'ger\xe7ekle\u015ftirmelerine olanak tan\u0131r\' as \'enables ... to realize\' and \'ekonomik kalk\u0131nma\' as \'economic development.\'"},{"id":37,"category":"Paragraph Completion","question":"Social media platforms have transformed how people connect globally. ---- This has led to both opportunities for collaboration and challenges related to misinformation.","options":["They allow instant communication across borders.","Many users prefer traditional communication methods.","Governments regulate online content strictly.","Privacy laws have become less relevant.","Advertising revenues have declined significantly."],"answer":"They allow instant communication across borders.","explanationPrompt":"Explain that this option logically connects social media\u2019s role in global connectivity with the opportunities and challenges mentioned."},{"id":38,"category":"Sentence Rephrasing","question":"Despite the benefits of renewable energy, its adoption is often limited by high initial costs.","options":["Although renewable energy is beneficial, its high initial costs often restrict its adoption.","Renewable energy has many advantages, but its adoption is hindered by low costs.","High initial costs limit the use of renewable energy, despite its numerous benefits.","Renewable energy is widely adopted, even though its initial costs are high.","The benefits of renewable energy are overshadowed by its affordability."],"answer":"Although renewable energy is beneficial, its high initial costs often restrict its adoption.","explanationPrompt":"Explain that this option accurately rephrases the original, maintaining the contrast with \'although\' and using \'restrict\' for \'limited.\'"},{"id":39,"category":"Irrelevant Sentence","question":"Which sentence is irrelevant in the following passage? (I) Deforestation is a major cause of climate change. (II) It leads to habitat loss for countless species. (III) Many tropical forests are rich in biodiversity. (IV) Reforestation efforts are being implemented globally. (V) Electric cars are becoming more popular in urban areas.","options":["I","II","III","IV","V"],"answer":"V","explanationPrompt":"Explain that sentence V about electric cars is unrelated to the passage\u2019s focus on deforestation and reforestation."},{"id":40,"category":"Phrasal Verbs","question":"The company had to ---- several outdated policies to align with modern regulations.","options":["phase out","bring up","take over","put off","carry on"],"answer":"phase out","explanationPrompt":"Explain that \'phase out\' means to gradually eliminate, fitting the context of removing outdated policies."},{"id":41,"category":"Vocabulary","question":"The new regulations aim to ---- the use of single-use plastics in everyday products.","options":["encourage","curtail","expand","justify","monitor"],"answer":"curtail","explanationPrompt":"Explain that \'curtail\' means to reduce or limit, suitable for describing efforts to decrease plastic use."},{"id":42,"category":"Vocabulary","question":"The professor\u2019s lecture was so ---- that it inspired students to explore the topic further.","options":["tedious","engaging","irrelevant","complex","vague"],"answer":"engaging","explanationPrompt":"Explain that \'engaging\' means captivating or interesting, fitting the context of inspiring students."},{"id":43,"category":"Vocabulary","question":"The economic downturn has ---- the government to reconsider its fiscal policies.","options":["enabled","compelled","discouraged","permitted","prevented"],"answer":"compelled","explanationPrompt":"Explain that \'compelled\' means forced or obligated, fitting the context of the government being pushed to act."},{"id":44,"category":"Vocabulary","question":"The charity\u2019s efforts to provide clean water have had a ---- impact on rural communities.","options":["negligible","transformative","temporary","adverse","moderate"],"answer":"transformative","explanationPrompt":"Explain that \'transformative\' means causing significant change, suitable for describing the charity\u2019s impact."},{"id":45,"category":"Grammar","question":"The new software, ---- to improve efficiency, ---- widely adopted by businesses.","options":["designed / has been","designing / is","to design / was","being designed / will be","designed / had been"],"answer":"designed / has been","explanationPrompt":"Explain that \'designed\' (past participle) describes the software\u2019s purpose, and \'has been\' (present perfect) indicates ongoing adoption."},{"id":46,"category":"Grammar","question":"Had the team ---- better resources, they ---- the project on time.","options":["had / would complete","has / will complete","had had / would have completed","have / could complete","having / completed"],"answer":"had had / would have completed","explanationPrompt":"Explain that \'had had\' (past perfect) is used for a hypothetical past situation, and \'would have completed\' describes the hypothetical outcome."},{"id":47,"category":"Grammar","question":"The conference, ---- next month, ---- experts from around the world.","options":["held / will attract","holding / attracts","to be held / will attract","being held / attracted","hold / has attracted"],"answer":"to be held / will attract","explanationPrompt":"Explain that \'to be held\' (infinitive) indicates a future event, and \'will attract\' (future tense) describes the expected outcome."},{"id":48,"category":"Grammar","question":"The scientist ---- that the experiment ---- if conducted under controlled conditions.","options":["claimed / succeeds","has claimed / will succeed","claims / succeeded","had claimed / would succeed","is claiming / has succeeded"],"answer":"has claimed / will succeed","explanationPrompt":"Explain that \'has claimed\' (present perfect) shows a recent statement with relevance, and \'will succeed\' (future) indicates a predicted outcome."},{"id":49,"category":"Prepositions","question":"The campaign was launched ---- response ---- growing public demand for change.","options":["in / to","for / with","by / of","at / for","with / from"],"answer":"in / to","explanationPrompt":"Explain that \'in response to\' is the correct phrase for reacting to a situation, and \'to\' connects the response to public demand."},{"id":50,"category":"Prepositions","question":"The organization is committed ---- promoting equality ---- all levels of society.","options":["to / at","for / with","by / among","in / between","with / from"],"answer":"to / at","explanationPrompt":"Explain that \'committed to\' indicates dedication, and \'at all levels\' specifies the scope across society."},{"id":51,"category":"Conjunctions","question":"---- many people rely on public transportation, its funding remains insufficient in many cities.","options":["Although","Because","Since","Unless","Once"],"answer":"Although","explanationPrompt":"Explain that \'Although\' introduces a contrast between reliance on public transportation and its insufficient funding."},{"id":52,"category":"Conjunctions","question":"---- education is accessible to all, social mobility will remain limited.","options":["If","Unless","While","As long as","Because"],"answer":"Unless","explanationPrompt":"Explain that \'Unless\' indicates a condition necessary to avoid a negative outcome, fitting the context of needing accessible education for social mobility."},{"id":53,"category":"Reading Comprehension","question":"Without adequate training, teachers may ----.","options":["improve their teaching methods significantly","struggle to engage students effectively","receive higher salaries for their efforts","implement new curricula with ease","focus on administrative tasks"],"answer":"struggle to engage students effectively","explanationPrompt":"Explain that this option logically completes the sentence, as inadequate training directly impacts teachers\u2019 ability to engage students."},{"id":54,"category":"Reading Comprehension","question":"While artificial intelligence offers many benefits, ----.","options":["it requires minimal computational resources","it can replace all human labor","it raises concerns about job automation","it has no impact on productivity","it is universally accessible"],"answer":"it raises concerns about job automation","explanationPrompt":"Explain that \'While\' introduces a contrast between AI\u2019s benefits and the concern of job automation."},{"id":55,"category":"Translation","question":"Climate change is altering weather patterns, which affects agricultural productivity worldwide.","options":["\u0130klim de\u011fi\u015fikli\u011fi hava modellerini de\u011fi\u015ftiriyor, bu da d\xfcnya \xe7ap\u0131nda tar\u0131msal verimlili\u011fi etkiliyor.","\u0130klim de\u011fi\u015fikli\u011fi, tar\u0131msal \xfcretimi d\xfcnya genelinde de\u011fi\u015ftiren hava d\xfczenlerini etkiliyor.","\u0130klim de\u011fi\u015fikli\u011fi, k\xfcresel tar\u0131m verimlili\u011fini etkileyen hava desenlerini d\xf6n\xfc\u015ft\xfcr\xfcyor.","\u0130klim de\u011fi\u015fikli\u011fi hava modellerini de\u011fi\u015ftiriyor ve bu, d\xfcnya tar\u0131m\u0131n\u0131 etkiliyor.","\u0130klim de\u011fi\u015fikli\u011fi, tar\u0131msal \xfcretimi k\xfcresel olarak etkileyen hava de\u011fi\u015fikliklerine neden oluyor."],"answer":"\u0130klim de\u011fi\u015fikli\u011fi hava modellerini de\u011fi\u015ftiriyor, bu da d\xfcnya \xe7ap\u0131nda tar\u0131msal verimlili\u011fi etkiliyor.","explanationPrompt":"Explain that this option accurately translates \'altering\' as \'de\u011fi\u015ftiriyor\' and maintains the causal relationship with \'bu da.\'"},{"id":56,"category":"Translation","question":"Sa\u011fl\u0131k hizmetlerine eri\u015fim, bireylerin ya\u015fam kalitesini art\u0131r\u0131r ve toplumsal refah\u0131 destekler.","options":["Access to healthcare improves individuals\u2019 quality of life and supports societal well-being.","Healthcare access enhances people\u2019s lives and promotes community welfare.","Access to health services boosts individual well-being and aids social prosperity.","Healthcare availability improves quality of life and contributes to societal health.","Access to medical services supports personal health and enhances social welfare."],"answer":"Access to healthcare improves individuals\u2019 quality of life and supports societal well-being.","explanationPrompt":"Explain that this option precisely translates \'ya\u015fam kalitesini art\u0131r\u0131r\' as \'improves ... quality of life\' and \'toplumsal refah\u0131\' as \'societal well-being.\'"},{"id":57,"category":"Paragraph Completion","question":"Deforestation contributes significantly to greenhouse gas emissions. ---- Efforts to reforest degraded lands are critical to mitigating climate change.","options":["It also destroys habitats for countless species.","Urban development is a major driver of forest loss.","Many countries rely on timber exports.","Renewable energy sources are gaining popularity.","Wildfires are becoming more frequent."],"answer":"It also destroys habitats for countless species.","explanationPrompt":"Explain that this option logically connects deforestation\u2019s environmental impact with the need for reforestation to address climate change."},{"id":58,"category":"Sentence Rephrasing","question":"Although recycling reduces waste, it requires significant resources to implement effectively.","options":["Recycling cuts down on waste, but it demands considerable resources for effective implementation.","Despite reducing waste, recycling uses minimal resources to function properly.","Recycling decreases waste, yet it is easy to implement with few resources.","While recycling helps manage waste, it requires few resources to be effective.","Recycling reduces waste, but its implementation is cost-free."],"answer":"Recycling cuts down on waste, but it demands considerable resources for effective implementation.","explanationPrompt":"Explain that this option accurately rephrases the original, using \'cuts down on\' for \'reduces\' and maintaining the contrast with \'but.\'"},{"id":59,"category":"Irrelevant Sentence","question":"Which sentence is irrelevant in the following passage? (I) Online education has expanded access to learning opportunities. (II) It allows students to study at their own pace. (III) Many universities now offer online degrees. (IV) The automotive industry is adopting electric vehicles. (V) Flexible schedules benefit working professionals.","options":["I","II","III","IV","V"],"answer":"IV","explanationPrompt":"Explain that sentence IV about the automotive industry is unrelated to the passage\u2019s focus on online education."},{"id":60,"category":"Phrasal Verbs","question":"The team decided to ---- the old system and implement a more efficient one.","options":["do away with","look into","take up","put up with","carry out"],"answer":"do away with","explanationPrompt":"Explain that \'do away with\' means to eliminate or remove, fitting the context of replacing an old system."},{"id":61,"category":"Vocabulary","question":"The politician\u2019s decision to ignore scientific evidence was considered ---- by the analysts.","options":["prudent","irrational","strategic","beneficial","neutral"],"answer":"irrational","explanationPrompt":"Explain that \'irrational\' means lacking reason, fitting the context of ignoring scientific evidence."},{"id":62,"category":"Vocabulary","question":"The organization launched a campaign to ---- awareness about mental health issues.","options":["suppress","raise","diminish","restrict","ignore"],"answer":"raise","explanationPrompt":"Explain that \'raise\' means to increase or promote, suitable for a campaign to increase awareness."},{"id":63,"category":"Vocabulary","question":"The discovery of new species in the Pacific Ocean has ---- interest in marine conservation.","options":["diminished","sparked","suppressed","limited","delayed"],"answer":"sparked","explanationPrompt":"Explain that \'sparked\' means to ignite or stimulate, fitting the context of generating interest in conservation."},{"id":64,"category":"Vocabulary","question":"The new policy is expected to ---- economic growth in the region over the next decade.","options":["hinder","stimulate","restrict","neglect","complicate"],"answer":"stimulate","explanationPrompt":"Explain that \'stimulate\' means to encourage or boost, suitable for promoting economic growth."},{"id":65,"category":"Grammar","question":"The research team ---- that the new drug ---- effective in treating the disease.","options":["has concluded / is","concluded / was","concludes / will be","had concluded / has been","is concluding / would be"],"answer":"has concluded / is","explanationPrompt":"Explain that \'has concluded\' (present perfect) indicates a recent finding, and \'is\' (simple present) states a current fact about the drug."},{"id":66,"category":"Grammar","question":"If the policy ---- earlier, it ---- significant environmental benefits by now.","options":["was implemented / will have","had been implemented / would have yielded","has been implemented / yields","is implemented / had yielded","would be implemented / could yield"],"answer":"had been implemented / would have yielded","explanationPrompt":"Explain that \'had been implemented\' (past perfect) refers to a hypothetical past action, and \'would have yielded\' describes the hypothetical result."},{"id":67,"category":"Grammar","question":"The museum, ---- last year, ---- thousands of visitors annually.","options":["opened / attracts","opening / attracted","to open / will attract","being opened / has attracted","open / is attracting"],"answer":"opened / attracts","explanationPrompt":"Explain that \'opened\' (past participle) describes the museum\u2019s status, and \'attracts\' (simple present) indicates a general fact."},{"id":68,"category":"Grammar","question":"I wish I ---- more about the topic before the presentation; I ---- more confident.","options":["knew / will feel","had known / would have felt","know / feel","have known / felt","was knowing / could feel"],"answer":"had known / would have felt","explanationPrompt":"Explain that \'had known\' (past perfect) expresses regret for a past situation, and \'would have felt\' describes the hypothetical outcome."},{"id":69,"category":"Prepositions","question":"The success of the project is contingent ---- securing funding ---- international donors.","options":["on / from","for / with","by / among","at / between","with / to"],"answer":"on / from","explanationPrompt":"Explain that \'contingent on\' indicates dependency, and \'from\' specifies the source of funding."},{"id":70,"category":"Prepositions","question":"The report focuses ---- the impact ---- urbanization on rural communities.","options":["on / of","for / with","by / among","in / between","to / from"],"answer":"on / of","explanationPrompt":"Explain that \'focuses on\' indicates the subject of the report, and \'of\' connects the impact to urbanization."},{"id":71,"category":"Conjunctions","question":"---- clean water is essential for survival, many regions still lack access to it.","options":["Since","Although","Unless","Because","Once"],"answer":"Although","explanationPrompt":"Explain that \'Although\' introduces a contrast between the importance of clean water and the lack of access in many regions."},{"id":72,"category":"Conjunctions","question":"---- technology continues to advance, privacy concerns will likely intensify.","options":["If","Unless","As","While","Provided that"],"answer":"As","explanationPrompt":"Explain that \'As\' indicates a cause-and-effect relationship, fitting the context of technological advancement leading to privacy concerns."},{"id":73,"category":"Reading Comprehension","question":"If renewable energy sources are not adopted widely, ----.","options":["fossil fuel consumption will decrease","global temperatures will continue to rise","economic growth will accelerate","urban areas will become more sustainable","public awareness will improve"],"answer":"global temperatures will continue to rise","explanationPrompt":"Explain that this option logically completes the conditional sentence, as lack of renewable energy adoption leads to continued reliance on fossil fuels, causing temperature rises."},{"id":74,"category":"Reading Comprehension","question":"While urbanization drives economic development, ----.","options":["it can strain infrastructure and resources","rural areas benefit from increased investment","public transportation systems improve","environmental conservation becomes easier","population growth slows down"],"answer":"it can strain infrastructure and resources","explanationPrompt":"Explain that \'While\' introduces a contrast between urbanization\u2019s economic benefits and its strain on infrastructure."},{"id":75,"category":"Translation","question":"The preservation of historical sites ensures that future generations can learn from the past.","options":["Tarihi sitlerin korunmas\u0131, gelecek nesillerin ge\xe7mi\u015ften ders almas\u0131n\u0131 sa\u011flar.","Tarihi alanlar\u0131n korunmas\u0131, gelecek nesillerin ge\xe7mi\u015fi \xf6\u011frenmesini garanti eder.","Tarihi yerlerin korunmas\u0131, gelecek nesillerin ge\xe7mi\u015ften bilgi edinmesini sa\u011flar.","Tarihi sitlerin korunmas\u0131, gelecek nesillerin ge\xe7mi\u015fi anlamas\u0131n\u0131 m\xfcmk\xfcn k\u0131lar.","Tarihi b\xf6lgelerin korunmas\u0131, gelecek nesillerin ge\xe7mi\u015ften \xf6\u011frenmesini temin eder."],"answer":"Tarihi sitlerin korunmas\u0131, gelecek nesillerin ge\xe7mi\u015ften ders almas\u0131n\u0131 sa\u011flar.","explanationPrompt":"Explain that this option accurately translates \'ensures\' as \'sa\u011flar\' and \'learn from the past\' as \'ge\xe7mi\u015ften ders almas\u0131n\u0131.\'"},{"id":76,"category":"Translation","question":"Yenilenebilir enerji kaynaklar\u0131n\u0131n kullan\u0131m\u0131, karbon emisyonlar\u0131n\u0131 azalt\u0131r ve \xe7evreyi korur.","options":["The use of renewable energy sources reduces carbon emissions and protects the environment.","Renewable energy use lowers emissions and preserves the environment.","Using renewable energy sources decreases carbon output and safeguards nature.","Renewable energy adoption reduces emissions and supports environmental protection.","The utilization of renewable energy cuts carbon emissions and conserves the environment."],"answer":"The use of renewable energy sources reduces carbon emissions and protects the environment.","explanationPrompt":"Explain that this option precisely translates \'karbon emisyonlar\u0131n\u0131 azalt\u0131r\' as \'reduces carbon emissions\' and \'\xe7evreyi korur\' as \'protects the environment.\'"},{"id":77,"category":"Paragraph Completion","question":"Advances in medical technology have improved patient outcomes significantly. ---- However, access to these technologies remains unequal across regions.","options":["They enable early diagnosis and effective treatments.","Hospitals are adopting sustainable energy practices.","Many doctors prefer traditional treatment methods.","Pharmaceutical companies face regulatory challenges.","Healthcare costs have remained stable."],"answer":"They enable early diagnosis and effective treatments.","explanationPrompt":"Explain that this option logically connects medical technology\u2019s benefits with the issue of unequal access."},{"id":78,"category":"Sentence Rephrasing","question":"Although public transportation reduces traffic congestion, it requires significant government investment.","options":["Public transportation alleviates traffic congestion, but it demands substantial government funding.","Despite reducing traffic, public transportation needs minimal investment.","Public transportation eases congestion, yet it requires no government support.","While public transportation reduces traffic, it is cost-free to implement.","Public transportation decreases congestion, but its benefits are limited."],"answer":"Public transportation alleviates traffic congestion, but it demands substantial government funding.","explanationPrompt":"Explain that this option accurately rephrases the original, using \'alleviates\' for \'reduces\' and maintaining the contrast with \'but.\'"},{"id":79,"category":"Irrelevant Sentence","question":"Which sentence is irrelevant in the following passage? (I) Climate change is affecting global agriculture. (II) Rising temperatures reduce crop yields. (III) Farmers are adopting drought-resistant crops. (IV) Electric vehicles are reducing urban emissions. (V) Irrigation systems are being upgraded to conserve water.","options":["I","II","III","IV","V"],"answer":"IV","explanationPrompt":"Explain that sentence IV about electric vehicles is unrelated to the passage\u2019s focus on climate change and agriculture."},{"id":80,"category":"Phrasal Verbs","question":"The manager decided to ---- the meeting due to unforeseen circumstances.","options":["call off","bring up","take over","put up with","carry out"],"answer":"call off","explanationPrompt":"Explain that \'call off\' means to cancel, fitting the context of postponing a meeting."},{"id":81,"category":"Vocabulary","question":"The scientist\u2019s findings were ---- by peers due to their groundbreaking nature.","options":["dismissed","celebrated","ignored","criticized","overlooked"],"answer":"celebrated","explanationPrompt":"Explain that \'celebrated\' means widely praised, fitting the context of groundbreaking scientific findings."},{"id":82,"category":"Vocabulary","question":"The government\u2019s failure to act promptly was seen as a ---- of responsibility.","options":["fulfillment","neglect","promotion","enhancement","justification"],"answer":"neglect","explanationPrompt":"Explain that \'neglect\' means failure to take proper action, suitable for describing the government\u2019s inaction."},{"id":83,"category":"Vocabulary","question":"The new initiative aims to ---- collaboration between universities and industries.","options":["discourage","foster","restrict","complicate","eliminate"],"answer":"foster","explanationPrompt":"Explain that \'foster\' means to encourage or promote, fitting the context of promoting collaboration."},{"id":84,"category":"Vocabulary","question":"The economic recovery was ---- by global supply chain disruptions.","options":["accelerated","hampered","supported","simplified","enhanced"],"answer":"hampered","explanationPrompt":"Explain that \'hampered\' means hindered or obstructed, suitable for describing disruptions to recovery."},{"id":85,"category":"Grammar","question":"The policy, ---- last year, ---- significant controversy among stakeholders.","options":["introduced / sparked","introducing / sparks","to introduce / has sparked","being introduced / will spark","introduce / had sparked"],"answer":"introduced / sparked","explanationPrompt":"Explain that \'introduced\' (past participle) describes the policy\u2019s status, and \'sparked\' (simple past) indicates a past outcome."},{"id":86,"category":"Grammar","question":"If the team ---- more time, they ---- a more comprehensive report.","options":["has / will produce","had / would produce","have / produce","had had / would have produced","is having / could produce"],"answer":"had had / would have produced","explanationPrompt":"Explain that \'had had\' (past perfect) refers to a hypothetical past situation, and \'would have produced\' describes the hypothetical result."},{"id":87,"category":"Grammar","question":"The technology, ---- widely used, ---- the way businesses operate.","options":["being / transforms","to be / transformed","which is / has transformed","that was / is transforming","used / will transform"],"answer":"which is / has transformed","explanationPrompt":"Explain that \'which is\' (relative clause) describes the technology, and \'has transformed\' (present perfect) indicates a completed action with ongoing impact."},{"id":88,"category":"Grammar","question":"I regret ---- the course earlier; it ---- my career significantly.","options":["not taking / will advance","not to take / would advance","not having taken / would have advanced","to not take / has advanced","not taken / could advance"],"answer":"not having taken / would have advanced","explanationPrompt":"Explain that \'not having taken\' (gerund perfect) expresses regret for a past action, and \'would have advanced\' describes the hypothetical outcome."},{"id":89,"category":"Prepositions","question":"The research was conducted ---- collaboration ---- international scientists.","options":["in / with","for / among","by / of","at / between","with / from"],"answer":"in / with","explanationPrompt":"Explain that \'in collaboration\' indicates joint work, and \'with\' specifies the group involved."},{"id":90,"category":"Prepositions","question":"The decision was based ---- evidence ---- recent studies.","options":["on / from","for / with","by / among","in / between","to / of"],"answer":"on / from","explanationPrompt":"Explain that \'based on\' indicates the foundation of the decision, and \'from\' specifies the source of evidence."},{"id":91,"category":"Conjunctions","question":"---- poverty remains a global challenge, many organizations are working to alleviate it.","options":["Since","Although","Unless","Because","Once"],"answer":"Although","explanationPrompt":"Explain that \'Although\' introduces a contrast between the persistence of poverty and efforts to address it."},{"id":92,"category":"Conjunctions","question":"---- renewable energy becomes more affordable, it will replace fossil fuels in many regions.","options":["If","Unless","As","While","Provided that"],"answer":"As","explanationPrompt":"Explain that \'As\' indicates a cause-and-effect relationship, fitting the context of affordability leading to replacement of fossil fuels."},{"id":93,"category":"Reading Comprehension","question":"If public health measures are not enforced, ----.","options":["disease outbreaks may become more frequent","healthcare systems will become more efficient","vaccination rates will increase significantly","medical research will advance rapidly","hospital funding will improve"],"answer":"disease outbreaks may become more frequent","explanationPrompt":"Explain that this option logically completes the conditional sentence, as lack of public health measures leads to increased disease outbreaks."},{"id":94,"category":"Reading Comprehension","question":"While global trade fosters economic growth, ----.","options":["it can exacerbate income inequality","it reduces production costs universally","it eliminates cultural differences","it stabilizes political relations","it simplifies regulatory frameworks"],"answer":"it can exacerbate income inequality","explanationPrompt":"Explain that \'While\' introduces a contrast between trade\u2019s economic benefits and its potential to worsen income inequality."},{"id":95,"category":"Translation","question":"The rise in sea levels due to climate change endangers coastal communities worldwide.","options":["\u0130klim de\u011fi\u015fikli\u011fi nedeniyle deniz seviyelerindeki y\xfckselme, d\xfcnya \xe7ap\u0131ndaki k\u0131y\u0131 topluluklar\u0131n\u0131 tehlikeye at\u0131yor.","Deniz seviyelerindeki art\u0131\u015f, iklim de\u011fi\u015fikli\u011fi y\xfcz\xfcnden k\xfcresel k\u0131y\u0131 topluluklar\u0131n\u0131 tehdit ediyor.","\u0130klim de\u011fi\u015fikli\u011fi sonucu deniz seviyesindeki y\xfckselme, d\xfcnya k\u0131y\u0131 topluluklar\u0131n\u0131 etkiliyor.","Deniz seviyesindeki art\u0131\u015f, iklim de\u011fi\u015fikli\u011fi nedeniyle k\u0131y\u0131 topluluklar\u0131n\u0131 d\xfcnya genelinde tehlikeye sokuyor.","\u0130klim de\u011fi\u015fikli\u011finden kaynaklanan deniz seviyesi art\u0131\u015f\u0131, k\xfcresel k\u0131y\u0131 topluluklar\u0131n\u0131 riske at\u0131yor."],"answer":"\u0130klim de\u011fi\u015fikli\u011fi nedeniyle deniz seviyelerindeki y\xfckselme, d\xfcnya \xe7ap\u0131ndaki k\u0131y\u0131 topluluklar\u0131n\u0131 tehlikeye at\u0131yor.","explanationPrompt":"Explain that this option accurately translates \'endangers\' as \'tehlikeye at\u0131yor\' and maintains the causal relationship with \'nedeniyle.\'"},{"id":96,"category":"Translation","question":"E\u011fitimde dijital teknolojilerin kullan\u0131m\u0131, \xf6\u011frenme s\xfcrecini daha eri\u015filebilir ve etkili hale getiriyor.","options":["The use of digital technologies in education makes the learning process more accessible and effective.","Digital technology in education enhances learning accessibility and efficiency.","Using digital tools in education improves the accessibility and effectiveness of learning.","Digital technologies in education make learning more available and productive.","The application of digital technology in education supports accessible and efficient learning."],"answer":"The use of digital technologies in education makes the learning process more accessible and effective.","explanationPrompt":"Explain that this option precisely translates \'eri\u015filebilir ve etkili\' as \'accessible and effective\' and maintains the original structure."},{"id":97,"category":"Paragraph Completion","question":"Electric vehicles are becoming more popular due to their environmental benefits. ---- This trend is encouraging governments to invest in charging infrastructure.","options":["They reduce greenhouse gas emissions significantly.","Fuel prices are increasing globally.","Public transportation remains more affordable.","Battery production is becoming less expensive.","Urban planning focuses on reducing traffic."],"answer":"They reduce greenhouse gas emissions significantly.","explanationPrompt":"Explain that this option logically connects the popularity of electric vehicles with their environmental benefits, leading to government investment."},{"id":98,"category":"Sentence Rephrasing","question":"Although deforestation contributes to climate change, reforestation efforts can mitigate its effects.","options":["Deforestation fuels climate change, but reforestation can reduce its impact.","While deforestation worsens climate change, reforestation has no effect.","Deforestation causes climate change, yet reforestation increases emissions.","Reforestation mitigates climate change, despite deforestation\u2019s contributions.","Deforestation and reforestation both contribute to climate change."],"answer":"Deforestation fuels climate change, but reforestation can reduce its impact.","explanationPrompt":"Explain that this option accurately rephrases the original, using \'fuels\' for \'contributes\' and maintaining the contrast with \'but.\'"},{"id":99,"category":"Irrelevant Sentence","question":"Which sentence is irrelevant in the following passage? (I) Telecommuting has become more common due to technological advancements. (II) It allows employees to work from home effectively. (III) Many companies offer flexible work schedules. (IV) The tourism industry is recovering slowly. (V) Remote work reduces commuting time and costs.","options":["I","II","III","IV","V"],"answer":"IV","explanationPrompt":"Explain that sentence IV about the tourism industry is unrelated to the passage\u2019s focus on telecommuting and its benefits."},{"id":100,"category":"Phrasal Verbs","question":"The organization decided to ---- the outdated software to improve system efficiency.","options":["phase out","bring up","take over","put off","carry on"],"answer":"phase out","explanationPrompt":"Explain that \'phase out\' means to gradually eliminate, fitting the context of replacing outdated software."}]'),Pv=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[s,a]=(0,r.useState)("loading"),[o,l]=(0,r.useState)("categories"),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(0),[f,p]=(0,r.useState)(null),[m,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)(0),[b,w]=(0,r.useState)({}),[k,x]=(0,r.useState)({});(0,r.useEffect)(()=>{try{t(Av);const e=Av.reduce((e,t)=>{const n=t.category;return e[n]||(e[n]=[]),e[n].push(t),e},{}),n=Object.keys(e).map((t,n)=>({id:t.replace(/\s+/g,"-").toLowerCase(),name:t,questions:e[t],questionCount:e[t].length,difficulty:["Kolay","Orta","Zor"][n%3],color:["bg-green-500","bg-blue-500","bg-purple-500","bg-orange-500"][n%4],icon:[Sf,Iv,Nv,Cv][n%4]}));i(n),a("ready")}catch(e){console.error("Veri i\u015fleme hatas\u0131:",e),a("error")}},[]);const S=e=>{u(e),h(0),p(null),g(!1),v(0),l("quiz")},E=()=>{l("categories"),u(null)},_=e=>{if(!m)return"bg-white dark:bg-slate-800 hover:bg-violet-100 dark:hover:bg-slate-700 border-slate-300 dark:border-slate-600 hover:border-violet-400";return e===c.questions[d].answer?"bg-green-100 dark:bg-green-900/50 border-green-500 text-green-800 dark:text-white":e===f?"bg-red-100 dark:bg-red-900/50 border-red-500 text-red-800 dark:text-white":"bg-slate-100 dark:bg-slate-800 border-slate-300 dark:border-slate-600 opacity-60 cursor-not-allowed"};if("loading"===s)return(0,Ff.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 to-blue-50 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center text-center",children:(0,Ff.jsxs)("div",{children:[(0,Ff.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-600 mx-auto mb-4"}),(0,Ff.jsx)("p",{className:"text-slate-600 dark:text-slate-300",children:"Quiz y\xfckleniyor..."})]})});if("error"===s)return(0,Ff.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center text-center p-4",children:(0,Ff.jsxs)("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-lg",children:[(0,Ff.jsx)(Cv,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,Ff.jsx)("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Bir Hata Olu\u015ftu"}),(0,Ff.jsx)("p",{className:"text-slate-600 dark:text-slate-300",children:"Quiz verileri y\xfcklenemedi. L\xfctfen `src` veya `public` klas\xf6r\xfcnde `quizzes.json` dosyas\u0131n\u0131n oldu\u011fundan emin olun."})]})});if("categories"===o)return(0,Ff.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 to-blue-50 dark:from-slate-900 dark:to-slate-800 p-4 sm:p-6",children:(0,Ff.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Ff.jsxs)("div",{className:"text-center mb-8",children:[(0,Ff.jsx)("h1",{className:"text-4xl font-bold text-slate-800 dark:text-white mb-2",children:"Quiz Kategorileri"}),(0,Ff.jsx)("p",{className:"text-slate-600 dark:text-slate-300",children:"\xd6\u011frenmek istedi\u011finiz konuyu se\xe7in"})]}),(0,Ff.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(e=>{const t=e.icon,n=b[e.id],r=e.questionCount,i=k[e.id]||0;return(0,Ff.jsxs)("div",{onClick:()=>S(e),className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer border-2 border-transparent hover:border-violet-300 dark:hover:border-violet-600 group",children:[(0,Ff.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ff.jsx)("div",{className:`${e.color} p-3 rounded-lg group-hover:scale-110 transition-transform`,children:(0,Ff.jsx)(t,{className:"w-6 h-6 text-white"})}),n&&(0,Ff.jsx)(wv,{className:"w-6 h-6 text-green-500"})]}),(0,Ff.jsx)("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:e.name}),(0,Ff.jsxs)("p",{className:"text-slate-600 dark:text-slate-300 text-sm mb-4",children:[e.questionCount," soru \u2022 ",e.difficulty]}),n&&(0,Ff.jsxs)("div",{className:"mb-4",children:[(0,Ff.jsxs)("div",{className:"flex justify-between text-sm text-slate-600 dark:text-slate-300 mb-1",children:[(0,Ff.jsx)("span",{children:"En y\xfcksek skor"}),(0,Ff.jsxs)("span",{children:[i,"/",r]})]}),(0,Ff.jsx)("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:(0,Ff.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:i/r*100+"%"}})})]}),(0,Ff.jsx)("button",{className:"w-full bg-slate-800 dark:bg-violet-600 text-white py-2 px-4 rounded-lg hover:bg-slate-900 dark:hover:bg-violet-700 transition-colors",children:n?"Tekrar \xc7\xf6z":"Ba\u015fla"})]},e.id)})})]})});if("results"===o){const e=c.questions.length,t=e>0?Math.round(y/e*100):0;return(0,Ff.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 to-blue-50 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4",children:(0,Ff.jsxs)("div",{className:"text-center p-8 max-w-md mx-auto bg-white dark:bg-slate-800 rounded-xl shadow-lg",children:[(0,Ff.jsx)("div",{className:"mb-6",children:t>=80?(0,Ff.jsx)(Iv,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}):t>=50?(0,Ff.jsx)(Nv,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}):(0,Ff.jsx)(Sf,{className:"w-16 h-16 text-slate-500 mx-auto mb-4"})}),(0,Ff.jsx)("h2",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-2",children:c.name}),(0,Ff.jsx)("p",{className:"text-lg text-slate-600 dark:text-slate-300 mb-4",children:"Tamamland\u0131!"}),(0,Ff.jsxs)("div",{className:"mb-6",children:[(0,Ff.jsxs)("p",{className:"text-6xl font-bold my-4 text-violet-600 dark:text-violet-400",children:[y," / ",e]}),(0,Ff.jsxs)("p",{className:"text-lg text-slate-600 dark:text-slate-300",children:["%",t," ba\u015far\u0131"]})]}),(0,Ff.jsxs)("div",{className:"space-y-3",children:[(0,Ff.jsx)("button",{onClick:()=>S(c),className:"w-full bg-violet-600 hover:bg-violet-700 text-white font-bold py-3 px-6 rounded-lg transition-all",children:"Tekrar \xc7\xf6z"}),(0,Ff.jsx)("button",{onClick:E,className:"w-full bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-800 dark:text-white font-bold py-3 px-6 rounded-lg transition-all",children:"Kategorilere D\xf6n"})]})]})})}const T=c.questions[d],I=(d+1)/c.questions.length*100;return(0,Ff.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 to-blue-50 dark:from-slate-900 dark:to-slate-800",children:(0,Ff.jsxs)("div",{className:"p-4 sm:p-6 md:p-8 max-w-3xl mx-auto",children:[(0,Ff.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ff.jsxs)("button",{onClick:E,className:"flex items-center text-slate-600 dark:text-slate-300 hover:text-slate-800 dark:hover:text-white transition-colors",children:[(0,Ff.jsx)(yv,{className:"w-5 h-5 mr-2"}),"Kategoriler"]}),(0,Ff.jsx)("h1",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:c.name})]}),(0,Ff.jsxs)("div",{className:"mb-6",children:[(0,Ff.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Ff.jsxs)("p",{className:"text-sm font-semibold text-violet-700 dark:text-violet-300",children:["Soru ",d+1," / ",c.questions.length]}),(0,Ff.jsxs)("p",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400",children:["Skor: ",y]})]}),(0,Ff.jsx)("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:(0,Ff.jsx)("div",{className:"bg-violet-600 h-3 rounded-full transition-all duration-500",style:{width:`${I}%`}})})]}),(0,Ff.jsx)("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 mb-6",children:(0,Ff.jsx)("h2",{className:"text-xl md:text-2xl font-medium text-slate-800 dark:text-white leading-relaxed",children:T.question})}),(0,Ff.jsx)("div",{className:"space-y-3 mb-6",children:T.options.map((e,t)=>(0,Ff.jsxs)("button",{onClick:()=>(e=>{if(m)return;p(e),g(!0),e===c.questions[d].answer&&v(e=>e+1)})(e),disabled:m,className:`w-full flex items-center justify-between text-left p-4 rounded-lg border-2 transition-all duration-300 ${_(e)}`,children:[(0,Ff.jsx)("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:e}),m&&e===T.answer&&(0,Ff.jsx)(wv,{className:"text-green-600 dark:text-green-400 flex-shrink-0"}),m&&e===f&&e!==T.answer&&(0,Ff.jsx)(Tf,{className:"text-red-600 dark:text-red-400 flex-shrink-0"})]},t))}),m&&(0,Ff.jsx)("div",{className:"text-center mt-6 animate-fade-in",children:(0,Ff.jsx)("button",{onClick:()=>{if(d===c.questions.length-1){const e=c.id,t=k[e]||0,n=c.questions[d],r=f===n.answer?y+1:y;r>t&&x(t=>({...t,[e]:r})),w(t=>({...t,[e]:!0})),l("results")}else g(!1),p(null),h(e=>e+1)},className:"bg-slate-800 hover:bg-slate-900 dark:bg-violet-600 dark:hover:bg-violet-700 text-white font-bold py-3 px-8 rounded-lg transition-all shadow-lg hover:shadow-xl",children:d===c.questions.length-1?"Testi Bitir":"S\u0131radaki Soru"})})]})})},Dv=gf("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Rv=gf("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),jv=gf("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Ov=gf("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Lv=gf("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Mv=gf("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),zv=e=>{let{userName:t,userEmail:n,userAge:i,userGender:s="Belirtilmemi\u015f",userProfilePicture:a,onSave:o,onOpenProfilePicModal:l}=e;console.log("ProfilePage render - Props:",{userName:t,userEmail:n,userAge:i,userGender:s,userProfilePicture:a,onSave:!!o,onOpenProfilePicModal:!!l}),console.log("\ud83d\uddbc\ufe0f ProfilePage - userProfilePicture de\u011feri:",a);const[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(t),[f,p]=(0,r.useState)(n),[m,g]=(0,r.useState)(i),[y,v]=(0,r.useState)(s),b=e=>{if(!e)return{firstName:"",surname:""};const t=e.trim().split(" ");return{firstName:t[0]||"",surname:t.slice(1).join(" ")||""}},[w,k]=(0,r.useState)(""),[x,S]=(0,r.useState)(""),[E,_]=(0,r.useState)(n),[T,I]=(0,r.useState)(i),[N,C]=(0,r.useState)(s);return r.useEffect(()=>{if(console.log("ProfilePage useEffect - Props de\u011fi\u015fti:",{userName:t,userEmail:n,userAge:i,userGender:s,userProfilePicture:a}),h(t),p(n),g(i),v(s),!c){const{firstName:e,surname:r}=b(t);k(e),S(r),_(n),I(i),C(s)}},[t,n,i,s,a,c]),(0,Ff.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-violet-50 dark:bg-slate-900 text-slate-800 dark:text-slate-100 p-4",children:(0,Ff.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-8 w-full max-w-md text-center",children:[(0,Ff.jsxs)("div",{className:"mb-6 relative",children:[(0,Ff.jsx)("img",{src:a,alt:"Profil Resmi",className:"w-32 h-32 rounded-full object-cover mx-auto border-4 border-violet-600 dark:border-violet-400",onError:e=>{console.error("Profil resmi y\xfcklenemedi:",a),e.target.onerror=null,e.target.src="https://raw.githubusercontent.com/KadirEfeYazili/YZTA-Bootcamp/main/public/images/profile_pics/default_profile.png"},onLoad:()=>{console.log("Profil resmi ba\u015far\u0131yla y\xfcklendi:",a)}}),(0,Ff.jsx)("button",{onClick:l,className:"absolute bottom-0 right-1/2 translate-x-1/2 -mb-2 bg-violet-500 hover:bg-violet-600 text-white p-2 rounded-full shadow-md transition-all duration-200",title:"Profil Resmini De\u011fi\u015ftir",children:(0,Ff.jsx)(Dv,{size:20})})]}),(0,Ff.jsx)("h2",{className:"text-2xl font-semibold mb-1",children:"Ho\u015f Geldiniz,"}),c?(0,Ff.jsxs)("div",{className:"mb-8",children:[(0,Ff.jsx)("input",{type:"text",value:w,onChange:e=>{console.log("\u0130sim de\u011fi\u015ftirildi:",e.target.value),k(e.target.value)},className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2 bg-transparent border-b-2 border-violet-600 text-center focus:outline-none focus:border-violet-700 w-full",placeholder:"\u0130sim"}),(0,Ff.jsx)("input",{type:"text",value:x,onChange:e=>{console.log("Soyisim de\u011fi\u015ftirildi:",e.target.value),S(e.target.value)},className:"text-2xl font-bold text-gray-900 dark:text-gray-100 bg-transparent border-b-2 border-violet-600 text-center focus:outline-none focus:border-violet-700 w-full",placeholder:"Soyisim"})]}):(0,Ff.jsx)("h1",{className:"text-4xl font-bold text-gray-900 dark:text-gray-100 mb-8",children:d||"\u0130sim Belirtilmemi\u015f"}),(0,Ff.jsxs)("div",{className:"flex items-center justify-center mb-8 text-lg",children:[(0,Ff.jsx)(Rv,{size:24,className:"mr-3 text-blue-600 dark:text-blue-400"}),(0,Ff.jsx)("span",{className:"font-medium",children:"E-posta:"}),c?(0,Ff.jsx)("input",{type:"email",value:E||"",onChange:e=>{console.log("Email de\u011fi\u015ftirildi:",e.target.value),_(e.target.value)},className:"ml-2 text-gray-700 dark:text-gray-300 bg-transparent border-b border-blue-600 focus:outline-none focus:border-blue-700 flex-1",placeholder:"E-posta adresinizi girin"}):(0,Ff.jsx)("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:f||"Belirtilmemi\u015f"})]}),(0,Ff.jsxs)("div",{className:"flex items-center justify-center mb-8 text-lg",children:[(0,Ff.jsx)(mv,{size:24,className:"mr-3 text-green-600 dark:text-green-400"}),(0,Ff.jsx)("span",{className:"font-medium",children:"Ya\u015f:"}),c?(0,Ff.jsx)("input",{type:"number",value:T||"",onChange:e=>{const t=e.target.value?parseInt(e.target.value):null;console.log("Ya\u015f de\u011fi\u015ftirildi:",e.target.value,"Parsed:",t),I(t)},className:"ml-2 text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 border border-green-600 rounded-md px-2 py-1 w-20 focus:outline-none focus:border-green-700 focus:ring-2 focus:ring-green-200",min:"1",max:"120",placeholder:"Ya\u015f"}):(0,Ff.jsx)("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:m?`${m} ya\u015f\u0131nda`:"Belirtilmemi\u015f"})]}),(0,Ff.jsxs)("div",{className:"flex items-center justify-center mb-8 text-lg",children:[(0,Ff.jsx)(jv,{size:24,className:"mr-3 text-purple-600 dark:text-purple-400"}),(0,Ff.jsx)("span",{className:"font-medium",children:"Cinsiyet:"}),c?(0,Ff.jsxs)("select",{value:N||"Belirtilmemi\u015f",onChange:e=>{console.log("Cinsiyet de\u011fi\u015ftirildi:",e.target.value),C(e.target.value)},className:"ml-2 text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 border border-purple-600 rounded-md px-2 py-1 focus:outline-none focus:border-purple-700 focus:ring-2 focus:ring-purple-200",children:[(0,Ff.jsx)("option",{value:"Belirtilmemi\u015f",children:"Belirtilmemi\u015f"}),(0,Ff.jsx)("option",{value:"Erkek",children:"Erkek"}),(0,Ff.jsx)("option",{value:"Kad\u0131n",children:"Kad\u0131n"}),(0,Ff.jsx)("option",{value:"Belirtmek istemiyorum",children:"Belirtmek istemiyorum"})]}):(0,Ff.jsx)("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:y||"Belirtilmemi\u015f"})]}),c?(0,Ff.jsxs)("div",{className:"flex gap-3",children:[(0,Ff.jsx)("button",{onClick:()=>{console.log("Save butonu t\u0131kland\u0131");const e=`${w.trim()} ${x.trim()}`.trim();if(console.log("Kaydedilecek de\u011ferler:",{name:w.trim(),surname:x.trim(),fullName:e,email:E,age:T,gender:N}),!w.trim())return console.error("\u0130sim bo\u015f olamaz"),void alert("\u0130sim alan\u0131 bo\u015f olamaz.");if(T&&(isNaN(T)||T<=0||T>120))return console.error("Ge\xe7ersiz ya\u015f de\u011feri:",T),void alert("L\xfctfen ge\xe7erli bir ya\u015f girin (1-120 aras\u0131).");if(E&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E))return console.error("Ge\xe7ersiz email format\u0131:",E),void alert("L\xfctfen ge\xe7erli bir e-posta adresi girin.");if(h(e),p(E),g(T),v(N),u(!1),console.log("Local state g\xfcncellendi, onSave \xe7a\u011fr\u0131l\u0131yor..."),o){console.log("onSave fonksiyonu mevcut, \xe7a\u011fr\u0131l\u0131yor...");try{o({name:w.trim(),surname:x.trim(),email:E,age:T?parseInt(T):null,gender:N}),console.log("onSave ba\u015far\u0131yla \xe7a\u011fr\u0131ld\u0131")}catch(t){console.error("onSave \xe7a\u011fr\u0131l\u0131rken hata:",t),alert("Profil g\xfcncellenirken hata olu\u015ftu: "+t.message)}}else console.warn("onSave fonksiyonu mevcut de\u011fil! Profil kaydedilemedi."),alert("Profil kaydetme fonksiyonu bulunamad\u0131. L\xfctfen sayfay\u0131 yenileyin.")},className:"flex-1 py-3 px-6 bg-green-600 hover:bg-green-700 text-white rounded-full shadow",children:(0,Ff.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Ff.jsx)(Ov,{size:20,className:"mr-2"})," Kaydet"]})}),(0,Ff.jsx)("button",{onClick:()=>{console.log("Cancel butonu t\u0131kland\u0131"),u(!1);const{firstName:e,surname:t}=b(d);k(e),S(t),_(f),I(m),C(y),console.log("Edit modu iptal edildi, \xf6nceki de\u011ferler geri y\xfcklendi")},className:"flex-1 py-3 px-6 bg-gray-600 hover:bg-gray-700 text-white rounded-full shadow",children:(0,Ff.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Ff.jsx)(Lv,{size:20,className:"mr-2"})," \u0130ptal"]})})]}):(0,Ff.jsx)("button",{onClick:()=>{console.log("Edit butonu t\u0131kland\u0131"),u(!0);const{firstName:e,surname:t}=b(d);k(e),S(t),_(f),I(m),C(y),console.log("Edit modu a\xe7\u0131ld\u0131 - Parsed name:",{firstName:e,surname:t})},className:"w-full py-3 px-6 bg-violet-600 hover:bg-violet-700 text-white rounded-full shadow",children:(0,Ff.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Ff.jsx)(Mv,{size:20,className:"mr-2"})," Profili D\xfczenle"]})})]})})},Fv=gf("CalendarPlus",[["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["line",{x1:"19",x2:"19",y1:"16",y2:"22",key:"1ttwzi"}],["line",{x1:"16",x2:"22",y1:"19",y2:"19",key:"1g9955"}]]),Uv=gf("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Vv=e=>{let{userId:t,db:n,firebaseAppId:i}=e;const s=()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`},[a,o]=(0,r.useState)([]),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(()=>s()),[h,f]=(0,r.useState)("09:00"),[p,m]=(0,r.useState)(""),[g,y]=(0,r.useState)(!0),[v,b]=(0,r.useState)(!1),[w,k]=(0,r.useState)(null),x=(0,r.useMemo)(()=>t&&n?Zd(n,`artifacts/${i}/users/${t}/notifications`):null,[t,n,i]),S=async()=>{if(!x)return console.warn("Alarm koleksiyonu referans\u0131 yok, y\xfckleme durduruldu."),void y(!1);y(!0);try{const e=(await nf(x)).docs.map(e=>({id:e.id,...e.data()}));o(e),console.log("Firestore'dan \xe7ekilen alarmlar:",e)}catch(e){console.error("Alarm ayarlar\u0131 y\xfcklenirken hata:",e),m("Alarm ayarlar\u0131 y\xfcklenirken hata olu\u015ftu.")}finally{y(!1)}};(0,r.useEffect)(()=>{S()},[x]);(0,r.useEffect)(()=>{if(g||0===a.length)return;const e=setInterval(()=>{const e=new Date;a.forEach(t=>{const[n,r,i]=t.date.split("-").map(Number),[s,a]=t.time.split(":").map(Number);if(e.getFullYear()===n&&e.getMonth()+1===r&&e.getDate()===i&&e.getHours()===s&&e.getMinutes()===a){const e=`lastNotificationTimestamp_${t.id}`,o=sessionStorage.getItem(e),l=`${n}-${String(r).padStart(2,"0")}-${String(i).padStart(2,"0")} ${String(s).padStart(2,"0")}:${String(a).padStart(2,"0")}`;o!==l&&(k(t),b(!0),sessionStorage.setItem(e,l),console.log(`\ud83c\udf89 Bildirim tetiklendi: Alarm ID - ${t.id}`))}})},6e4);return()=>clearInterval(e)},[a,g]);const E=()=>{b(!1),k(null)};return g?(0,Ff.jsxs)("div",{className:"flex justify-center items-center h-full",children:[(0,Ff.jsx)(yf,{className:"animate-spin text-violet-500",size:32}),(0,Ff.jsx)("p",{className:"ml-2 text-lg",children:"Ayarlar Y\xfckleniyor..."})]}):(0,Ff.jsxs)("div",{className:"p-4 sm:p-6 animate-fade-in max-w-xl mx-auto",children:[(0,Ff.jsxs)("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-white mb-6 flex items-center",children:[(0,Ff.jsx)(Ef,{className:"mr-2 text-violet-600",size:28}),"Bildirim Ayarlar\u0131"]}),(0,Ff.jsxs)("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-lg border border-violet-100 dark:border-slate-700 mb-6",children:[(0,Ff.jsxs)("h3",{className:"text-xl sm:text-2xl font-semibold text-slate-800 dark:text-white mb-4 flex items-center",children:[(0,Ff.jsx)(Ef,{className:"mr-2 text-sky-500",size:22}),"Mevcut Alarmlar\u0131n\u0131z"]}),a.length>0?(0,Ff.jsx)("ul",{className:"space-y-3",children:a.map(e=>(0,Ff.jsxs)("li",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg shadow-sm",children:[(0,Ff.jsx)("div",{className:"text-slate-700 dark:text-slate-200 text-sm",children:(0,Ff.jsxs)("p",{className:"font-medium",children:[e.date," - ",e.time]})}),(0,Ff.jsxs)("div",{className:"flex space-x-2",children:[(0,Ff.jsx)("button",{onClick:()=>(e=>{const t=e?e.date:u,n=e?e.time:h,[r,i,s]=t.split("-").map(Number),[a,o]=n.split(":").map(Number),l=`${r}${String(i).padStart(2,"0")}${String(s).padStart(2,"0")}T${String(a).padStart(2,"0")}${String(o).padStart(2,"0")}00`,c=`${r}${String(i).padStart(2,"0")}${String(s).padStart(2,"0")}T${String(a+1).padStart(2,"0")}${String(o).padStart(2,"0")}00`,d=`prepmate-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,f=(new Date).toISOString().replace(/[-:]|\.\d{3}/g,""),p=new Blob([`BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//PrepMate//EN\nBEGIN:VEVENT\nUID:${d}\nDTSTAMP:${f}\nDTSTART:${l}\nDTEND:${c}\nSUMMARY:PrepMate Hat\u0131rlat\u0131c\u0131s\u0131 (${e?"Mevcut Alarm":"Yeni Alarm"})\nDESCRIPTION:\xd6\u011frenme hedefin i\xe7in hat\u0131rlat\u0131c\u0131.\nEND:VEVENT\nEND:VCALENDAR`],{type:"text/calendar;charset=utf-8"}),g=URL.createObjectURL(p),y=document.createElement("a");y.href=g,y.setAttribute("download",`prepmate_hatirlatici_${e?e.id:"new"}.ics`),document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(g),m("Takvim etkinli\u011fi ba\u015far\u0131yla indirildi!"),console.log("\ud83d\udcc5 ICS dosyas\u0131 olu\u015fturuldu ve indirildi.")})(e),className:"p-1.5 rounded-full bg-blue-100 text-blue-600 hover:bg-blue-200 transition-colors",title:"Takvime Ekle",children:(0,Ff.jsx)(Fv,{size:18})}),(0,Ff.jsx)("button",{onClick:()=>(async e=>{if(!x||!e)return m("Alarm silinemedi: Referans eksik."),void console.warn("Alarm referans\u0131 veya ID'si null.");m("Siliniyor...");try{const r=eh(n,`artifacts/${i}/users/${t}/notifications/${e}`);await af(r),console.log(`Alarm silindi: ${e}`),m("Alarm ba\u015far\u0131yla silindi!"),await S()}catch(r){console.error("Silme hatas\u0131:",r),m("Silme hatas\u0131: "+r.message)}})(e.id),className:"p-1.5 rounded-full bg-red-100 text-red-600 hover:bg-red-200 transition-colors",title:"Alarm\u0131 Sil",children:(0,Ff.jsx)(Uv,{size:18})})]})]},e.id))}):(0,Ff.jsx)("p",{className:"text-slate-600 dark:text-slate-300 text-sm",children:"Ayarlanm\u0131\u015f bir bildiriminiz bulunmamaktad\u0131r."}),(0,Ff.jsxs)("button",{onClick:()=>c(!0),className:"mt-5 w-full py-2 px-4 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-full shadow-md transition duration-300 flex items-center justify-center text-sm",children:[(0,Ff.jsx)(Bf,{size:18,className:"mr-2"}),"Yeni Alarm Olu\u015ftur"]})]}),l&&(0,Ff.jsx)("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:(0,Ff.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl p-6 w-full max-w-sm relative",children:[(0,Ff.jsx)("button",{onClick:()=>c(!1),className:"absolute top-3 right-3 text-slate-400 hover:text-slate-800 dark:hover:text-slate-100",children:(0,Ff.jsx)(Tf,{size:24})}),(0,Ff.jsxs)("h3",{className:"text-xl font-semibold text-slate-800 dark:text-white mb-4 flex items-center",children:[(0,Ff.jsx)(Bf,{className:"mr-2 text-green-500",size:22}),"Yeni Alarm Ayarla"]}),(0,Ff.jsx)("p",{className:"text-slate-600 dark:text-slate-300 text-sm mb-4",children:"L\xfctfen alarm i\xe7in tarih ve saati se\xe7in."}),(0,Ff.jsxs)("div",{className:"mb-3",children:[(0,Ff.jsx)("label",{htmlFor:"new-notification-date-form",className:"block text-slate-700 dark:text-slate-200 text-xs font-medium mb-1",children:"Bildirim Tarihi:"}),(0,Ff.jsx)("input",{type:"date",id:"new-notification-date-form",value:u,onChange:e=>d(e.target.value),className:"w-full p-2 rounded-lg border border-violet-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 focus:outline-none focus:ring-1 focus:ring-violet-500 text-sm"})]}),(0,Ff.jsxs)("div",{className:"mb-4",children:[(0,Ff.jsx)("label",{htmlFor:"new-notification-time-form",className:"block text-slate-700 dark:text-slate-200 text-xs font-medium mb-1",children:"Bildirim Saati:"}),(0,Ff.jsx)("input",{type:"time",id:"new-notification-time-form",value:h,onChange:e=>f(e.target.value),className:"w-full p-2 rounded-lg border border-violet-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 focus:outline-none focus:ring-1 focus:ring-violet-500 text-sm"})]}),(0,Ff.jsxs)("button",{onClick:async()=>{if(!x)return m("Kullan\u0131c\u0131 oturumu a\xe7\u0131k de\u011fil veya veritaban\u0131 haz\u0131r de\u011fil."),void console.warn("alarmsCollectionRef null.");m("Kaydediliyor...");try{await of(x,{date:u,time:h,createdAt:new Date}),console.log("Yeni alarm kaydedildi:",u,h),m("Yeni alarm ba\u015far\u0131yla kaydedildi!"),c(!1),await S(),d(s()),f("09:00")}catch(e){console.error("Kaydetme hatas\u0131:",e),m("Kaydetme hatas\u0131: "+e.message)}},className:"w-full py-2 px-4 bg-violet-600 hover:bg-violet-700 text-white font-semibold rounded-full shadow-md transition duration-300 ease-in-out flex items-center justify-center text-sm",children:[(0,Ff.jsx)(Ov,{size:18,className:"mr-2"}),"Alarm\u0131 Kaydet"]})]})}),p&&(0,Ff.jsx)("div",{className:"mt-4 p-3 text-sm rounded-lg bg-blue-100 text-blue-700 dark:bg-blue-800 dark:text-blue-200 text-center max-w-md mx-auto",children:p}),v&&w&&(0,Ff.jsx)("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:(0,Ff.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-6 w-full max-w-sm text-center relative",children:[(0,Ff.jsx)("button",{onClick:E,className:"absolute top-3 right-3 text-slate-400 hover:text-slate-800 dark:hover:text-slate-100 z-10",children:(0,Ff.jsx)(Tf,{size:24})}),(0,Ff.jsx)(Ef,{size:40,className:"text-violet-600 dark:text-violet-400 mx-auto mb-3"}),(0,Ff.jsx)("h3",{className:"text-xl font-semibold text-slate-800 dark:text-white mb-2",children:"Hat\u0131rlat\u0131c\u0131!"}),(0,Ff.jsxs)("p",{className:"text-slate-600 dark:text-slate-300 text-sm mb-4",children:["**",w.date,"** tarihinde saat **",w.time,"** i\xe7in belirledi\u011finiz alarm tetiklendi!"]}),(0,Ff.jsx)("button",{onClick:E,className:"py-2 px-4 bg-violet-600 hover:bg-violet-700 text-white font-semibold rounded-full transition duration-300 text-sm",children:"Tamam"})]})})]})},Bv=gf("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),qv=gf("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),$v=e=>{let{word:t,meaning:n,example:i,onMarkAsLearned:s}=e;const[a,o]=(0,r.useState)(!1);(0,r.useEffect)(()=>{o(!1)},[t]);return(0,Ff.jsx)("div",{className:"relative w-80 h-48 rounded-xl shadow-lg cursor-pointer",onClick:()=>{o(!a)},children:(0,Ff.jsxs)("div",{className:"relative w-full h-full",children:[(0,Ff.jsxs)("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 rounded-xl p-6 flex flex-col items-center justify-center border border-purple-100 dark:border-slate-700 shadow-inner transition-all duration-500 "+(a?"opacity-0 rotate-y-180 scale-95":"opacity-100 rotate-y-0 scale-100"),style:{transform:a?"rotateY(180deg) scale(0.95)":"rotateY(0deg) scale(1)",backfaceVisibility:"hidden"},children:[(0,Ff.jsx)("h3",{className:"text-3xl font-bold text-violet-700 dark:text-violet-300 mb-4 text-center",children:t}),(0,Ff.jsx)("button",{onClick:e=>{if(e.stopPropagation(),"speechSynthesis"in window){const e=new SpeechSynthesisUtterance(t);e.lang="en-US",e.rate=.8,window.speechSynthesis.speak(e)}},className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 transition-colors duration-200 hover:scale-110 transform",title:"Kelimeyi dinle",children:(0,Ff.jsx)(qv,{size:24})}),(0,Ff.jsx)("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-2 text-center",children:"T\xfcrk\xe7e anlam\u0131n\u0131 g\xf6rmek i\xe7in t\u0131kla"})]}),(0,Ff.jsx)("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-br from-violet-500 to-purple-600 dark:from-violet-700 dark:to-purple-800 rounded-xl p-6 flex flex-col items-center justify-center text-white border border-violet-600 dark:border-violet-800 shadow-inner transition-all duration-500 "+(a?"opacity-100 rotate-y-0 scale-100":"opacity-0 rotate-y-180 scale-95"),style:{transform:a?"rotateY(0deg) scale(1)":"rotateY(-180deg) scale(0.95)",backfaceVisibility:"hidden"},children:(0,Ff.jsxs)("div",{className:"text-center",children:[(0,Ff.jsx)("p",{className:"text-2xl font-semibold mb-4",children:n}),(0,Ff.jsxs)("p",{className:"text-sm italic text-violet-100 dark:text-violet-200 mb-4 leading-relaxed",children:['"',i,'"']}),(0,Ff.jsx)("button",{onClick:e=>{e.stopPropagation(),s(t)},className:"px-6 py-2 bg-white text-violet-600 rounded-full font-medium hover:bg-gray-100 transition-all duration-200 transform hover:scale-105 shadow-md",children:"\u2713 \xd6\u011frendim"})]})})]})})},Hv=e=>{let{userId:t,db:n,firebaseAppId:i,saveProgress:s}=e;const[a,o]=(0,r.useState)([]),[l,c]=(0,r.useState)(0),[u,d]=(0,r.useState)(!0),[h,f]=(0,r.useState)(""),[p,m]=(0,r.useState)(!1),g=(0,r.useMemo)(()=>t&&n?eh(n,`artifacts/${i}/users/${t}/progress/userProgress`):null,[t,n,i]),y=async()=>{m(!0),f("YDS'ye y\xf6nelik yeni kelimeler \xfcretiliyor..."),console.log("AI'dan kelime \xe7ekme ba\u015flat\u0131ld\u0131.");try{const t={contents:[{role:"user",parts:[{text:'YDS s\u0131nav\u0131na haz\u0131rlananlar i\xe7in 5 adet ileri seviye \u0130ngilizce kelime, T\xfcrk\xe7e anlamlar\u0131 ve \u0130ngilizce \xf6rnek c\xfcmleleri ile birlikte JSON format\u0131nda listele. JSON yap\u0131s\u0131 \u015fu \u015fekilde olmal\u0131: [{"word": "kelime", "meaning": "anlam\u0131", "example": "\xf6rnek c\xfcmle"}]. \xd6rnek c\xfcmleler kelimenin akademik kullan\u0131m\u0131n\u0131 yans\u0131tmal\u0131.'}]}],generationConfig:{responseMimeType:"application/json",responseSchema:{type:"ARRAY",items:{type:"OBJECT",properties:{word:{type:"STRING"},meaning:{type:"STRING"},example:{type:"STRING"}},propertyOrdering:["word","meaning","example"]}}}},n=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyCSuzlRr7AmF59CsaNC9S5Asa-U9Rpx7Mo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){var e;const t=await n.json();throw new Error(`API hatas\u0131: ${n.status} - ${(null===(e=t.error)||void 0===e?void 0:e.message)||"Bilinmeyen hata"}`)}const r=await n.json();if(console.log("AI'dan gelen ham yan\u0131t:",r),r.candidates&&r.candidates.length>0&&r.candidates[0].content&&r.candidates[0].content.parts&&r.candidates[0].content.parts.length>0){const e=r.candidates[0].content.parts[0].text,t=JSON.parse(e);if(Array.isArray(t)&&t.length>0)return o(t),c(0),f("Yeni kelimeler ba\u015far\u0131yla \xfcretildi!"),console.log("AI taraf\u0131ndan \xfcretilen kelimeler:",t),t;throw new Error("Yapay zekadan ge\xe7erli kelime listesi al\u0131namad\u0131.")}throw new Error("Yapay zekadan beklenen yan\u0131t format\u0131 al\u0131namad\u0131.")}catch(t){return console.error("Yapay zekadan kelime \xe7ekilirken hata:",t),f(`Kelime \xfcretme hatas\u0131: ${t.message}. L\xfctfen tekrar deneyin.`),o([]),[]}finally{m(!1),d(!1)}};(0,r.useEffect)(()=>{if(console.log("WordCardDisplay useEffect triggered for data fetching."),!g)return console.log("userProgressDocRef is null. Setting isLoading to false and skipping fetch."),void d(!1);console.log("Setting up onSnapshot listener for user progress.");const e=lf(g,async e=>{console.log("onSnapshot callback triggered.");let t=[];if(e.exists()){const n=e.data();t=n.learnedWords||[],console.log("Firestore data received. Learned words:",t)}else{console.log("User progress document not found. Creating initial document.");const e={reading:{correct:0,total:0},learnedWords:[],activities:[]};await rf(g,e),console.log("Initial progress document created.")}if(0!==a.length||p){if(a.length>0){const e=a.filter(e=>!t.includes(e.word));o(e),l>=e.length&&c(0)}}else{console.log("No words to learn or initial load. Fetching new words from AI.");const e=await y();if(e&&e.length>0){const n=e.filter(e=>!t.includes(e.word));o(n),c(0),0===n.length&&f("\xdcretilen t\xfcm kelimeler zaten \xf6\u011frenilmi\u015f. Yeni kelime \xfcretmeyi deneyin.")}else t.length>0&&o([])}d(!1),console.log("isLoading set to false after onSnapshot callback.")},e=>{console.error("Error loading words or setting up snapshot:",e),f("Kelimeler y\xfcklenirken hata olu\u015ftu."),d(!1),o([]),console.log("isLoading set to false after onSnapshot error.")});return()=>{console.log("Cleaning up onSnapshot listener."),e()}},[g,p,a.length]);(0,r.useEffect)(()=>{if(h){const e=setTimeout(()=>{f("")},3e3);return()=>clearTimeout(e)}},[h]);return u||p?(0,Ff.jsxs)("div",{className:"flex justify-center items-center h-full min-h-[400px]",children:[(0,Ff.jsx)(yf,{className:"animate-spin text-violet-500",size:32}),(0,Ff.jsx)("p",{className:"ml-2 text-lg",children:p?"Yapay zeka kelimeler \xfcretiyor...":"Kelimeler Y\xfckleniyor..."})]}):(0,Ff.jsxs)("div",{className:"p-8 animate-fade-in flex flex-col items-center justify-center min-h-[calc(100vh-64px)]",children:[(0,Ff.jsxs)("h2",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center",children:[(0,Ff.jsx)(Sf,{className:"mr-3 text-violet-600",size:32}),"Kelime Kartlar\u0131"]}),a.length>0&&a[l]?(0,Ff.jsxs)(Ff.Fragment,{children:[(0,Ff.jsx)("div",{className:"mb-4 text-center",children:(0,Ff.jsxs)("p",{className:"text-slate-600 dark:text-slate-400",children:[l+1," / ",a.length," kelime"]})}),(0,Ff.jsx)($v,{word:a[l].word,meaning:a[l].meaning,example:a[l].example,onMarkAsLearned:async e=>{if(g){f(`"${e}" \xf6\u011frenildi olarak i\u015faretleniyor...`);try{s&&await s({learnedWords:hf(e),activities:hf({text:`"${e}" kelimesini \xf6\u011frendiniz.`,timestamp:new Date})}),f(`"${e}" ba\u015far\u0131yla \xf6\u011frenildi olarak i\u015faretlendi!`),o(t=>t.filter(t=>t.word!==e)),c(t=>{const n=t;return n>=a.filter(t=>t.word!==e).length&&a.filter(t=>t.word!==e).length>0||0===a.filter(t=>t.word!==e).length?0:n}),setTimeout(()=>{0===a.filter(t=>t.word!==e).length?(f("T\xfcm kelimeleri \xf6\u011frendiniz. Yeni kelimeler \xfcretiliyor..."),y()):f("")},500)}catch(t){console.error("Error marking word as learned:",t),f("Kaydetme hatas\u0131: "+t.message)}}else f("Kullan\u0131c\u0131 oturumu a\xe7\u0131k de\u011fil veya veritaban\u0131 haz\u0131r de\u011fil.")}}),(0,Ff.jsxs)("div",{className:"mt-8 flex space-x-4",children:[(0,Ff.jsxs)("button",{onClick:()=>{l<a.length-1?c(l+1):(f("T\xfcm kelimeleri g\xf6zden ge\xe7irdiniz. Yeni kelimeler \xfcretiliyor..."),y())},className:"py-3 px-6 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-full shadow-md transition duration-300 ease-in-out transform hover:scale-105 flex items-center justify-center",children:[(0,Ff.jsx)(Tf,{size:20,className:"mr-2"}),"Sonraki Kelime"]}),(0,Ff.jsxs)("button",{onClick:y,disabled:p,className:"py-3 px-6 bg-sky-600 hover:bg-sky-700 disabled:bg-sky-400 text-white font-semibold rounded-full shadow-md transition duration-300 ease-in-out transform hover:scale-105 flex items-center justify-center",children:[p?(0,Ff.jsx)(yf,{className:"animate-spin mr-2",size:20}):(0,Ff.jsx)(Bv,{size:20,className:"mr-2"}),p?"\xdcretiliyor...":"Yeni Kelimeler \xdcret"]})]})]}):(0,Ff.jsxs)("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border border-violet-100 dark:border-slate-700 text-center",children:[(0,Ff.jsx)("p",{className:"text-slate-500 dark:text-slate-400 text-lg mb-4",children:u?"Kelimeler Y\xfckleniyor...":"\xd6\u011frenilecek kelime yok veya yeni kelimeler \xfcretiliyor."}),!u&&0===a.length&&(0,Ff.jsxs)(Ff.Fragment,{children:[(0,Ff.jsx)("p",{className:"text-slate-600 dark:text-slate-300 text-sm mb-4",children:"Yeni kelimeler \xfcretmek veya \xf6\u011frenilen kelimeleri s\u0131f\u0131rlay\u0131p tekrar ba\u015flamak i\xe7in a\u015fa\u011f\u0131daki butona t\u0131klayabilirsiniz."}),(0,Ff.jsxs)("button",{onClick:async()=>{if(g&&s){f("Kelime listesi s\u0131f\u0131rlan\u0131yor ve yeni kelimeler \xfcretiliyor...");try{await s({learnedWords:[]}),await y(),f("Kelime listesi s\u0131f\u0131rland\u0131 ve yeni kelimeler \xfcretildi!")}catch(e){console.error("Error resetting words or fetching new ones:",e),f("S\u0131f\u0131rlama veya kelime \xfcretme hatas\u0131: "+e.message)}}},disabled:p,className:"py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-full transition duration-300 transform hover:scale-105 flex items-center justify-center",children:[p?(0,Ff.jsx)(yf,{className:"animate-spin mr-2",size:20}):(0,Ff.jsx)(Bv,{size:20,className:"mr-2"}),p?"\xdcretiliyor...":"Tekrar Ba\u015fla / Yeni \xdcret"]})]})]}),h&&(0,Ff.jsx)("div",{className:"mt-4 p-3 text-sm rounded-lg bg-blue-100 text-blue-700 dark:bg-blue-800 dark:text-blue-200 text-center max-w-md",children:h})]})},Kv=gf("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Wv=e=>{let{userId:t,db:n,firebaseAppId:i}=e;const[s,a]=(0,r.useState)([]),[o,l]=(0,r.useState)({id:null,title:"",content:""}),[c,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(""),y=(0,r.useMemo)(()=>t&&n?Zd(n,`artifacts/${i}/users/${t}/notes`):null,[t,n,i]),v=(0,r.useMemo)(()=>m?s.filter(e=>e.title.toLowerCase().includes(m.toLowerCase())||e.content.toLowerCase().includes(m.toLowerCase())):s,[s,m]);(0,r.useEffect)(()=>{(async()=>{if(y){u(!0);try{const e=function(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Uh&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof qh).length,n=e.filter(e=>e instanceof Bh).length;if(t>1||t>0&&n>0)throw new Qi(Yi.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}(y,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=zh("orderBy",e);return $h._create(n,t)}("createdAt","desc")),t=(await nf(e)).docs.map(e=>({id:e.id,...e.data()}));a(t),p("")}catch(e){console.error("Error loading notes:",e),p("Notlar y\xfcklenirken hata olu\u015ftu.")}finally{u(!1)}}else u(!1)})()},[y]),(0,r.useEffect)(()=>{if(f){const e=setTimeout(()=>{p("")},3e3);return()=>clearTimeout(e)}},[f]);const b=e=>{l({id:e.id,title:e.title,content:e.content}),p("")},w=e=>{if(!e)return"";return(e.toDate?e.toDate():new Date(e)).toLocaleDateString("tr-TR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return c?(0,Ff.jsxs)("div",{className:"flex justify-center items-center h-full min-h-[400px]",children:[(0,Ff.jsx)(yf,{className:"animate-spin text-violet-500",size:32}),(0,Ff.jsx)("p",{className:"ml-2 text-lg",children:"Notlar Y\xfckleniyor..."})]}):(0,Ff.jsxs)("div",{className:"p-8 animate-fade-in flex flex-col lg:flex-row gap-8 h-full",children:[(0,Ff.jsxs)("div",{className:"w-full lg:w-1/3 bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6 border border-violet-100 dark:border-slate-700 flex flex-col",children:[(0,Ff.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Ff.jsxs)("h3",{className:"text-2xl font-semibold text-slate-700 dark:text-white flex items-center",children:[(0,Ff.jsx)(Sf,{className:"mr-2 text-sky-500",size:24}),"Notlar\u0131m (",s.length,")"]})}),(0,Ff.jsxs)("div",{className:"mb-4 space-y-3",children:[(0,Ff.jsxs)("div",{className:"relative",children:[(0,Ff.jsx)(Kv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),(0,Ff.jsx)("input",{type:"text",placeholder:"Notlarda ara...",value:m,onChange:e=>g(e.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-violet-500"})]}),(0,Ff.jsxs)("button",{onClick:()=>{l({id:null,title:"",content:""}),p("")},className:"w-full py-2 px-4 bg-violet-600 hover:bg-violet-700 text-white font-semibold rounded-full shadow-md transition duration-300 ease-in-out flex items-center justify-center",children:[(0,Ff.jsx)(Bf,{size:20,className:"mr-2"}),"Yeni Not Ekle"]})]}),(0,Ff.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Ff.jsx)("ul",{className:"space-y-3",children:v.length>0?v.map(e=>(0,Ff.jsxs)("li",{className:"bg-slate-50 dark:bg-slate-700 p-4 rounded-lg shadow-sm hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors cursor-pointer border-l-4 "+(o.id===e.id?"border-violet-500 bg-violet-50 dark:bg-violet-900/20":"border-transparent"),onClick:()=>b(e),children:[(0,Ff.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Ff.jsx)("h4",{className:"font-semibold text-lg text-slate-800 dark:text-slate-100 line-clamp-1",children:e.title}),(0,Ff.jsxs)("div",{className:"flex space-x-1 ml-2",children:[(0,Ff.jsx)("button",{onClick:t=>{t.stopPropagation(),b(e)},className:"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-200 p-1",title:"D\xfczenle",children:(0,Ff.jsx)(Mv,{size:16})}),(0,Ff.jsx)("button",{onClick:r=>{r.stopPropagation(),(async e=>{if(y){if(window.confirm("Bu notu silmek istedi\u011finizden emin misiniz?")){p("Siliniyor...");try{await af(eh(n,`artifacts/${i}/users/${t}/notes`,e)),a(t=>t.filter(t=>t.id!==e)),p("Not ba\u015far\u0131yla silindi!"),o.id===e&&l({id:null,title:"",content:""})}catch(r){console.error("Error deleting note:",r),p("Silme hatas\u0131: "+r.message)}}}else p("Kullan\u0131c\u0131 oturumu a\xe7\u0131k de\u011fil veya veritaban\u0131 haz\u0131r de\u011fil.")})(e.id)},className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-200 p-1",title:"Sil",children:(0,Ff.jsx)(Uv,{size:16})})]})]}),(0,Ff.jsxs)("p",{className:"text-sm text-slate-500 dark:text-slate-300 line-clamp-2 mb-2",children:[e.content.substring(0,80),"..."]}),(0,Ff.jsxs)("div",{className:"flex items-center text-xs text-slate-400 dark:text-slate-500",children:[(0,Ff.jsx)(mv,{size:12,className:"mr-1"}),w(e.updatedAt||e.createdAt)]})]},e.id)):(0,Ff.jsx)("li",{className:"text-center py-8",children:(0,Ff.jsx)("p",{className:"text-slate-500 dark:text-slate-400",children:m?"Arama kriterinize uygun not bulunamad\u0131.":"Hen\xfcz notunuz yok. Yeni bir not ekleyin!"})})})})]}),(0,Ff.jsxs)("div",{className:"w-full lg:w-2/3 bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6 border border-violet-100 dark:border-slate-700 flex flex-col",children:[(0,Ff.jsxs)("h3",{className:"text-2xl font-semibold text-slate-700 dark:text-white mb-4 flex items-center",children:[(0,Ff.jsx)(Mv,{className:"mr-2 text-purple-500",size:24}),o.id?"Notu D\xfczenle":"Yeni Not Olu\u015ftur"]}),(0,Ff.jsx)("input",{type:"text",placeholder:"Not Ba\u015fl\u0131\u011f\u0131",value:o.title,onChange:e=>l({...o,title:e.target.value}),className:"w-full p-3 mb-4 rounded-lg border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-violet-500"}),(0,Ff.jsx)("textarea",{placeholder:"Not i\xe7eri\u011fi...",value:o.content,onChange:e=>l({...o,content:e.target.value}),className:"w-full flex-1 p-3 mb-4 rounded-lg border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-violet-500 resize-none min-h-[200px]"}),(0,Ff.jsxs)("button",{onClick:async()=>{if(!y)return void p("Kullan\u0131c\u0131 oturumu a\xe7\u0131k de\u011fil veya veritaban\u0131 haz\u0131r de\u011fil.");const e=o.title.trim(),r=o.content.trim();if(e&&r){h(!0),p("Kaydediliyor...");try{if(o.id){const s=eh(n,`artifacts/${i}/users/${t}/notes`,o.id);await sf(s,{title:e,content:r,updatedAt:df()}),a(t=>t.map(t=>t.id===o.id?{...t,title:e,content:r,updatedAt:new Date}:t)),p("Not ba\u015far\u0131yla g\xfcncellendi!")}else{const t={title:e,content:r,createdAt:df(),updatedAt:df()},n={id:(await of(y,t)).id,...t,createdAt:new Date,updatedAt:new Date};a(e=>[n,...e]),p("Not ba\u015far\u0131yla kaydedildi!")}l({id:null,title:"",content:""})}catch(s){console.error("Error saving note:",s),p("Kaydetme hatas\u0131: "+s.message)}finally{h(!1)}}else p("Ba\u015fl\u0131k ve i\xe7erik bo\u015f b\u0131rak\u0131lamaz.")},disabled:d||!o.title.trim()||!o.content.trim(),className:"w-full py-3 px-4 bg-violet-600 hover:bg-violet-700 disabled:bg-slate-400 disabled:cursor-not-allowed text-white font-semibold rounded-full shadow-md transition duration-300 ease-in-out flex items-center justify-center",children:[d?(0,Ff.jsx)(yf,{className:"animate-spin mr-2",size:20}):(0,Ff.jsx)(Ov,{size:20,className:"mr-2"}),d?"Kaydediliyor...":o.id?"Notu G\xfcncelle":"Notu Kaydet"]}),f&&(0,Ff.jsx)("div",{className:"mt-4 p-3 text-sm rounded-lg text-center "+(f.includes("hata")||f.includes("Hata")?"bg-red-100 text-red-700 dark:bg-red-800 dark:text-red-200":"bg-blue-100 text-blue-700 dark:bg-blue-800 dark:text-blue-200"),children:f})]})]})},Gv="https://yzta-bootcamp.onrender.com",Yv=["https://raw.githubusercontent.com/KadirEfeYazili/YZTA-Bootcamp/main/public/images/profile_pics/default_profile.png","https://raw.githubusercontent.com/KadirEfeYazili/YZTA-Bootcamp/main/public/images/profile_pics/Gemini_1.png","https://raw.githubusercontent.com/KadirEfeYazili/YZTA-Bootcamp/main/public/images/profile_pics/Gemini_2.png","https://raw.githubusercontent.com/KadirEfeYazili/YZTA-Bootcamp/main/public/images/profile_pics/Gemini_3.png","https://raw.githubusercontent.com/KadirEfeYazili/YZTA-Bootcamp/main/public/images/profile_pics/Gemini_4.png","https://raw.githubusercontent.com/KadirEfeYazili/YZTA-Bootcamp/main/public/images/profile_pics/Gemini_5.png","https://raw.githubusercontent.com/KadirEfeYazili/YZTA-Bootcamp/main/public/images/profile_pics/Gemini_6.png","https://raw.githubusercontent.com/KadirEfeYazili/YZTA-Bootcamp/main/public/images/profile_pics/Gemini_7.png","https://raw.githubusercontent.com/KadirEfeYazili/YZTA-Bootcamp/main/public/images/profile_pics/Gemini_8.png"];console.log("\ud83c\udfa8 PROFILE_PIC_NAMES dizisi:",Yv);const Qv=()=>{const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(null),[s,a]=(0,r.useState)(!1),[o,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(""),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(""),[y,v]=(0,r.useState)("initial"),[b,w]=(0,r.useState)(null),[k,x]=(0,r.useState)(""),[S,E]=(0,r.useState)({reading:{correct:0,total:0},learnedWords:[],activities:[]}),[_,T]=(0,r.useState)("dashboard"),[I,N]=(0,r.useState)(!1),[A,P]=(0,r.useState)(!0),[D,R]=(0,r.useState)(!0),[j,O]=(0,r.useState)(""),[L,M]=(0,r.useState)(""),[z,F]=(0,r.useState)(null),[U,V]=(0,r.useState)(Yv[0]),[B,q]=(0,r.useState)(!1),[$,H]=(0,r.useState)(""),[K,W]=(0,r.useState)({}),G=("undefined"!==typeof __initial_auth_token&&__initial_auth_token,async()=>{console.log("\ud83d\udd0d Profil resimlerini test ediliyor...");const e={};for(const n of Yv)try{const t=n;console.log(`\ud83d\udcf8 Test ediliyor: ${t}`);const r=new Image,i=new Promise((e,t)=>{r.onload=()=>{console.log(`\u2705 Ba\u015far\u0131l\u0131: ${n} y\xfcklendi`),e(!0)},r.onerror=()=>{console.error(`\u274c Hata: ${n} y\xfcklenemedi`),t(!1)}});r.src=t;const s=await i.catch(()=>!1);e[n]=s}catch(t){console.error(`\ud83d\udca5 ${n} test edilirken hata:`,t),e[n]=!1}return console.log("\ud83d\udcca Profil resmi y\xfckleme durumu:",e),W(e),e});(0,r.useEffect)(()=>{console.log("Dark mode useEffect \xe7al\u0131\u015ft\u0131. darkMode:",D),D?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[D]),(0,r.useEffect)(()=>{console.log("Auth durumu dinleyicisi ba\u015flat\u0131l\u0131yor...");(async()=>{const e=function(e,t,n,r){return C(e).onAuthStateChanged(t,n,r)}(Af,async e=>{if(t(e),e){i(e.uid),console.log("Kullan\u0131c\u0131 oturum a\xe7t\u0131:",e.uid,e.email),M(e.email);try{const t=await e.getIdToken(),n=await J("/users/me/","GET",t);O(`${n.name} ${n.surname}`),F(n.age),w(n);const r=n.profile_picture_url||Yv[0];V(r),console.log("\ud83d\udc64 Kullan\u0131c\u0131 profil bilgileri al\u0131nd\u0131:",n),console.log("\ud83d\uddbc\ufe0f Backend'den gelen profil resmi URL'si:",n.profile_picture_url),console.log("\ud83d\uddbc\ufe0f Kullan\u0131lacak profil resmi URL'si:",r)}catch(n){console.error("Kullan\u0131c\u0131 profil bilgileri al\u0131n\u0131rken hata:",n),O(e.email),F(null),w(null),V(Yv[0])}}else i(null),v("initial"),l(""),u(""),h(""),p(""),g(""),O(""),M(""),F(null),w(null),V(Yv[0]),console.log("Kullan\u0131c\u0131 oturumu kapand\u0131.");a(!0),console.log("isAuthReady true olarak ayarland\u0131.")})})()},[]),(0,r.useEffect)(()=>{s&&(console.log("\ud83d\ude80 Uygulama haz\u0131r, profil resimleri test ediliyor..."),G())},[s]),(0,r.useEffect)(()=>{B&&(console.log("\ud83c\udfad Profil resmi modal\u0131 a\xe7\u0131ld\u0131, resimler test ediliyor..."),G())},[B]);const Y=async t=>{if(n&&e)try{const n=await e.getIdToken();console.log("\ud83d\udd04 Profil g\xfcncelleme iste\u011fi g\xf6nderiliyor:",t);const r=await J("/users/me","PUT",n,t);console.log("\ud83d\udce5 Backend'den gelen g\xfcncelleme yan\u0131t\u0131:",r),w(e=>({...e,...r})),O(`${r.name} ${r.surname}`),M(r.email),F(r.age),r.profile_picture_url?(V(r.profile_picture_url),console.log("\ud83d\uddbc\ufe0f Profil resmi g\xfcncellendi:",r.profile_picture_url)):console.log("\u26a0\ufe0f Backend'den profil resmi URL'si gelmedi, mevcut URL korunuyor:",U),console.log("\u2705 Profil ba\u015far\u0131yla g\xfcncellendi:",r)}catch(r){console.error("\u274c Profil g\xfcncellenemedi:",r),x("Profil g\xfcncellenirken bir hata olu\u015ftu: "+r.message)}else x("Profil g\xfcncellenemedi: Kullan\u0131c\u0131 oturumu a\xe7\u0131k de\u011fil.")};(0,r.useEffect)(()=>{if(console.log("Firestore dinleyicisi useEffect \xe7al\u0131\u015ft\u0131. Durum: db:",!!Pf,"userId:",!!n,"isAuthReady:",s),!Pf||!n||!s)return void console.log("Firestore dinleyicisi ba\u015flat\u0131lamad\u0131: db, userId veya isAuthReady haz\u0131r de\u011fil.");const e=eh(Pf,`artifacts/${Nf.appId}/users/${n}/progress/userProgress`);console.log("Firestore belge yolu:",e.path);const t=lf(e,t=>{if(t.exists()){var n;const e=t.data();console.log("Firestore'dan kullan\u0131c\u0131 ilerlemesi al\u0131nd\u0131:",e);const r=(null===(n=e.activities)||void 0===n?void 0:n.map(e=>{var t,n;return{...e,timestamp:(null===(t=e.timestamp)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t))||new Date}}))||[];E({reading:e.reading||{correct:0,total:0},learnedWords:e.learnedWords||[],activities:r})}else console.log("Kullan\u0131c\u0131 ilerleme belgesi Firestore'da bulunamad\u0131. Yeni belge olu\u015fturuluyor..."),rf(e,{reading:{correct:0,total:0},learnedWords:[],activities:[]}).then(()=>{console.log("Ba\u015flang\u0131\xe7 ilerlemesi ba\u015far\u0131yla ayarland\u0131."),E({reading:{correct:0,total:0},learnedWords:[],activities:[]})}).catch(e=>console.error("Ba\u015flang\u0131\xe7 ilerlemesi ayarlan\u0131rken hata:",e))},e=>{console.error("Kullan\u0131c\u0131 ilerlemesi dinlenirken hata:",e),x("\u0130lerleme y\xfcklenirken hata olu\u015ftu: "+e.message)});return()=>{t(),console.log("Firestore dinleyicisi temizlendi.")}},[Pf,n,s,Nf.appId]),(0,r.useEffect)(()=>{const e="berkeiou@outlook.com";s?(async()=>{if(Af)try{console.log(`>> TEST: "${e}" i\xe7in giri\u015f y\xf6ntemleri kontrol ediliyor...`);const t=await ar(Af,e);console.log(`>> TEST: "${e}" i\xe7in giri\u015f y\xf6ntemleri yan\u0131t\u0131:`,t),t&&t.length>0?console.log(`>> TEST: "${e}" Firebase Auth'ta KAYITLI.`):console.log(`>> TEST: "${e}" Firebase Auth'ta KAYITLI DE\u011e\u0130L.`)}catch(t){console.error(`>> TEST: "${e}" kontrol edilirken hata:`,t)}else console.warn(">> TEST: Auth objesi hen\xfcz tan\u0131ml\u0131 de\u011fil. Firebase ba\u015flat\u0131lmam\u0131\u015f olabilir.")})():console.log(">> TEST: isAuthReady hen\xfcz true de\u011fil, test bekletiliyor.")},[s]);const Q=async e=>{if(console.log("Firestore'a ilerleme kaydetme \xe7a\u011fr\u0131ld\u0131. Yeni ilerleme:",e),!Pf||!n)return x("\u0130lerleme kaydedilemedi: Kullan\u0131c\u0131 oturumu a\xe7\u0131k de\u011fil veya veritaban\u0131 haz\u0131r de\u011fil."),void console.error("\u0130lerleme kaydedilemedi: db veya userId eksik.");const t=eh(Pf,`artifacts/${Nf.appId}/users/${n}/progress/userProgress`);try{await sf(t,e),console.log("\u0130lerleme ba\u015far\u0131yla g\xfcncellendi.")}catch(r){"not-found"===r.code?(console.warn("\u0130lerleme belgesi bulunamad\u0131, yeni belge olu\u015fturuluyor..."),await rf(t,e,{merge:!0}),console.log("Yeni ilerleme belgesi olu\u015fturuldu ve kaydedildi.")):(console.error("\u0130lerleme g\xfcncellenirken hata:",r),x("\u0130lerleme kaydedilirken hata olu\u015ftu: "+r.message))}},X=async e=>{console.log(`"${e}" kelimesi \xf6\u011frenilenlerden kald\u0131r\u0131l\u0131yor.`),await Q({learnedWords:ff(e),activities:hf({text:`"${e}" kelimesini \xf6\u011frenilenlerden \xe7\u0131kard\u0131n\u0131z.`,timestamp:new Date})}),console.log(`"${e}" kelimesi kald\u0131rma i\u015flemi tamamland\u0131.`)},J=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;console.log(`API \xe7a\u011fr\u0131s\u0131: ${t} ${Gv}${e}`);const i={"Content-Type":"application/json"};n&&(i.Authorization=`Bearer ${n}`,console.log("API \xe7a\u011fr\u0131s\u0131 i\xe7in token mevcut."));const s={method:t,headers:i};r&&(s.body=JSON.stringify(r),console.log("API \xe7a\u011fr\u0131s\u0131 body:",r));try{const t=await fetch(`${Gv}${e}`,s);if(!t.ok){let e;try{e=await t.json()}catch(a){throw console.error("API yan\u0131t\u0131 JSON olarak ayr\u0131\u015ft\u0131r\u0131lamad\u0131:",a),new Error(`API hatas\u0131: ${t.status} ${t.statusText||""}. Sunucudan JSON olmayan yan\u0131t.`)}throw console.error("API yan\u0131t\u0131 OK de\u011fil:",t.status,e.detail),new Error(e.detail||`API hatas\u0131: ${t.status}`)}const n=await t.json();return console.log("API yan\u0131t\u0131:",n),console.log("API \xe7a\u011fr\u0131s\u0131 ba\u015far\u0131l\u0131."),n}catch(o){throw console.error("API \xc7a\u011fr\u0131s\u0131 Hatas\u0131:",o),o instanceof TypeError&&"Failed to fetch"===o.message?new Error("A\u011f hatas\u0131: Sunucuya ula\u015f\u0131lamad\u0131. Backend'in \xe7al\u0131\u015f\u0131p \xe7al\u0131\u015fmad\u0131\u011f\u0131n\u0131 ve adresin do\u011fru olup olmad\u0131\u011f\u0131n\u0131 kontrol edin."):o}};return s?(0,Ff.jsx)("div",{className:(D?"dark":"")+" flex h-screen bg-violet-50 dark:bg-slate-900 text-slate-800 dark:text-slate-100 font-sans",children:e?(0,Ff.jsxs)(Ff.Fragment,{children:[(0,Ff.jsxs)("aside",{className:"bg-white/80 dark:bg-slate-800 backdrop-blur-lg p-4 flex flex-col border-r border-violet-100 dark:border-slate-700 transition-width duration-300 ease-in-out",style:{width:A?"16rem":"6rem"},children:[(0,Ff.jsx)("div",{className:"flex items-center mb-8 px-2 cursor-pointer justify-center",onClick:()=>P(e=>!e),children:(0,Ff.jsx)("img",{src:"https://raw.githubusercontent.com/KadirEfeYazili/YZTA-Bootcamp/refs/heads/main/public/images/PrepmateLogo.png",alt:"PrepMate Logo",className:"w-13 h-8 object-contain transition-transform hover:scale-105 duration-200"})}),(0,Ff.jsx)("button",{onClick:()=>{R(e=>{const t=!e;return console.log("Dark mode toggled. Previous:",e,"New:",t),t})},className:"mb-4 px-4 py-2 flex items-center space-x-2 bg-violet-500 text-white rounded hover:bg-violet-600 transition duration-200",children:D?(0,Ff.jsxs)(Ff.Fragment,{children:[(0,Ff.jsx)(vf,{size:18}),A&&(0,Ff.jsx)("span",{children:"A\xe7\u0131k Moda Ge\xe7"})]}):(0,Ff.jsxs)(Ff.Fragment,{children:[(0,Ff.jsx)(bf,{size:18}),A&&(0,Ff.jsx)("span",{children:"Koyu Moda Ge\xe7"})]})}),(0,Ff.jsxs)("nav",{className:"flex flex-col space-y-2",children:[(0,Ff.jsx)(Tv,{tabName:"profile",icon:(0,Ff.jsx)(wf,{className:"mr-3",size:18}),activeTab:_,setActiveTab:T,isSidebarOpen:A,children:"Profilim"}),(0,Ff.jsx)(Tv,{tabName:"dashboard",icon:(0,Ff.jsx)(kf,{className:"mr-3",size:18}),activeTab:_,setActiveTab:T,isSidebarOpen:A,children:"\u0130lerleme Paneli"}),(0,Ff.jsx)(Tv,{tabName:"word",icon:(0,Ff.jsx)(xf,{className:"mr-3",size:18}),activeTab:_,setActiveTab:T,isSidebarOpen:A,children:"Kelime Kar\u015f\u0131la\u015ft\u0131rma"}),(0,Ff.jsx)(Tv,{tabName:"reading",icon:(0,Ff.jsx)(Sf,{className:"mr-3",size:18}),activeTab:_,setActiveTab:T,isSidebarOpen:A,children:"Okuma Al\u0131\u015ft\u0131rmas\u0131"}),(0,Ff.jsx)(Tv,{tabName:"notifications",icon:(0,Ff.jsx)(Ef,{className:"mr-3",size:18}),activeTab:_,setActiveTab:T,isSidebarOpen:A,children:"G\xfcnl\xfck Bildirimler"}),(0,Ff.jsx)(Tv,{tabName:"notebook",icon:(0,Ff.jsx)(_f,{className:"mr-3",size:18}),activeTab:_,setActiveTab:T,isSidebarOpen:A,children:"Not Defteri"}),(0,Ff.jsxs)("button",{onClick:async()=>{x("\xc7\u0131k\u0131\u015f yap\u0131l\u0131yor..."),console.log("\xc7\u0131k\u0131\u015f yap butonu t\u0131kland\u0131.");try{await or(Af),x("Ba\u015far\u0131yla \xe7\u0131k\u0131\u015f yap\u0131ld\u0131."),console.log("Firebase oturumu ba\u015far\u0131yla kapat\u0131ld\u0131.")}catch(e){console.error("\xc7\u0131k\u0131\u015f Hatas\u0131:",e),x("\xc7\u0131k\u0131\u015f yaparken hata olu\u015ftu: "+e.message)}},className:"flex items-center w-full py-2 px-4 rounded-lg text-red-600 hover:bg-red-100 dark:hover:bg-red-900 transition-colors duration-200",children:[(0,Ff.jsx)(Tf,{className:"mr-3",size:18})," ",A&&(0,Ff.jsx)("span",{children:"\xc7\u0131k\u0131\u015f Yap"})]})]})]}),(0,Ff.jsxs)("main",{className:"flex-1 overflow-y-auto bg-violet-50 dark:bg-slate-900 text-slate-800 dark:text-slate-100",children:[k&&(0,Ff.jsx)("div",{className:"mb-4 p-3 bg-blue-100 text-blue-800 rounded-lg text-center",children:k}),(()=>{switch(_){case"dashboard":default:return(0,Ff.jsx)(Uf,{userProgress:S,handleRemoveLearnedWord:X,WordCardDisplay:Hv,QuizComponent:Pv,MindMapper:xv,saveProgress:Q,userId:n,db:Pf,firebaseAppId:Nf.appId});case"word":return(0,Ff.jsx)(hv,{userProgress:S,saveProgress:Q,db:Pf,userId:n,firebaseAppId:Nf.appId});case"reading":return(0,Ff.jsx)(kv,{userProgress:S,saveProgress:Q});case"mindmap":return(0,Ff.jsx)(xv,{saveProgress:Q});case"quiz":return(0,Ff.jsx)(Pv,{});case"profile":return(0,Ff.jsx)(zv,{userName:null!==b&&void 0!==b&&b.name&&null!==b&&void 0!==b&&b.surname?`${b.name} ${b.surname}`:(null===e||void 0===e?void 0:e.displayName)||"Misafir Kullan\u0131c\u0131",userEmail:(null===b||void 0===b?void 0:b.email)||(null===e||void 0===e?void 0:e.email)||"Bilgi Yok",userAge:null===b||void 0===b?void 0:b.age,userGender:(null===b||void 0===b?void 0:b.gender)||"Belirtilmemi\u015f",userProfilePicture:U,onSave:Y,onOpenProfilePicModal:()=>{q(!0),H(U.split("/").pop())}});case"notifications":return(0,Ff.jsx)(Vv,{userId:n,db:Pf,firebaseAppId:Nf.appId});case"word-cards":return(0,Ff.jsx)(Hv,{userId:n,db:Pf,firebaseAppId:Nf.appId,saveProgress:Q});case"notebook":return(0,Ff.jsx)(Wv,{userId:n,db:Pf,firebaseConfig:Nf});case"chat":return(0,Ff.jsx)(_v,{currentUser:e,userId:n})}})()]}),!I&&(0,Ff.jsx)("button",{onClick:()=>N(!0),className:"fixed bottom-8 right-8 z-40 bg-sky-500 hover:bg-sky-600 text-white p-4 rounded-full shadow-lg transition-all transform hover:scale-110 focus:outline-none ring-4 ring-white/30",children:(0,Ff.jsx)("img",{src:"https://raw.githubusercontent.com/KadirEfeYazili/YZTA-Bootcamp/refs/heads/main/public/images/avatar.png",alt:"Chat A\xe7",className:"w-8 h-8"})}),I&&(0,Ff.jsxs)("div",{className:"fixed top-0 right-4 z-50 bg-violet-50 dark:bg-slate-800 rounded-l-2xl shadow-2xl h-screen flex flex-col",style:{width:"480px",maxWidth:"35vw",minWidth:"320px"},children:[(0,Ff.jsx)("button",{onClick:()=>N(!1),className:"absolute top-3 left-3 text-slate-400 hover:text-slate-800 dark:hover:text-slate-100 z-10",children:(0,Ff.jsx)(Tf,{size:28})}),(0,Ff.jsx)("div",{className:"flex-1 overflow-auto p-2",children:(0,Ff.jsx)(_v,{saveProgress:Q})})]}),B&&(0,Ff.jsx)("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-75 backdrop-blur-sm flex justify-center items-center z-50",children:(0,Ff.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-lg relative",children:[(0,Ff.jsx)("button",{onClick:()=>q(!1),className:"absolute top-3 right-3 text-slate-400 hover:text-slate-600 dark:hover:text-slate-100",children:(0,Ff.jsx)(Tf,{size:24})}),(0,Ff.jsx)("h3",{className:"text-xl font-semibold mb-4 text-center",children:"Profil Resmi Se\xe7"}),(0,Ff.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-6 text-center",children:"Profil resminizi de\u011fi\u015ftirmek i\xe7in a\u015fa\u011f\u0131daki resimlerden birini se\xe7in."}),(0,Ff.jsx)("div",{className:"grid grid-cols-3 gap-4 max-h-80 overflow-y-auto pr-2",children:Yv.map(e=>(0,Ff.jsxs)("div",{className:"relative w-24 h-24 rounded-full overflow-hidden border-2 cursor-pointer transition-all duration-200 ease-in-out\n                        "+($===e?"border-violet-500 ring-4 ring-violet-300":"border-transparent hover:border-violet-400"),onClick:()=>(e=>{console.log("\ud83d\uddbc\ufe0f Profil resmi se\xe7ildi:",e),H(e)})(e),children:[(0,Ff.jsx)("img",{src:e,alt:e.split("/").pop().replace(".png","").replace(/_/g," "),className:"w-full h-full object-cover",onError:t=>{t.target.onerror=null,t.target.src=Yv[0],console.error(`\u274c Resim y\xfcklenemedi: ${e}`)}}),$===e&&(0,Ff.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-20",children:(0,Ff.jsx)("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Ff.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})]},e))}),(0,Ff.jsx)("button",{onClick:async()=>{if(!$)return x("L\xfctfen bir resim se\xe7in."),void console.warn("\u26a0\ufe0f Resim se\xe7ilmeden kaydetme denendi");const e=$;console.log("\ud83d\udcbe Yeni profil resmi kaydediliyor:",e);try{await Y({profile_picture_url:e}),V(e),x("Profil resmi ba\u015far\u0131yla g\xfcncellendi!"),q(!1),console.log("\u2705 Profil resmi ba\u015far\u0131yla g\xfcncellendi:",e)}catch(t){console.error("\u274c Profil resmi g\xfcncellenirken hata:",t),x("Profil resmi g\xfcncellenirken bir hata olu\u015ftu: "+t.message)}},className:"w-full mt-6 py-3 px-4 bg-green-500 hover:bg-green-600 text-white font-semibold rounded-full shadow-md transition duration-200 ease-in-out",children:"Se\xe7imi Onayla"})]})})]}):(0,Ff.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white text-gray-800 p-4 w-full",children:(0,Ff.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-none w-full max-w-md text-center",children:[(0,Ff.jsx)("h2",{className:"text-3xl font-normal text-gray-800 mb-8",children:"Prepmate'e ho\u015f geldin"}),k&&(0,Ff.jsx)("div",{className:"mb-4 p-3 text-sm rounded-lg bg-blue-100 text-blue-700 dark:bg-blue-800 dark:text-blue-200",children:k}),"initial"===y&&(0,Ff.jsxs)(Ff.Fragment,{children:[(0,Ff.jsx)("input",{type:"email",placeholder:"E-posta adresi",value:o,onChange:e=>l(e.target.value),className:"w-full p-3 mb-4 rounded-full border border-blue-300 bg-white text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,Ff.jsx)("input",{type:"password",placeholder:"\u015eifre",value:c,onChange:e=>u(e.target.value),className:"w-full p-3 mb-4 rounded-full border border-blue-300 bg-white text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,Ff.jsx)("button",{onClick:async()=>{x("Giri\u015f yap\u0131l\u0131yor..."),console.log("Giri\u015f Yap butonu t\u0131kland\u0131 (initial mode). E-posta:",o);try{if(!o||!c)return x("L\xfctfen e-posta ve \u015fifrenizi girin."),void console.warn("Giri\u015f i\xe7in e-posta veya \u015fifre bo\u015f.");console.log("Firebase Auth ile giri\u015f yap\u0131l\u0131yor..."),await function(e,t,n){return Ve(e.app)?Promise.reject(ft(e)):rr(C(e),Bn.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&sr(e),t})}(Af,o,c),x("Giri\u015f ba\u015far\u0131l\u0131!"),l(""),u(""),console.log("Giri\u015f i\u015flemi ba\u015far\u0131l\u0131, form temizlendi.")}catch(e){console.error("Giri\u015f Hatas\u0131 (initial mode):",e);let t="Giri\u015f hatas\u0131 olu\u015ftu.";"auth/invalid-credential"===e.code||"auth/user-not-found"===e.code||"auth/wrong-password"===e.code?t="Belirtilen e-posta adresi ve/veya \u015fifre do\u011fru de\u011fil.":"auth/invalid-email"===e.code?t="Ge\xe7ersiz e-posta adresi bi\xe7imi.":e.message&&(t=e.message),x(t)}},className:"w-full py-3 px-4 bg-gray-900 hover:bg-gray-700 text-white font-semibold rounded-full shadow-md transition duration-300 ease-in-out transform hover:scale-105",children:"Giri\u015f Yap"}),(0,Ff.jsx)("button",{onClick:()=>{v("forgotPassword"),x(""),l("")},className:"mt-2 text-sm text-blue-600 hover:text-blue-800 focus:outline-none",children:"\u015eifremi unuttum?"}),(0,Ff.jsxs)("p",{className:"mt-6 text-gray-600",children:["Hesab\u0131n yok mu?"," ",(0,Ff.jsx)("button",{onClick:()=>{v("signup"),x("")},className:"text-blue-600 hover:text-blue-800 font-semibold focus:outline-none",children:"Kaydol"})]}),(0,Ff.jsxs)("div",{className:"my-6 flex items-center",children:[(0,Ff.jsx)("hr",{className:"flex-grow border-t border-gray-300"}),(0,Ff.jsx)("span",{className:"px-3 text-gray-500 text-sm",children:"YADA"}),(0,Ff.jsx)("hr",{className:"flex-grow border-t border-gray-300"})]}),(0,Ff.jsxs)("button",{onClick:async()=>{x("Google ile giri\u015f yap\u0131l\u0131yor..."),console.log("Google ile giri\u015f butonu t\u0131kland\u0131.");try{const t=new Kn;console.log("Google pop-up a\xe7\u0131l\u0131yor...");const n=await async function(e,t,n){if(Ve(e.app))return Promise.reject(dt(e,"operation-not-supported-in-this-environment"));const r=wn(e);pt(e,t,qn);const i=Dr(r,n);return new Fr(r,"signInViaPopup",t,i).executeNotNull()}(Af,t),r=n.user;console.log("Google ile kullan\u0131c\u0131 giri\u015f yapt\u0131:",r.uid,r.email);const i=await r.getIdToken();console.log("Firebase ID Token al\u0131nd\u0131.");let s=!1;console.log("FastAPI'den kullan\u0131c\u0131 profili kontrol ediliyor...");try{await J("/users/me/","GET",i),s=!0,console.log("FastAPI'de profil bulundu.")}catch(e){if(!e.message.includes("404"))throw console.error("FastAPI profil kontrol\xfcnde ba\u015fka bir hata:",e),e;s=!1,console.log("FastAPI'de profil bulunamad\u0131 (404).")}if(s){x("Google ile giri\u015f ba\u015far\u0131l\u0131!"),console.log("Google ile mevcut kullan\u0131c\u0131 giri\u015f yapt\u0131:",r.uid);try{const e=await J("/users/me","GET",i);w(e),O(`${e.name} ${e.surname}`),M(e.email),F(e.age),V(e.profile_picture_url||"/images/profile_pics/default_profile.png"),console.log("Mevcut Google kullan\u0131c\u0131s\u0131n\u0131n profil bilgileri yenilendi:",e)}catch(e){console.error("Google kullan\u0131c\u0131s\u0131n\u0131n profil bilgileri al\u0131n\u0131rken hata:",e)}}else{const e=r.displayName?r.displayName.split(" ")[0]:"",t=r.displayName?r.displayName.split(" ").slice(1).join(" "):"";console.log("Yeni Google kullan\u0131c\u0131s\u0131. Ya\u015f isteniyor...");let n=prompt("Google ile ilk giri\u015finiz. L\xfctfen ya\u015f\u0131n\u0131z\u0131 girin:"),s=parseInt(n);if(console.log("Girilen ya\u015f:",n,"Parsed ya\u015f:",s),isNaN(s)||s<=0||s>120)return x("Ge\xe7erli bir ya\u015f girilmedi. Profil olu\u015fturulamad\u0131. L\xfctfen tekrar deneyin."),await or(Af),void console.warn("Ge\xe7ersiz ya\u015f girildi\u011fi i\xe7in Google oturumu kapat\u0131ld\u0131.");console.log("FastAPI backend'e yeni profil bilgileri g\xf6nderiliyor..."),await J("/users/initialize_profile/","POST",i,{name:e,surname:t,age:s,email:r.email}),x("Google ile ilk giri\u015finiz. Profiliniz olu\u015fturuldu!"),console.log("Google ile yeni kullan\u0131c\u0131 kaydoldu ve profili olu\u015fturuldu:",r.uid),w({name:e,surname:t,age:s,email:r.email,gender:"Belirtilmemi\u015f"}),O(`${e} ${t}`),M(r.email.toString()),F(s),V("/images/profile_pics/default_profile.png")}}catch(e){console.error("Google Giri\u015f Hatas\u0131:",e);let t="Google ile giri\u015f hatas\u0131 olu\u015ftu.";"auth/popup-closed-by-user"===e.code?t="Giri\u015f penceresi kapat\u0131ld\u0131.":e.message&&(t=e.message),x(t)}},className:"w-full py-3 px-4 bg-white border border-gray-300 text-gray-700 font-semibold rounded-full shadow-sm flex items-center justify-center gap-3 transition duration-300 ease-in-out transform hover:scale-110 focus:outline-none ring-4 ring-white/30",children:[(0,Ff.jsx)(If,{size:24,className:"text-gray-700"})," Google ile devam et"]})]}),"signup"===y&&(0,Ff.jsxs)(Ff.Fragment,{children:[(0,Ff.jsx)("input",{type:"email",placeholder:"E-posta adresiniz",value:o,onChange:e=>l(e.target.value),className:"w-full p-3 mb-4 rounded-full border border-blue-300 bg-white text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,Ff.jsx)("input",{type:"text",placeholder:"Ad\u0131n\u0131z",value:d,onChange:e=>h(e.target.value),className:"w-full p-3 mb-3 rounded-full border border-blue-300 bg-white text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,Ff.jsx)("input",{type:"text",placeholder:"Soyad\u0131n\u0131z",value:f,onChange:e=>p(e.target.value),className:"w-full p-3 mb-3 rounded-full border border-blue-300 bg-white text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,Ff.jsx)("input",{type:"number",placeholder:"Ya\u015f\u0131n\u0131z",value:m,onChange:e=>g(e.target.value),className:"w-full p-3 mb-3 rounded-full border border-blue-300 bg-white text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1",max:"120"}),(0,Ff.jsx)("input",{type:"password",placeholder:"\u015eifre (min 6 karakter)",value:c,onChange:e=>u(e.target.value),className:"w-full p-3 mb-4 rounded-full border border-blue-300 bg-white text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,Ff.jsx)("button",{onClick:async()=>{x("Kaydolunuyor..."),console.log("Kaydol butonu t\u0131kland\u0131. Bilgiler:",{name:d,surname:f,age:m,email:o});try{if(!d||!f||!m||!o||!c)return x("L\xfctfen t\xfcm alanlar\u0131 doldurun."),void console.warn("Kay\u0131t i\xe7in eksik alanlar var.");if(c.length<6)return x("\u015eifre en az 6 karakter olmal\u0131d\u0131r."),void console.warn("\u015eifre 6 karakterden k\u0131sa.");const e=parseInt(m);if(isNaN(e)||e<=0||e>120)return x("L\xfctfen ge\xe7erli bir ya\u015f girin (1-120 aras\u0131)."),void console.warn("Ge\xe7ersiz ya\u015f giri\u015fi:",m);console.log("Firebase Auth ile kullan\u0131c\u0131 olu\u015fturuluyor...");const t=await async function(e,t,n){if(Ve(e.app))return Promise.reject(ft(e));const r=wn(e),i=In(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yn),s=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&sr(e),t}),a=await Qn._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(Af,o,c),n=t.user;console.log("Firebase kullan\u0131c\u0131s\u0131 olu\u015fturuldu:",n.uid,n.email);const r=await n.getIdToken();console.log("Firebase ID Token al\u0131nd\u0131."),console.log("FastAPI backend'e profil bilgileri g\xf6nderiliyor..."),await J("/users/initialize_profile/","POST",r,{name:d,surname:f,age:e,email:o}),console.log("FastAPI profil olu\u015fturma ba\u015far\u0131l\u0131."),O(`${d} ${f}`),M(o),F(e),w({name:d,surname:f,age:e,email:o,gender:"Belirtilmemi\u015f"}),V("/images/profile_pics/default_profile.png"),x("Kay\u0131t ba\u015far\u0131l\u0131! Ho\u015f geldiniz, "+d+" "+f+"."),l(""),u(""),h(""),p(""),g(""),console.log("Kay\u0131t i\u015flemi tamamland\u0131, form temizlendi.")}catch(e){console.error("Kay\u0131t Hatas\u0131:",e);let t="Kay\u0131t hatas\u0131 olu\u015ftu.";"auth/email-already-in-use"===e.code?t="Bu e-posta adresi zaten kullan\u0131mda.":"auth/weak-password"===e.code?t="\u015eifre \xe7ok zay\u0131f.":e.message&&(t=e.message),x(t)}},className:"w-full py-3 px-4 bg-gray-900 hover:bg-gray-700 text-white font-semibold rounded-full shadow-md transition duration-300 ease-in-out transform hover:scale-105",children:"Kaydol"}),(0,Ff.jsx)("button",{onClick:()=>{v("initial"),u(""),x("")},className:"mt-4 text-sm text-blue-600 hover:text-blue-800 focus:outline-none",children:"Geri d\xf6n"})]}),"forgotPassword"===y&&(0,Ff.jsxs)(Ff.Fragment,{children:[(0,Ff.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"\u015eifremi S\u0131f\u0131rla"}),(0,Ff.jsx)("input",{type:"email",placeholder:"E-posta adresinizi girin",value:o,onChange:e=>l(e.target.value),className:"w-full p-3 mb-4 rounded-full border border-blue-300 bg-white text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,Ff.jsx)("button",{onClick:async()=>{x("\u015eifre s\u0131f\u0131rlama ba\u011flant\u0131s\u0131 g\xf6nderiliyor..."),console.log("\u015eifremi Unuttum butonu t\u0131kland\u0131. E-posta:",o);try{if(!o)return x("L\xfctfen e-posta adresinizi girin."),void console.warn("\u015eifre s\u0131f\u0131rlama i\xe7in e-posta bo\u015f.");await async function(e,t,n){const r=wn(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&ir(r,i,n),await In(r,i,"getOobCode",On)}(Af,o),x("\u015eifre s\u0131f\u0131rlama ba\u011flant\u0131s\u0131 e-posta adresinize g\xf6nderildi. L\xfctfen gelen kutunuzu kontrol edin."),l(""),console.log("\u015eifre s\u0131f\u0131rlama e-postas\u0131 ba\u015far\u0131yla g\xf6nderildi.")}catch(e){console.error("\u015eifre S\u0131f\u0131rlama Hatas\u0131:",e);let t="\u015eifre s\u0131f\u0131rlama hatas\u0131 olu\u015ftu.";"auth/user-not-found"===e.code?t="Bu e-posta adresine sahip bir kullan\u0131c\u0131 bulunamad\u0131.":"auth/invalid-email"===e.code?t="Ge\xe7ersiz e-posta adresi bi\xe7imi.":e.message&&(t=e.message),x(t)}},className:"w-full py-3 px-4 bg-gray-900 hover:bg-gray-700 text-white font-semibold rounded-full shadow-md transition duration-300 ease-in-out transform hover:scale-105",children:"\u015eifre S\u0131f\u0131rlama Ba\u011flant\u0131s\u0131 G\xf6nder"}),(0,Ff.jsx)("button",{onClick:()=>{v("initial"),x(""),l("")},className:"mt-4 text-sm text-blue-600 hover:text-blue-800 focus:outline-none",children:"Geri D\xf6n"})]})]})})}):(0,Ff.jsxs)("div",{className:"flex justify-center items-center h-screen bg-gray-900 text-gray-100",children:[(0,Ff.jsx)(yf,{className:"animate-spin text-indigo-500",size:48}),(0,Ff.jsx)("p",{className:"ml-3 text-lg",children:"Y\xfckleniyor..."})]})};i.createRoot(document.getElementById("root")).render((0,Ff.jsx)(r.StrictMode,{children:(0,Ff.jsx)(Qv,{})}))})()})();
//# sourceMappingURL=main.bc40a1b1.js.map